<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="Home.master.cs" Inherits="Sequoia_BE.Home" %>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    
<head id="Head_Home" runat="server">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SEQUOIA</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
        name="viewport">
    <!-- home css -->
    <link href="Css/master.css" rel="stylesheet" />
    "
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="bower_components/morris.js/morris.css">

    <!-- daterange picker -->
    <link rel="stylesheet" href="bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap datepicker -->
    <link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">

    <!-- iCheck for checkboxes and radio inputs -->
    <link rel="stylesheet" href="plugins/iCheck/all.css">
    <!-- Bootstrap Color Picker -->
    <link rel="stylesheet" href="bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">
    <!-- Bootstrap time Picker -->
    <link rel="stylesheet" href="plugins/timepicker/bootstrap-timepicker.min.css">
    <!-- DataTable-->
    <link rel="Stylesheet" href="bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css" />
    <!-- Select2 -->
    <link rel="stylesheet" href="bower_components/select2/dist/css/select2.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="dist/css/jquery.signaturepad.css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->


    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
   
    <style type="text/css">
        .select2-container--default .select2-selection--single, .select2-selection .select2-selection--single {
            border: 1px solid #8b7306;
            border-radius: 20px;
            padding: 6px 12px;
            height: 34px;
        }

        .input-group-prepend .input-group-text {
            border: 1px solid #D7CA93;
            background-color: #ffb26b;
            color: white;
            border-bottom-left-radius: 20px !important;
            border-top-left-radius: 20px !important;
        }

        .form-control-select2 {
            border-radius: 36px;
            display: inline-block;
            overflow: hidden;
            background: #cccccc;
            border: 1px solid #cccccc;
        }


        .input-group {
            border: 1px solid #D7CA93;
            border-bottom-left-radius: 0px !important;
            border-top-left-radius: 0px !important;
            border-bottom-right-radius: 20px !important;
            border-top-right-radius: 20px !important;
        }


        /*.input-group-append:nth-child(n):not(:last-child) {
    border: 1px solid #D7CA93;
    background-color: transparent!important;
    color: #D7CA93;
}*/

        .input-group-append .input-group-text {
            border: 1px solid #D7CA93;
            background-color: #ffb26b;
            color: white;
            border-bottom-right-radius: 20px !important;
            border-top-right-radius: 20px !important;
        }

        .form-control-select2 {
            border: 1px solid #D7CA93;
            border-bottom-left-radius: 20px !important;
            border-top-left-radius: 20px !important;
            border-bottom-right-radius: 20px !important;
            border-top-right-radius: 20px !important;
        }

        .form-control {
            border: 1px solid #D7CA93;
            border-bottom-left-radius: 20px !important;
            border-top-left-radius: 20px !important;
            border-bottom-right-radius: 20px !important;
            border-top-right-radius: 20px !important;
        }


            .form-control[readonly] {
                opacity: 1;
            }

        .mandatory-text {
            color: #b32121 !important;
            font-size: 1rem;
        }

        .no-right-radius {
            border-top: 1px solid #D7CA93;
            border-bottom: 1px solid #D7CA93;
            border-bottom-right-radius: 0px !important;
            border-top-right-radius: 0px !important;
        }

        .no-left-radius {
            border-top: 1px solid #D7CA93;
            border-bottom: 1px solid #D7CA93;
            border-bottom-left-radius: 0px !important;
            border-top-left-radius: 0px !important;
        }

        .custom-control-label::before {
            position: absolute;
            top: .25rem;
            left: 0;
            display: block;
            width: 1.3rem;
            height: 1.3rem;
            pointer-events: none;
            content: "";
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-color: #dee2e6;
        }

        .btn-primary {
            color: #fef7db;
            background-color: #ffb26b;
            border-color: #ffb26b;
            border-radius: 30px !important;
            font-weight: bold;
            font-size: 25px;
            padding: 10px 45px;
        }

        .btn-primary2 {
            color: #fef7db;
            background-color: #ffb26b;
            border-color: #ffb26b;
            border-radius: 30px !important;
            font-weight: bold;
            font-size: 14px;
            padding: 6px 12px;
        }

        .btn-lg {
            font-weight: 400 !important;
            font-size: smaller !important;
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .custom-control-label::after {
            position: absolute;
            top: .25rem;
            left: 0;
            display: block;
            width: 1.3rem;
            height: 1.3rem;
            content: " ";
            background-repeat: no-repeat;
            background-position: center center;
            background-size: 50% 60%;
        }

        .section {
            padding: 10px;
            -webkit-border-radius: 20%;
            -moz-border-radius: 20%;
            background-color: #ffffff;
            border-color: #ffb26b;
            border-radius: 20px !important;
        }

        .rounded {
            border-radius: 50%;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
        }


        .skin-blue .main-header .logo:hover {
            /*background-color: #bc9a07;*/
            background-color: #ffb26b;
        }

        .skin-blue .main-header .navbar {
            /*background-color: #8b7306;*/
            background-color: #ffb26b;
        }

        #removeImg {
            display: none;
        }

        /*a[aria-expanded=true] .fa-plus {
            display: none;
        }
        a[aria-expanded=false] .fa-minus {
            display: none;
        }*/

        div[aria-expanded=true] .fa-plus {
            display: none;
        }

        div[aria-expanded=false] .fa-minus {
            display: none;
        }

        input[type=checkbox] {
            width: 25px;
            height: 25px;
            margin-left: 0px;
            margin-top: 0px;
        }

        .content-wrapper {
            background-color: #ffffff;
        }

        /*f7f1d9*/

        .skin-blue .main-header .logo {
            /*background-color: #bc9a07;*/
            background-color: #ffffff;
            color: #fff;
            border-bottom: 0 solid transparent;
        }

        .skin-blue .wrapper, .skin-blue .main-sidebar, .skin-blue .left-side {
            background-color: #ffb26b;
        }

        .skin-blue .user-panel > .info, .skin-blue .user-panel > .info > a {
            color: #8b7306
        }

        .skin-blue .sidebar-menu > li.header {
            color: #000000;
            background: #ffb26b;
        }

        .skin-blue .sidebar-menu > li > a {
            border-left: 3px solid transparent;
            color: #000000;
        }

        .panel-heading {
            background: #ffb26b;
            cursor: pointer;
        }

        .panlheader {
            /*background: #bc9a07;*/
            background: #ffb26b;
        }

        .skin-blue .sidebar-menu > li:hover > a, .skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li.menu-open > a {
            color: #000000;
            background: #ffb26b;
        }

        .skin-blue .sidebar-menu > li.active > a {
            border-left-color: #000000
        }

        .skin-blue .sidebar-menu > li > .treeview-menu {
            margin: 0 1px;
            background: #ffb26b;
            color: #8b7306;
        }

            .skin-blue .sidebar-menu > li > .treeview-menu > li > a {
                color: #000000;
            }

            .skin-blue .sidebar-menu > li > .treeview-menu > li > ul > li > a {
                color: #000000;
            }

            .skin-blue .sidebar-menu > li > .treeview-menu > li > ul > li.active > a {
                color: #800080;
            }

            .skin-blue .sidebar-menu > li > .treeview-menu > li.active > a {
                color: #800080;
            }

            .btn-primary {
                /*background-color: #8b7306;
                border-color: #8b7306;*/
                background-color: #ffb26b;
                border-color: #ffb26b;
            }

            .btn-primary:hover, .btn-primary:active, .btn-primary.hover {
                /*background-color: #8b7306;*/
                background-color: #ffb26b;
            }

        .box.box-default {
            border-top-color: #ffffff;
        }

        .box {
            border-top: 3px solid #ffffff;
        }

        .breadcrumb > li + li:before {
            color: #333;
        }

        div.dataTables_wrapper div.dataTables_filter input {
            /* margin-left: 28.5em; */
            display: inline-block;
            width: 98%;
            margin-right: 21.5em;
        }

        .main-footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            padding: 6px;
        }

        .notbold {
            font-weight: normal;
            margin-right: 50px;
        }

        ​ .pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover {
            /*background-color: #6a6000;*/
            background-color: #ffb26b;
            border-color: #6a6000;
        }

        .form-group.required .control-label:after {
            content: "*";
            color: red;
        }

        .nav-tabs-custom > .nav-tabs > li.active {
            border-top-color: #6a6000;
        }

        .margin {
            margin-right: 10px;
            margin-left: 10px;
            margin-top: 0px;
            margin-bottom: 0px;
        }

        .SOHA_Alert {
            position: absolute;
            z-index: inherit;
            width: 100%;
        }

        time.icon {
            font-size: 1em; /* change icon size */
            display: block;
            position: relative;
            width: 7em;
            height: 6em;
            background-color: #f0f0f0;
            border-radius: 0.6em;
            box-shadow: 0 1px 0 #bdbdbd, 0 2px 0 #fff, 0 3px 0 #bdbdbd, 0 4px 0 #fff, 0 5px 0 #bdbdbd, 0 0 0 1px #bdbdbd;
            overflow: hidden;
        }

            time.icon * {
                display: block;
                width: 100%;
                font-size: 1em;
                font-weight: bold;
                font-style: normal;
                text-align: center;
            }

            time.icon strong {
                position: absolute;
                top: 0;
                padding: 0.4em 0;
                color: #fff;
                background-color: #03518a;
                border-bottom: 1px dashed #03518a;
                box-shadow: 0 2px 0 #03518a;
            }

            time.icon em {
                position: absolute;
                bottom: 0.3em;
                color: #03518a;
            }

            time.icon span {
                font-size: 2em;
                letter-spacing: -0.05em;
                padding-top: 1em;
                color: #2f2f2f;
            }



        .dot_OnGoing {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            background-color: #4DD965;
        }

        .dot_UpComing {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            background-color: #f39c12;
        }

        .dot_Expired {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            background-color: #F44336;
        }

        /*TimeLine*/

        .bold {
            /*font-weight: bold;*/
            padding-left: 20px;
        }

        .time {
            position: absolute;
            left: -150px;
        }

        .timeline-wrapper {
            padding-left: 110px;
            min-width: 400px;
            font-family: 'Helvetica';
            font-size: 12px;
            /*border: 1px solid #CCC;*/
        }

        .statement {
            color: orange;
        }

        .StepProgress {
            position: relative;
            padding-left: 50px;
            list-style: none;
        }

            .StepProgress::before {
                display: inline-block;
                content: '';
                position: absolute;
                top: 0;
                left: 50px;
                width: 10px;
                height: 100%;
                border-left: 2px solid #CCC;
            }

        .StepProgress-item {
            position: relative;
            counter-increment: list;
        }

            .StepProgress-item:not(:last-child) {
                padding-bottom: 20px;
            }

            .StepProgress-item::before {
                display: inline-block;
                content: '';
                position: absolute;
                left: 0px;
                height: 100%;
                width: 10px;
            }

            .StepProgress-item::after {
                content: '';
                display: inline-block;
                position: absolute;
                top: 0;
                left: -5px;
                width: 12px;
                height: 12px;
                border: 2px solid #CCC;
                border-radius: 50%;
                background-color: #FFF;
            }

            .StepProgress-item.is-done::before {
                border-left: 2px solid green;
            }

            .StepProgress-item.is-done::after {
                /*content: "?";*/
                font-size: 10px;
                color: #FFF;
                text-align: center;
                border: 2px solid green;
                background-color: green;
            }

        StepProgress-item.current::before {
            border-left: 2px solid green;
        }

        .StepProgress-item.current::after {
            /*content: "?";*/
            font-size: 10px;
            color: #FFF;
            text-align: center;
            border: 2px solid green;
            background-color: white;
        }

        .StepProgress strong {
            display: block;
        }

        .fabIcon {
            width: 50px;
            height: 50px;
            background-color: #6a6000;
            border-radius: 50%;
            box-shadow: 0 6px 10px 0 #666;
            transition: all 0.1s ease-in-out;
            font-size: 50px;
            color: white;
            text-align: center;
            line-height: 50px;
            position: fixed;
            right: 50px;
            z-index: 5;
            bottom: 100px;
        }

            .fabIcon:hover {
                box-shadow: 0 6px 14px 0 #666;
                transform: scale(1.05);
            }

        .fabIconCustomerClass {
            width: 50px;
            height: 50px;
            background-color: #6a6000;
            border-radius: 50%;
            box-shadow: 0 6px 10px 0 #666;
            transition: all 0.1s ease-in-out;
            font-size: 50px;
            color: white;
            text-align: center;
            line-height: 50px;
            right: 500px;
            bottom: 1px;
            float: right
        }

            .fabIconCustomerClass:hover {
                box-shadow: 0 6px 14px 0 #666;
                transform: scale(1.05);
            }


        .rotate:hover {
            font-size: 1.5em;
            transition: 0s ease-out;
        }

        .card {
            display: block;
            margin-bottom: 20px;
            line-height: 1.42857143;
            background-color: #fff;
            border-radius: 2px;
            box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);
            transition: box-shadow .25s;
        }

            .card:hover {
                box-shadow: 0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
            }

        .img-card {
            width: 100%;
            height: 100px;
            border-top-left-radius: 2px;
            border-top-right-radius: 2px;
            display: block;
            overflow: hidden;
        }

            .img-card img {
                width: 100%;
                height: 100px;
                object-fit: cover;
                transition: all .25s ease;
            }


        .card-content {
            padding: 15px;
            text-align: left;
        }

        .RadioButtonWidth label {
            margin-right: 20px;
        }


        .card-title {
            margin-top: 0px;
            font-weight: 700;
            font-size: 1.65em;
        }

            .card-title a {
                color: #000;
                text-decoration: none !important;
            }

        .card-read-more {
            border-top: 1px solid #D4D4D4;
        }

            .card-read-more a {
                text-decoration: none !important;
                padding: 10px;
                font-weight: 600;
                text-transform: uppercase;
            }

        a[aria-expanded=true] .fa-plus {
            display: none;
        }

        a[aria-expanded=false] .fa-minus {
            display: none;
        }

        .collapsepanelbody {
            height: 0;
            overflow: hidden;
        }

        .form-horizontal .control-label.text-left {
            text-align: left;
        }



        /*TimeLine*/
    </style>

</head>

<body class="skin-blue fixed sidebar-mini sidebar-mini-expand-feature" style="height: auto; min-height: 100%;">
    <form id="frm_Home" runat="server">
        <asp:ScriptManager ID="frmScript" runat="server" />
        <div class="wrapper">

            <div class="modal fade" id="mdlAddDiv" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Division</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Code</label>
                                        <input type="number" class="form-control" runat="server" id="txt_CodemdlAddDiv" maxlength="255" disabled="disabled" placeholder="Enter Code">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group required">
                                        <label class="control-label">Name</label>
                                        <input type="text" maxlength="255" id="txt_NamemdlAddDiv" class="form-control" runat="server" placeholder="Enter Name">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="control-label">Division is Currently active</label>
                                        <input type="checkbox" runat="server" id="chk_ActivemdlAddDiv">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddDiv">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddDept" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Department</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Department Code</label>
                                        <input type="number"  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="txtDeptCodeDeptMastermdl form-control" runat="server" id="txtDeptCode_mdlAddDept"  maxlength="2" placeholder="Enter Code">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group required">
                                        <label class="control-label">Description</label>
                                        <input type="text" maxlength="40" id="txtDeptDesc_mdlAddDept" class="form-control" runat="server" placeholder="Enter Description">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="control-label">Validity Period</label>
                                        <select class="form-control select2" style="width: 100%;" clientidmode="Static" runat="server" id="ddl_ValidityPeriodmdlAddDept">
                                            <option value="0">Select</option>
                                            <option value="1">1 year</option>
                                            <option value="2">2 year</option>
                                            <option value="3">3 year</option>
                                            <option value="4">Unlimited</option>
                                        </select>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="control-label">Validity From</label>
                                        <div class="input-group date">
                                            <div class="input-group-addon">
                                                <i class="fa fa-calendar"></i>
                                            </div>
                                            <input type="text" runat="server" class="form-control pull-right" id="txtValidityFrom_mdlAddDept">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="control-label">Validity To</label>
                                        <div class="input-group date">
                                            <div class="input-group-addon">
                                                <i class="fa fa-calendar"></i>
                                            </div>
                                            <input type="text" runat="server" class="form-control pull-right" id="txtValidityTo_mdlAddDept">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>FE Sequence No</label>
                                        <input type="number" class="form-control" runat="server" id="txtSeqNo_mdlAddDept" maxlength="255" value="0">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6" style="margin-top: 2%">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkAllowCashSales_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp Allow Cash Sales 
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" checked="checked" runat="server" id="chkActive_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  Department is currently active
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkFirstTrial_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is first trial
                                        </label>
                                    </div>
                                </div>

                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkRetail_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is retail product
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkSaolon_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is salon product
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <br />

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkService_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is service
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkVoucher_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is voucher
                                        </label>
                                    </div>
                                </div>

                            </div>
                            <br />

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkPrepaid_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is prepaid
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" runat="server" id="chkCompound_mdlAddDept">
                                            &nbsp&nbsp&nbsp&nbsp&nbsp  This is compound
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddDept">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddClass" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Class</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Code</label>
                                        <input type="number" class="form-control" runat="server" id="txt_CodemdlAddClass" maxlength="255" disabled="disabled" placeholder="Enter Code">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group required">
                                        <label class="control-label">Name</label>
                                        <input type="text" maxlength="40" id="txt_NamemdlAddClass" class="form-control" runat="server" placeholder="Enter Name">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="control-label">Classification is Currently active</label>
                                        <input type="checkbox" checked="checked" runat="server" id="chk_ActivemdlAddClass">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddClass">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddBrand" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Brand</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Code</label>
                                        <input type="text" class="form-control" runat="server" id="txtCode_mdlAddBrand" maxlength="255" disabled="disabled">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Description</label>
                                        <input type="text" class="form-control" runat="server" id="txtName_mdlAddBrand" maxlength="40" placeholder="Enter Description">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" checked="checked" runat="server" id="chk_ActivemdlAddBrand">&nbsp&nbsp&nbsp&nbsp&nbsp Brand is Currently Active
                                            </label>
                                        </div>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" runat="server" id="chk_showRetailmdlAddBrand">&nbsp&nbsp&nbsp&nbsp&nbsp Show on retail
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" runat="server" id="chk_showVouchermdlAddBrand">&nbsp&nbsp&nbsp&nbsp&nbsp Show on voucher
                                            </label>
                                        </div>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" runat="server" id="chk_showPrepaidmdlAddBrand">&nbsp&nbsp&nbsp&nbsp&nbsp Show on prepaid
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddBrand">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddUOM" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add UOM</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>UOMC Description</label>
                                        <select id="ddlUomCDesc_mdladdUom" name="select2" runat="server" class="form-control select2" style="width: 100%;" />
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group required">
                                        <label class="control-label">UOM Unit</label>
                                        <input type="number" maxlength="255" id="addUOMUnit_mdlAddUom" class="form-control" runat="server" placeholder="Unit">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>UOM Description</label>
                                        <select id="ddlUomDesc_mdladdUom" name="select2" runat="server" class="form-control select2" style="width: 100%;" />
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddUOM">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddLink" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Link</h4>
                                    [<label id="lbl_Type_mdlAddLink">Type</label>-<label id="lbl_Index_mdlAddLink">-1</label>]
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Link Code</label>
                                        <input type="text" class="form-control" runat="server" id="txtLinkCode_mdlAddLink" maxlength="255" placeholder="Enter Link Code">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Link Description</label>
                                        <input type="text" class="form-control" runat="server" id="txtLinkDesc_mdlAddLink" maxlength="255" placeholder="Enter Link Description">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddLink">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <!-- /Commission Group Detail Model -->
             <div class="modal fade" id="mdlCommissonGrpDetail" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Commission Detail</h4>
                                    [<label id="lbl_Type_mdlCommissonGrpDetail">Type</label>-<label id="lbl_Index_mdlCommissonGrpDetail">-1</label>]
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Description</label>
                                        <select id="ddlEmpLevelDesc_mdlCommissonGrpDetail" name="select2" runat="server" class="form-control select2" style="width: 100%;" />
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <div class="checkbox icheck" style="margin-top:25px" >
                                            <input type="checkbox" checked="checked" runat="server" name="active" id="chk_mdlCommissonGrpDetail">
                                            <label for="active" style="margin-left: 15px">Active</label>
                                        </div>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Calculation Method</label>
                                        <select id="ddlCalculationMethod_mdlCommissonGrpDetail" name="select2" runat="server" class="form-control select2" style="width: 100%;">
                                            <option>Normal</option>
                                            <option>Floor Price</option>
                                        </select>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label>Commission Type</label>
                                        <select id="ddlCommType_mdlCommissonGrpDetail" name="select2" runat="server" class="form-control select2" style="width: 100%;">
                                            <option>Single Transaction</option>
                                            <option>Period Transaction</option>
                                        </select>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label>From Range</label>
                                        <input type="number" class="form-control" runat="server" id="txtFromRange_mdlCommissonGrpDetail" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null"  maxlength="10" placeholder="Enter From Range">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label>To Range</label>
                                        <input type="number" class="form-control" runat="server" id="txtToRange_mdlCommissonGrpDetail" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null"  maxlength="10" placeholder="Enter To Range">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>

                             <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Commission Rate</label>
                                        <input type="number" class="form-control" runat="server" id="txtCommissionRate_mdlCommissonGrpDetail" oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" maxlength="10" placeholder="Enter Rate">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <div class="checkbox icheck" style="margin-top:25px" >
                                            <input type="checkbox" checked="checked" runat="server" name="active" id="chkPercent_mdlCommissonGrpDetail">
                                            <label for="active" style="margin-left: 15px">Is Percent</label>
                                        </div>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlCommissonGrpDetail">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>


            <%-- <div class="modal fade" id="mdlPackageItem" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Package Item Selection</h4>
                                    [<label id="lbl_Type_mdlPackageItem">Type</label>-<label id="lbl_Index_mdlPackageItem">-1</label>]
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <div class="col-md-8">
                                    <div class="form-group">
                                        <label>Package Item Department</label>
                                        <select id="ddlDept_mdlPackageItem" name="select2" runat="server" class="form-control select2" style="width: 100%;" />
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                
                            </div>

                            <div class="row">
                                <div class="col-md-12">

                                    <table id="tblPackageItemSearchList" style="font-size: 13px;"  class="table table-bordered table-striped datatable">
                                        <thead>
                                            <tr>
                                                <th style="width: 0%; visibility:hidden">Stock Code</th>
                                                <th>Stock Name </th>
                                                <th>Division</th>
                                                <th>Class</th>
                                                <th>Dept</th>
                                                <th>Brand</th>
                                                <th>Range</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>

                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlPackageItem">Submit</button>
                        </div>
                    </div>
                </div>
            </div>--%>

            <div class="modal fade" id="mdlAddItemUOm" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add</h4>
                                    [<label id="lbl_Type_mdlAddItemUOm">Type</label>-<label id="lbl_Index_mdlAddItemUOm">-1</label>]
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Item Code</label>
                                        <input type="text" class="form-control" runat="server" id="mdlAddItemUOm_ItemCode" maxlength="255" placeholder="Enter Link Code">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Item Description</label>
                                        <input type="text" class="form-control" runat="server" id="mdlAddItemUOm_ItemDesc" maxlength="255" placeholder="Enter Link Description">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>UOM</label>
                                        <select class="form-control select2" style="width: 100%;" clientidmode="Static" runat="server" id="mdlAddItemUOm__Uom">
                                        </select>
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Qty</label>
                                        <input type="number" class="form-control" runat="server" id="mdlAddItemUOm_Qty" placeholder="Enter Qty">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddItemUOm">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlEditPriceGRN" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Edit Qty / Price </h4>
                                    <%--<label id="lbl_Index_mdlEditPriceGRN">-1</label>--%>
                                    <input type="hidden" class="form-control" runat="server" id="lbl_Index_mdlEditPriceGRN">
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Qty</label>
                                        <input type="number" class="form-control" runat="server" id="txtQty_EditPriceGRN" maxlength="255">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Price</label>
                                        <input type="number" class="form-control" runat="server" id="txtPrice_EditPriceGRN" maxlength="255">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Remark</label>
                                        <input type="text" class="form-control" runat="server" id="txtRemark_EditPriceGRN" maxlength="255">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlEditPriceGRN">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlEditPricePOrderApproval" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Edit Qty / Price </h4>
                                    <%--<label id="lbl_Index_mdlEditPriceGRN">-1</label>--%>
                                    <input type="hidden" class="form-control" runat="server" id="lbl_Index_mdlEditPricePOrderApproval">
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Qty</label>
                                        <input type="number" class="form-control" runat="server" id="txtQty_EditPricePOrderApproval" maxlength="255">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group required">
                                        <label class="control-label">Price</label>
                                        <input type="number" class="form-control" runat="server" id="txtPrice_EditPricePOrderApproval" maxlength="255">
                                    </div>
                                    <!-- /.form-group -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label>Remark</label>
                                        <input type="text" class="form-control" runat="server" id="txtRemark_EditPricePOrderApproval" maxlength="255">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlEditPricePOrderApproval">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlSuccessMsg" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Alert</h4>
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <%--<label id="lbl_text_mdlSuccessMsg"></label>--%>
                                    <input type="text" maxlength="255" id="lbl_text_mdlSuccessMsg" disabled="disabled" style="border: none" runat="server" placeholder="Enter Name">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <%--<label id="lbl_DocNo_mdlSuccessMsg"></label>--%>
                                    <input type="text" maxlength="255" id="lbl_DocNo_mdlSuccessMsg" disabled="disabled" style="border: none" runat="server" placeholder="Enter Name">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlSuccessMsg">Ok</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>

            <div class="modal fade" id="mdlAddGRNItem" runat="server" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <div class="row">
                                <div class="col-md-12">
                                    <h4 class="modal-title">Add Item</h4>
                                    GRNItemSearch
                                </div>
                            </div>
                        </div>
                        <div class="modal-body">
                            <table id="stockListingMaster" clientidmode="Static" class="table table-bordered table-striped datatable" runat="server">
                                <thead>
                                    <tr>
                                        <th>NO</th>
                                        <th>Item Code</th>
                                        <th>Item Description</th>
                                        <th>UOM</th>
                                        <th>Brand</th>
                                        <th>Link Code</th>
                                        <th>Range</th>
                                        <th style="text-align: center">
                                            <input type="checkbox" id="selectall1" /></th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-default" id="btnSubmit_mdlAddGRNItem">Submit</button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>


            <header class="main-header">
                <div class="alert alert-success SOHA_Alert hide" id="Alert_Sucess">
                    <button type="button" class="close" data-dismiss="alert">x</button>
                    <strong>Success! </strong>
                    <label id="lblSuccessMessage" class="notbold">Success Message</label>
                </div>
                <div class="alert alert-danger SOHA_Alert hide" id="Alert_Error">
                    <button type="button" class="close" data-dismiss="alert">x</button>
                    <strong>Error! </strong>
                    <label id="lblErrorMessage" class="notbold">Error Message</label>
                </div>
                <div class="alert alert-warning SOHA_Alert hide" id="Alert_Warning">
                    <button type="button" class="close" data-dismiss="alert">x</button>
                    <strong>Warning! </strong>
                    <label id="lblWarningMessage" class="notbold">Warning Message</label>
                </div>

                <!-- Logo -->
                <a href="#" class="logo">
                    <!-- mini logo for sidebar mini 50x50 pixels -->
                    <span class="logo-mini">
                        <%--                        <label id="lblInstitutionNameShort" runat="server" class="notbold"></label>--%>
                        <img src="Img/octogonsmall.png" />
                    </span>
                    <!-- logo for regular state and mobile devices -->
                    <span class="logo-lg">
                        <%--                        <label id="lblInstitutionName" runat="server" class="notbold"></label>--%>
                        <img src="Img/octogonsmall.png" />
                    </span>
                </a>
                <!-- Header Navbar: style can be found in header.less -->
                <nav class="navbar navbar-static-top">
                    <!-- Sidebar toggle button-->
                    <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>

                    </a>

                    <div class="navbar-custom-menu">

                        <ul class="nav navbar-nav">

                            <!-- User Account: style can be found in dropdown.less -->
                            <li class="dropdown user user-menu">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <%--<img src="dist/img/user2-160x160.jpg" class="user-image" alt="User Image">--%>
                                    <span class="hidden-xs">
                                        <label id="lbl_GlobalUserName" runat="server">Welcome, Web User &nbsp; &nbsp;</label>
                                        <span><u style="color: cornflowerblue" onclick="location.href='Login.aspx';">Logout</u></span>
                                    </span>
                                </a>
                                <ul class="dropdown-menu" style="display: none">
                                    <!-- User image -->
                                    <li class="user-header">
                                        <img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">

                                        <p>
                                            <label id="lbl_GlobalSignoutUserName" runat="server">Web User</label>
                                            <small>
                                                <label id="lbl_GlobalUserType" runat="server">Web User Type</label></small>
                                            <small>
                                                <label id="lbl_GlobalSignoutUserCode" runat="server">User Code</label></small>
                                            <small>
                                                <label id="lbl_GlobalSignoutSiteCode" runat="server">Site Code</label></small>

                                        </p>
                                    </li>

                                    <!-- Menu Footer-->
                                    <li class="user-footer">
                                        <div class="pull-left">
                                            <a href="ChangePassword.aspx" class="btn btn-default btn-flat">Change Password</a>
                                        </div>
                                        <div class="pull-right">
                                            <a href="Login.aspx" class="btn btn-default btn-flat">Sign out</a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </nav>
            </header>
            <!-- =============================================== -->
            <!-- Left side column. contains the sidebar -->
            <aside class="main-sidebar">
                <!-- sidebar: style can be found in sidebar.less -->
                <section class="sidebar">
                    <!-- search form -->
                    <%--<form action="#" method="get" class="sidebar-form">--%>
                    <div class="input-group sidebar-form" style="display: none">
                        <input type="text" id="txtGlobalSearch_Home" runat="server" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                            <button type="button" name="search" onserverclick="GlobalSearch_Click" runat="server" class="btn btn-flat">
                                <i class="fa fa-search"></i>
                            </button>
                        </span>
                    </div>
                    <%-- </form>--%>
                    <!-- /.search form -->
                    <!-- sidebar menu: : style can be found in sidebar.less -->
                    <ul class="sidebar-menu" data-widget="tree">
                        <li class="header">
                            <h4>MAIN MENU</h4>
                        </li>
                        <%--                        <li id="mDashBoard.aspx">
                            <a href="Products.aspx">
                                <i class="fa fa-dashboard"></i><span>Dash Board 仪表板</span>
                            </a>
                        </li>
                        --%>

                        <li id="mMaster" class="treeview">
                            <a href="#">
                                <i class="fa fa-file"></i><span>Master Data</span>
                                <span class="pull-right-container">
                                    <i class="fa fa-angle-left pull-right"></i>
                                </span>
                            </a>
                            <ul class="treeview-menu">
                                <li><a href="ItemMasterList.aspx"><i class="fa fa-dedent"></i>Item Master</a></li>
                                <li style="display: none"><a href="ItemMaster.aspx"><i class="fa fa-male"></i>Item Master</a></li>
                                <li style="display: none"><a href="DivMaster.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="DepartmentMaster.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="ClassMaster.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="BrandMaster.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="RangeMasterProduct.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="RangeMasterService.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="RangeMasterVoucher.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="RangeMasterPrepaid.aspx"><i class="fa fa-male"></i>Customer Class</a></li>
                                <li style="display: none"><a href="RangeMasterCompound.aspx"><i class="fa fa-male"></i>Customer Class</a></li>

                                <%--   <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-signal"></i><span>Range</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="RangeMasterProductList.aspx"><i class="fa fa-ra"></i>Product</a></li>
                                        <li><a href="RangeMasterServiceList.aspx"><i class="fa fa-random"></i>Service</a></li>
                                        <li><a href="RangeMasterVoucherList.aspx"><i class="fa fa-ravelry"></i>Voucher</a></li>
                                        <li><a href="RangeMasterPrepaidList.aspx"><i class="fa fa-rebel"></i>Prepaid</a></li>
                                        <li><a href="RangeMasterCompoundList.aspx"><i class="fa fa-recycle"></i>Compound</a></li>
                                    </ul>
                                </li>--%>

                                <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-navicon"></i><span>Item Classification</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="DivisionMaster.aspx"><i class="fa fa-th-large"></i>Division </a></li>
                                        <li><a href="DeptMasterList.aspx"><i class="fa fa-building-o"></i>Department </a></li>
                                        <li><a href="ClassificationMaster.aspx"><i class="fa fa-codiepie"></i>Class </a></li>
                                        <li><a href="BrandMasterList.aspx"><i class="fa fa-suitcase"></i>Brand </a></li>
                                        <li><a href="ItemUOMMaster.aspx"><i class="fa fa-suitcase"></i>UOM </a></li>
                                        <li><a href="ItemCommissionMasterList.aspx"><i class="fa fa-codiepie"></i>Commission </a></li>
                                        <li class="treeview">
                                            <a href="#">
                                                <i class="fa fa-signal"></i><span>Range</span>
                                                <span class="pull-right-container">
                                                    <i class="fa fa-angle-left pull-right"></i>
                                                </span>
                                            </a>
                                            <ul class="treeview-menu">
                                                <li><a href="RangeMasterProductList.aspx"><i class="fa fa-ra"></i>Product</a></li>
                                                <li><a href="RangeMasterServiceList.aspx"><i class="fa fa-random"></i>Service</a></li>
                                                <li><a href="RangeMasterVoucherList.aspx"><i class="fa fa-ravelry"></i>Voucher</a></li>
                                                <li><a href="RangeMasterPrepaidList.aspx"><i class="fa fa-rebel"></i>Prepaid</a></li>
                                                <li><a href="RangeMasterCompoundList.aspx"><i class="fa fa-recycle"></i>Compound</a></li>
                                            </ul>
                                        </li>
                                       

                                    </ul>
                                </li>

                                <%--Mari commented for Philpines--%>
                                <%--Appointmnent Config--%>

                                
                                 <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-cogs"></i><span>Appointment Config</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="ConfigInterface_EquipmentsList.aspx"><i class="fa fa-clock-o"></i>Equipment</a></li>
                                        <li><a href="ConfigInterface_RoomMaster.aspx"><i class="fa fa-home"></i>Room</a></li>
                                        <li><a href="ConfigInterface_BlockReason.aspx"><i class="fa fa-clock-o"></i>Appointment Block Reason</a></li>
                                        <li><a href="ConfigInterface_AppointmentGroup.aspx"><i class="fa fa-clock-o"></i>Appointment Group</a></li> 
                                        <li><a href="ConfigInterface_ApptBookingStatus.aspx"><i class="fa fa-clock-o"></i>Booking Status</a></li>
                                        <li><a href="ConfigInterface_AppointmentChannel.aspx"><i class="fa fa-clock-o"></i>Channel</a></li> 
                                        <li><a href="ConfigInterface_ApptSecondaryStatus.aspx"><i class="fa fa-clock-o"></i>Secondary Status</a></li>
                                    </ul>
                                </li>
                                

                                <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-medkit"></i><span>Treatment</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="ConfigInterface_AdjustmentReason.aspx"><i class="fa fa-clock-o"></i>Adjustment Reason</a></li>
                                        <li><a href="ConfigInterface_Diagnosis.aspx"><i class="fa fa-clock-o"></i>Diagnosis</a></li>


                                    </ul>
                                </li>


                                <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-usd"></i><span>Sales</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="ConfigInterface_ItemStatusGroup.aspx"><i class="fa fa-clock-o"></i>Item Status Group</a></li>
                                        <li><a href="ConfigInterface_ItemStatus.aspx"><i class="fa fa-clock-o"></i>Item Status</a></li>
                                        <li><a href="ConfigInterface_DiscountReason.aspx"><i class="fa fa-clock-o"></i>Discount Reason</a></li>
                                        <li><a href="ConfigInterface_FOCReason.aspx"><i class="fa fa-clock-o"></i>FOC Reason</a></li>
                                        <li><a href="ConfigInterface_PaymentGroup.aspx"><i class="fa fa-clock-o"></i>Payment Group</a></li>
                                        <li><a href="ConfigInterface_PaymentType.aspx"><i class="fa fa-clock-o"></i>Payment Type</a></li>
                                    </ul>
                                </li>


                                <li class="treeview">
                                    <a href="#">
                                        <i class="fa fa-chain"></i><span>Config Interface</span>
                                        <span class="pull-right-container">
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>
                                    <ul class="treeview-menu">
                                        <li><a href="ConfigInterface_OccupationType.aspx"><i class="fa fa-clock-o"></i>Occupation Type</a></li>
                                        <li><a href="ConfigInterface_Source.aspx"><i class="fa fa-clock-o"></i>Source</a></li>
                                        <li><a href="ConfigInterface_TransactionReason.aspx"><i class="fa fa-clock-o"></i>Transaction Reason</a></li>
                                        <li><a href="ConfigInterface_VOIDTransactionReason.aspx"><i class="fa fa-clock-o"></i>VOID Transaction Reason</a></li>
                                    </ul>
                                </li>

                                <li><a href="BusinessHours.aspx"><i class="fa fa-briefcase"></i>Business Hours</a></li>
                                <li><a href="TaxType.aspx"><i class="fa fa-percent"></i>Tax Type</a></li>
                                <li><a href="SiteAddressMaster.aspx"><i class="fa fa-industry"></i>Outlet Master</a></li>
                                <li><a href="CustomerMaster.aspx"><i class="fa fa-address-book-o"></i>Customer Master - I</a></li>
                                <li><a href="CustomerMaster2.aspx"><i class="fa fa-user-circle"></i>Customer Master - II</a></li>
                                <li><a href="VendorList.aspx"><i class="fa fa fa-male"></i>Vendor Master</a></li>
                                <li><a href="CountrySettings.aspx"><i class="fa fa-flag"></i>Country Setings</a></li>
                                <li><a href="EmployeeMaster.aspx"><i class="fa fa-flag"></i>Employee Master</a></li>
                                <li><a href="SecurityMaster.aspx"><i class="fa fa-flag"></i>Security Master</a></li>
                                <%--Mari End--%>
                            </ul>

                        </li>

                        <%--
                        <li id="mInventory" class="treeview">
                             <a href="#">
                                <i class="fa fa-file"></i><span>Inventory</span>
                                <span class="pull-right-container">
                                    <i class="fa fa-angle-left pull-right"></i>
                                </span>
                            </a>
                            <ul class="treeview-menu">
                                <li><a href="GRNList.aspx" id="GRNList" runat="server"><i class="fa fa-list-alt"></i>Goods Receieve Note</a></li>
                                <li style="display:none"><a href="GRN.aspx"><i class="fa fa-male"></i>Goods Receieve Note</a></li>
                                <li><a href="GRNOutList.aspx" id="GRNOutList" runat="server"><i class="fa fa-tasks "></i>Goods Transfer Out</a></li>
                                <li style="display:none"><a href="GRNOut.aspx"><i class="fa fa-male"></i>Goods Transfer Out</a></li>
                                <li><a href="GRNInList.aspx" id="GRNInList" runat="server"><i class="fa fa-list "></i>Goods Transfer In</a></li>
                                <li style="display:none"><a href="GRNIn.aspx"><i class="fa fa-male"></i>Goods Transfer In</a></li>
                                <li><a href="GRNReturnList.aspx" id="GRNReturnList" runat="server"><i class="fa fa-undo "></i>Goods Return Note</a></li>
                                <li style="display:none"><a href="GRNReturn.aspx"><i class="fa fa-male"></i>Goods Return Note</a></li>
                                
                                <li><a href="StockAdjList.aspx" id="StockAdjList" runat="server"><i class="fa fa-th "></i>Stock Adjustment</a></li>
                                <li style="display:none"><a href="StockAdj.aspx"><i class="fa fa-male"></i>Stock Adjustment</a></li>
                                <li><a href="POReqList.aspx" id="PR" runat="server"><i class="fa fa-indent "></i>Outlet PO</a></li>
                                
                                <li style="display:none"><a href="PoRequest.aspx"><i class="fa fa-male"></i>Item Master</a></li>
                                <li><a href="POAppList.aspx" id="PO" runat="server"><i class="fa fa-address-book-o "></i>Invoice With Outlet PO</a></li>
                                <li><a href="DOWithGRNList.aspx" id="A3" runat="server"><i class="fa fa-indent "></i> Delivery Order Approval</a></li>

                                <li style="display:none"><a href="PoApproval.aspx"><i class="fa fa-male"></i>Purchase Approval</a></li>
                                <li><a href="POList.aspx" id="A1" runat="server"><i class="fa fa-indent "></i>Purchase Order</a></li>
                                <li><a href="POWithGRNList.aspx" id="A2" runat="server"><i class="fa fa-indent "></i> Purchase Order Approval</a></li>

                                <li><a href="StockCount.aspx" id="A4" runat="server"><i class="fa fa-indent "></i> Stock Count</a></li>
                            </ul>


                        </li>
                        --%>
                    </ul>

                </section>
                <!-- /.sidebar -->
            </aside>
            <!-- =============================================== -->
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper" style="padding-bottom: 15px;">

                <asp:ContentPlaceHolder ID="Content_PageBody" runat="server">
                </asp:ContentPlaceHolder>

            </div>
            <!-- /.content-wrapper -->
            <footer class="main-footer fixed">
                <div class="row">
                    <div class="col-md-12">
                        <div class="center-block">
                            <%--<strong>Copyright &copy; 2019 <a href="http://beautesoft.com/">Sequoia Pte. Ltd</a></strong> All rights reserved. <b>Version </b>
                            <label style="font-weight: 500;" runat="server" id="lbl_VersionInfo_Home">X.X.X (Dated:dd/MM/yyyy)</label>--%>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- Control Sidebar -->
            <aside class="control-sidebar control-sidebar-dark">
                <!-- Create the tabs -->
                <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                    <%--<li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>

      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>--%>
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">

                    <!-- Home tab content -->
                    <div class="tab-pane" id="control-sidebar-home-tab">
                        <h3 class="control-sidebar-heading">Recent Activity</h3>
                        <ul class="control-sidebar-menu">
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="menu-icon fa fa-birthday-cake bg-red"></i>

                                    <div class="menu-info">
                                        <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

                                        <p>Will be 23 on April 24th</p>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="menu-icon fa fa-user bg-yellow"></i>

                                    <div class="menu-info">
                                        <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

                                        <p>New phone +1(800)555-1234</p>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

                                    <div class="menu-info">
                                        <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

                                        <p>nora@example.com</p>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="menu-icon fa fa-file-code-o bg-green"></i>

                                    <div class="menu-info">
                                        <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

                                        <p>Execution time 5 seconds</p>
                                    </div>
                                </a>
                            </li>
                        </ul>
                        <!-- /.control-sidebar-menu -->

                        <h3 class="control-sidebar-heading">Tasks Progress</h3>
                        <ul class="control-sidebar-menu">
                            <li>
                                <a href="javascript:void(0)">
                                    <h4 class="control-sidebar-subheading">Custom Template Design
                <span class="label label-danger pull-right">70%</span>
                                    </h4>

                                    <div class="progress progress-xxs">
                                        <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <h4 class="control-sidebar-subheading">Update Resume
                <span class="label label-success pull-right">95%</span>
                                    </h4>

                                    <div class="progress progress-xxs">
                                        <div class="progress-bar progress-bar-success" style="width: 95%"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <h4 class="control-sidebar-subheading">Laravel Integration
                <span class="label label-warning pull-right">50%</span>
                                    </h4>

                                    <div class="progress progress-xxs">
                                        <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <h4 class="control-sidebar-subheading">Back End Framework
                <span class="label label-primary pull-right">68%</span>
                                    </h4>

                                    <div class="progress progress-xxs">
                                        <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                        <!-- /.control-sidebar-menu -->

                    </div>
                    <!-- /.tab-pane -->
                    <!-- Stats tab content -->
                    <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
                    <!-- /.tab-pane -->
                    <!-- Settings tab content -->
                    <div class="tab-pane" id="control-sidebar-settings-tab">
                        <%--<form method="post">--%>
                        <h3 class="control-sidebar-heading">General Settings</h3>

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Report panel usage
              <input type="checkbox" class="pull-right" checked>
                            </label>

                            <p>
                                Some information about this general settings option
                            </p>
                        </div>
                        <!-- /.form-group -->

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Allow mail redirect
              <input type="checkbox" class="pull-right" checked>
                            </label>

                            <p>
                                Other sets of options are available
                            </p>
                        </div>
                        <!-- /.form-group -->

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Expose author name in posts
              <input type="checkbox" class="pull-right" checked>
                            </label>

                            <p>
                                Allow the user to show his name in blog posts
                            </p>
                        </div>
                        <!-- /.form-group -->

                        <h3 class="control-sidebar-heading">Chat Settings</h3>

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Show me as online
              <input type="checkbox" class="pull-right" checked>
                            </label>
                        </div>
                        <!-- /.form-group -->

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Turn off notifications
              <input type="checkbox" class="pull-right">
                            </label>
                        </div>
                        <!-- /.form-group -->

                        <div class="form-group">
                            <label class="control-sidebar-subheading">
                                Delete chat history
              <a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
                            </label>
                        </div>
                        <!-- /.form-group -->
                        <%--</form>--%>
                    </div>
                    <!-- /.tab-pane -->
                </div>
            </aside>
            <!-- /.control-sidebar -->
            <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
            <div class="control-sidebar-bg">
            </div>
        </div>

        <!-- ./wrapper -->
        <!-- jQuery 3 -->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <!-- Bootstrap 3.3.7 -->
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- Select2 -->
        <script src="bower_components/select2/dist/js/select2.full.min.js"></script>
        <!-- InputMask -->
        <script src="plugins/input-mask/jquery.inputmask.js"></script>
        <script src="plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
        <script src="plugins/input-mask/jquery.inputmask.extensions.js"></script>
        <!-- Signature Pad -->
        <script src="dist/js/jquery.signaturepad.min.js"></script>


        <!-- date-range-picker -->
        <script src="bower_components/moment/min/moment.min.js"></script>
        <script src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
        <!-- bootstrap datepicker -->
        <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
        <
        <!-- bootstrap color picker -->

        <script src="bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
        <!-- bootstrap time picker -->
        <script src="plugins/timepicker/bootstrap-timepicker.min.js"></script>
        <!-- SlimScroll -->
        <script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
        <!-- iCheck 1.0.1 -->
        <script src="plugins/iCheck/icheck.min.js"></script>
        <!-- FastClick -->
        <script src="bower_components/fastclick/lib/fastclick.js"></script>
        <!-- AdminLTE App -->
        <script src="dist/js/adminlte.min.js"></script>
        <!-- AdminLTE for demo purposes -->
        <script src="dist/js/demo.js"></script>

        <script src="bower_components/chart.js/Chart.js"></script>

        <!-- ./wrapper -->
        <!-- DataTables -->
        <script src="bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
        <script src="bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
        <!-- Full Calender -->
        <script src="bower_components/moment/moment.js"></script>
        <%--<script src="bower_components/fullcalendar/dist/fullcalendar.min.js"></script>--%>
        <!-- page script -->

        <script>

            <!--- Time Line --->


    //function toggleIcon(e) {
    //            $(e.target)
    //                .prev('.panel-heading')
    //                .find(".more-less")
    //                .toggleClass('fa fa-minus');
    // }
    // $('.panel-group').on('hidden.bs.collapse', toggleIcon);
    // $('.panel-group').on('shown.bs.collapse', toggleIcon);




    // Bind panels behaviour to button

    //Abu
    $(document).ready(function () {
        $('#txt_StockName').keyup(function () {
            $('#txt_StockDesc').val(this.value);
        });
    });


     $(document).ready(function () {

        $('.sidebar-menu').tree();
        var url = window.location.href;

        $('ul.sidebar-menu a').filter(function () {
            return this.href == url;
        }).parent().siblings().removeClass('active').end().addClass('active');

        $('ul.sidebar-menu a').filter(function () {
            return this.href == url;
        }).parentsUntil(".sidebar-menu > .treeview-menu li a").siblings().removeClass("active").end().addClass("active");


        ///ngOnInit() {
        //$(document).ready(() => {
        //    const trees: any = $('[data-widget="tree"]');
        //    trees.tree();
        //});
        //}

    });

    $('.select2').select2();

    $(document).ready(function () {
        $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();
        });
    });


    $(document).ready(function () {

        $('[id$="txtDate_VendorMaster"]').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true
        });

        $('[id$="txtValidityFrom_DeptMaster"]').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true
        });

        $('[id$="txtValidityTo_DeptMaster"]').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true
        });

        $('[id$="txtValidityFrom_mdlAddDept"]').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true
        });

        $('[id$="txtValidityTo_mdlAddDept"]').datepicker({
            format: 'dd-mm-yyyy',
            autoclose: true
        });

    });


    $(document).ready(function () {

        $('#txt_StartTime').timepicker();
        $('#txt_EndTime').timepicker();

    });





    //Haji Coding Start


    //cities add function

    $('[id$="btnOutletMaster_City_AddNew"]').click(function () {
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSiteAddress_City tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSiteAddress_City tr:last td:last').html();
        var _Prefix = $('#tblSiteAddress_City tr:last td:nth-child(6)').html();
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CityMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CityMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CityMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_CityMaster  glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblSiteAddress_City").append(newRow);
        $('#tblSiteAddress_City tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSiteAddress_City tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSiteAddress_City tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSiteAddress_City tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnOutletMaster_City_AddNew"]').prop('disabled', true);
    });

    $(document).on("click", ".Add_CityMaster", function () {
        var rowIndex = $('#tblSiteAddress_City tr').index($(this).closest('tr'));
        var _Master = 'CITY';
        var _Code = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(0)').html(); // $('#txtCode_CityMaster').val().replace("'", "");
        var _Name = $('#txtName_CityMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblSiteAddress_City tr:last td:last').html();
        var _ID = $('#tblSiteAddress_City tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSiteAddress_City tr:last td:nth-child(6)').html();

        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $(this).closest("tr").remove();
            var counter = 0;
            var newRow = $("<tr>");
            var cols = "";
            cols += '<td style="width: 40%;">' + _Code + '</td>';
            cols += '<td style="width: 40%;">' + _Name + '</td>';
            if (_Checked) {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CityMaster editor-active"></td>';
            } else {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CityMaster editor-active"></td>';
            }
            cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CityMaster glyphicon glyphicon-pencil"></i></div></td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
            newRow.append(cols);
            $("#tblSiteAddress_City").append(newRow);
            counter++;
            $('[id$="btnOutletMaster_City_AddNew"]').prop('disabled', false);
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMaster',
                data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
    });

    $(document).on("click", ".chk_CityMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblSiteAddress_City tr').index($(this).closest('tr'));
            var _Master = 'CITY';
            var _Code = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }

    });

    $(document).on("click", ".edit_CityMaster", function () {
        var rowIndex = $('#tblSiteAddress_City tr').index($(this).closest('tr'));
        var _Name = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CityMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CityMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CityMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CityMaster", function () {
        var rowIndex = $('#tblSiteAddress_City tr').index($(this).closest('tr'));
        var _Master = 'CITY';
        var _Code = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CityMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CityMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //state Functions

    $('[id$="btnOutletMaster_State_AddNew"]').click(function () {
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSiteAddress_State tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSiteAddress_State tr:last td:last').html();
        var _Prefix = $('#tblSiteAddress_State tr:last td:nth-child(6)').html();
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_StateMaster" runat="server" maxlength="255" placeholder="Enter Code"></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_StateMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_StateMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_StateMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblSiteAddress_State").append(newRow);
        $('#tblSiteAddress_State tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSiteAddress_State tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSiteAddress_State tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSiteAddress_State tr:last td:nth-child(6)').html(_Prefix);
        counter++;
        $('[id$="btnOutletMaster_State_AddNew"]').prop('disabled', true);
    });

    $(document).on("click", ".Add_StateMaster", function () {
        var rowIndex = $('#tblSiteAddress_State tr').index($(this).closest('tr'));
        var _Master = 'STATE';
        var _Code = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(0)').html(); //$('#txtCode_StateMaster').val().replace("'", "");
        var _Name = $('#txtName_StateMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_City tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblSiteAddress_State tr:last td:last').html();
        var _ID = $('#tblSiteAddress_State tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSiteAddress_State tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $(this).closest("tr").remove();
            var counter = 0;
            var newRow = $("<tr>");
            var cols = "";
            cols += '<td style="width: 40%;">' + _Code + '</td>';
            cols += '<td style="width: 40%;">' + _Name + '</td>';
            if (_Checked) {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_StateMaster editor-active"></td>';
            } else {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_StateMaster editor-active"></td>';
            }
            cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_StateMaster glyphicon glyphicon-pencil"></i></div></td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
            newRow.append(cols);
            $("#tblSiteAddress_State").append(newRow);
            counter++;
            $('[id$="btnOutletMaster_State_AddNew"]').prop('disabled', false);
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMaster',
                data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
    });

    $(document).on("click", ".chk_StateMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblSiteAddress_State tr').index($(this).closest('tr'));
            var _Master = 'STATE';
            var _Code = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_StateMaster", function () {
        var rowIndex = $('#tblSiteAddress_State tr').index($(this).closest('tr'));
        var _Name = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_StateMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_StateMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_StateMaster').val(_Name);
    });

    $(document).on("click", ".editOp_StateMaster", function () {
        var rowIndex = $('#tblSiteAddress_State tr').index($(this).closest('tr'));
        var _Master = 'STATE';
        var _Code = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_StateMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSiteAddress_State tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_StateMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Site Group add function

    $('[id$="btnOutletMaster_SiteGroup_AddNew"]').click(function () {
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";

        var _ID = $('#tblSite_Group tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSite_Group tr:last td:last').html();
        var _Prefix = $('#tblSite_Group tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_SiteGroupMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_SiteGroupMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_SiteGroupMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_SiteGroupMaster  glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblSite_Group").append(newRow);

        $('#tblSite_Group tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSite_Group tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSite_Group tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSite_Group tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnOutletMaster_SiteGroup_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_SiteGroupMaster", function () {
        var rowIndex = $('#tblSite_Group tr').index($(this).closest('tr'));
        var _Master = 'SITE GROUP';
        var _Code = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(0)').html();
        var _ControlNo = $('#tblSite_Group tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_SiteGroupMaster').val().replace("'", "");
        var _Checked = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked =  true; else _Checked = false;
        var _ID = $('#tblSite_Group tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSite_Group tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_SiteGroupMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_SiteGroupMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_SiteGroupMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblSite_Group").append(newRow);
        counter++;
        $('[id$="btnOutletMaster_SiteGroup_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_SiteGroupMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblSite_Group tr').index($(this).closest('tr'));
            var _Master = 'SITE GROUP';
            var _Code = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_SiteGroupMaster", function () {
        var rowIndex = $('#tblSite_Group tr').index($(this).closest('tr'));
        var _Name = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSite_Group tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_SiteGroupMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSite_Group tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_SiteGroupMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_SiteGroupMaster').val(_Name);
    });

    $(document).on("click", ".editOp_SiteGroupMaster", function () {
        var rowIndex = $('#tblSite_Group tr').index($(this).closest('tr'));
        var _Master = 'SITE GROUP';
        var _Code = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_SiteGroupMaster').val().replace("'", "");
        var _Checked = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSite_Group tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSite_Group tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSite_Group tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_SiteGroupMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Country functions

    $('[id$="btnOutletMaster_Country_AddNew"]').click(function () {
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSiteAddress_Country tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSiteAddress_Country tr:last td:last').html();
        var _Prefix = $('#tblSiteAddress_Country tr:last td:nth-child(6)').html();
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CountryMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CountryMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CountryMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_CountryMaster  glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblSiteAddress_Country").append(newRow);
        $('#tblSiteAddress_Country tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSiteAddress_Country tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSiteAddress_Country tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSiteAddress_Country tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnOutletMaster_Country_AddNew"]').prop('disabled', true);
    });

    $(document).on("click", ".Add_CountryMaster", function () {
        var rowIndex = $('#tblSiteAddress_Country tr').index($(this).closest('tr'));
        var _Master = 'COUNTRY';
        var _Code = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(0)').html(); // $('#txtCode_CountryMaster').val().replace("'", "");
        var _Name = $('#txtName_CountryMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblSiteAddress_Country tr:last td:last').html();
        var _ID = $('#tblSiteAddress_Country tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSiteAddress_Country tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $(this).closest("tr").remove();
            var counter = 0;
            var newRow = $("<tr>");
            var cols = "";
            cols += '<td style="width: 40%;">' + _Code + '</td>';
            cols += '<td style="width: 40%;">' + _Name + '</td>';
            if (_Checked) {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CountryMaster editor-active"></td>';
            } else {
                cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CountryMaster editor-active"></td>';
            }
            cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CountryMaster glyphicon glyphicon-pencil"></i></div></td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
            cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
            newRow.append(cols);
            $("#tblSiteAddress_Country").append(newRow);
            counter++;
            $('[id$="btnOutletMaster_Country_AddNew"]').prop('disabled', false);
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMaster',
                data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
    });

    $(document).on("click", ".chk_CountryMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblSiteAddress_Country tr').index($(this).closest('tr'));
            var _Master = 'COUNTRY';
            var _Code = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }

    });

    $(document).on("click", ".edit_CountryMaster", function () {
        var rowIndex = $('#tblSiteAddress_Country tr').index($(this).closest('tr'));
        var _Name = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CountryMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CountryMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CountryMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CountryMaster", function () {
        var rowIndex = $('#tblSiteAddress_Country tr').index($(this).closest('tr'));
        var _Master = 'COUNTRY';
        var _Code = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CountryMaster').val().replace("'", "");
        var _Checked = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSiteAddress_Country tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CountryMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });



    // Occupation Type

    $('[id$="btnOccupationType_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblOccupationType tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblOccupationType tr:last td:last').html();
        var _Prefix = $('#tblOccupationType tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_OccupationType" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_OccupationType" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_OccupationType editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_OccupationType glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblOccupationType").append(newRow);

        $('#tblOccupationType tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblOccupationType tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblOccupationType tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblOccupationType tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnOccupationType_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_OccupationType", function () {
        var rowIndex = $('#tblOccupationType tr').index($(this).closest('tr'));
        var _Master = 'OCCUPATION TYPE';
        var _Code = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtName_OccupationType').val().replace("'", "");
        var _Checked = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblOccupationType tr:last td:last').html();
        var _ID = $('#tblOccupationType tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblOccupationType tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_OccupationType editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_OccupationType editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_OccupationType glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblOccupationType").append(newRow);
        counter++;
        $('[id$="btnOccupationType_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_OccupationType", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblOccupationType tr').index($(this).closest('tr'));
            var _Master = 'OCCUPATION TYPE';
            var _Code = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_OccupationType", function () {
        var rowIndex = $('#tblOccupationType tr').index($(this).closest('tr'));
        var _Name = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblOccupationType tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_OccupationType" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblOccupationType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_OccupationType glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_OccupationType').val(_Name);
    });

    $(document).on("click", ".editOp_OccupationType", function () {
        var rowIndex = $('#tblOccupationType tr').index($(this).closest('tr'));
        var _Master = 'OCCUPATION TYPE';
        var _Code = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_OccupationType').val().replace("'", "");
        var _Checked = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblOccupationType tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = false; else _Checked = true;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblOccupationType tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblOccupationType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_OccupationType glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Occupation Type Ends

    // Source

    $('[id$="btnSource_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSource tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSource tr:last td:last').html();
        var _Prefix = $('#tblSource tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_Source" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_Source" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_Source editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_Source glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblSource").append(newRow);

        $('#tblSource tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSource tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSource tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSource tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnSource_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_Source", function () {
        var rowIndex = $('#tblSource tr').index($(this).closest('tr'));
        var _Master = 'SOURCE';
        var _Code = $('#tblSource tr').eq(rowIndex).find('td:eq(0)').html();
        var _ControlNo = $('#tblSource tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_Source').val().replace("'", "");
        var _Checked = $('#tblSource tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;

        var _ControlNo = $('#tblSource tr:last td:last').html();
        var _ID = $('#tblSource tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSource tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_Source editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_Source editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_Source glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblSource").append(newRow);
        counter++;
        $('[id$="btnSource_AddNew"]').prop('disabled', false);

        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
                alert('Success');
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_Source", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblSource tr').index($(this).closest('tr'));
            var _Master = 'SOURCE';
            var _Code = $('#tblSource tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSource tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSource tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSource tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_Source", function () {
        var rowIndex = $('#tblSource tr').index($(this).closest('tr'));
        var _Name = $('#tblSource tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSource tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_Source" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSource tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_Source glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_Source').val(_Name);
    });

    $(document).on("click", ".editOp_Source", function () {
        var rowIndex = $('#tblSource tr').index($(this).closest('tr'));
        var _Master = 'SOURCE';
        var _Code = $('#tblSource tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_Source').val().replace("'", "");
        var _Checked = $('#tblSource tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSource tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSource tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSource tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_Source glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Source Ends

    // Block Reason

    $('[id$="btnBlockReason_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblBlockReasons tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblBlockReasons tr:last td:last').html();
        var _Prefix = $('#tblBlockReasons tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_BlockReasons" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_BlockReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_BlockReason editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_BlockReason glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblBlockReasons").append(newRow);

        $('#tblBlockReasons tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblBlockReasons tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblBlockReasons tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblBlockReasons tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnBlockReason_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_BlockReason", function () {
        var rowIndex = $('#tblBlockReasons tr').index($(this).closest('tr'));
        var _Master = 'BlockReason';
        var _Code = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtDesc_BlockReason').val().replace("'", "");
        var _Checked = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblBlockReasons tr:last td:last').html();
        var _ID = $('#tblBlockReasons tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblBlockReasons tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_BlockReason editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_BlockReason editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_BlockReason glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblBlockReasons").append(newRow);
        counter++;
        $('[id$="btnBlockReason_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_BlockReason", function () {


        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblBlockReasons tr').index($(this).closest('tr'));
            var _Master = 'BlockReason';
            var _Code = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }

    });

    $(document).on("click", ".edit_BlockReason", function () {
        var rowIndex = $('#tblBlockReasons tr').index($(this).closest('tr'));
        var _Name = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_BlockReason" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_BlockReason glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_BlockReason').val(_Name);
    });

    $(document).on("click", ".editOp_BlockReason", function () {
        var rowIndex = $('#tblBlockReasons tr').index($(this).closest('tr'));
        var _Master = 'BlockReason';
        var _Code = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_BlockReason').val().replace("'", "");
        var _Checked = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblBlockReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_BlockReason glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Block Reason Ends

    // Adjustment Reason

    $('[id$="btnAdjustmentReason_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblAdjustmentReasons tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblAdjustmentReasons tr:last td:last').html();
        var _Prefix = $('#tblAdjustmentReasons tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_AdjustmentReason" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_AdjustmentReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_AdjustmentReason editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_AdjustmentReason glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblAdjustmentReasons").append(newRow);

        $('#tblAdjustmentReasons tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblAdjustmentReasons tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblAdjustmentReasons tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblAdjustmentReasons tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnAdjustmentReason_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_AdjustmentReason", function () {
        var rowIndex = $('#tblAdjustmentReasons tr').index($(this).closest('tr'));
        var _Master = 'AdjustmentReason';
        var _Code = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_AdjustmentReason').val().replace("'", "");
        var _Checked = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblAdjustmentReasons tr:last td:last').html();
        var _ID = $('#tblAdjustmentReasons tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblAdjustmentReasons tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_AdjustmentReason editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_AdjustmentReason editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_AdjustmentReason glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblAdjustmentReasons").append(newRow);
        counter++;
        $('[id$="btnAdjustmentReason_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_AdjustmentReason", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblAdjustmentReasons tr').index($(this).closest('tr'));
            var _Master = 'AdjustmentReason';
            var _Code = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }

    });

    $(document).on("click", ".edit_AdjustmentReason", function () {
        var rowIndex = $('#tblAdjustmentReasons tr').index($(this).closest('tr'));
        var _Name = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_AdjustmentReason" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_AdjustmentReason glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_AdjustmentReason').val(_Name);
    });

    $(document).on("click", ".editOp_AdjustmentReason", function () {
        var rowIndex = $('#tblAdjustmentReasons tr').index($(this).closest('tr'));
        var _Master = 'AdjustmentReason';
        var _Code = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_AdjustmentReason').val().replace("'", "");
        var _Checked = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblAdjustmentReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_AdjustmentReason glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Adjustment Reason Ends

    // Diagnosis

    $('[id$="btnDiagnosis_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblDiagnosis tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblDiagnosis tr:last td:last').html();
        var _Prefix = $('#tblDiagnosis tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_Diagnosis" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_Diagnosis" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_Diagnosis editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_Diagnosis glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblDiagnosis").append(newRow);

        $('#tblDiagnosis tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblDiagnosis tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblDiagnosis tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblDiagnosis tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnDiagnosis_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_Diagnosis", function () {
        var rowIndex = $('#tblDiagnosis tr').index($(this).closest('tr'));
        var _Master = 'Diagnosis';
        var _Code = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblDiagnosis tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_Diagnosis').val().replace("'", "");
        var _Checked = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblDiagnosis tr:last td:last').html();
        var _ID = $('#tblDiagnosis tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblDiagnosis tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_Diagnosis editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_Diagnosis editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_Diagnosis glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblDiagnosis").append(newRow);
        counter++;
        $('[id$="btnDiagnosis_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_Diagnosis", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblDiagnosis tr').index($(this).closest('tr'));
            var _Master = 'Diagnosis';
            var _Code = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }
    });

    $(document).on("click", ".edit_Diagnosis", function () {
        var rowIndex = $('#tblDiagnosis tr').index($(this).closest('tr'));
        var _Name = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_Diagnosis" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_Diagnosis glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_Diagnosis').val(_Name);
    });

    $(document).on("click", ".editOp_Diagnosis", function () {
        var rowIndex = $('#tblDiagnosis tr').index($(this).closest('tr'));
        var _Master = 'Diagnosis';
        var _Code = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_Diagnosis').val().replace("'", "");
        var _Checked = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblDiagnosis tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_Diagnosis glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Diagnosis Ends

    // Item Status Group 

    //$('[id$="btnItemStatusGroup_AddNew"]').click(function () {

    //    var newRow = $("<tr>");
    //    var cols = "";
    //    var _ID = $('#tblItemStatusGroup tr:last td:nth-child(6)').html();  
    //    var _ControlNo = $('#tblItemStatusGroup tr:last td:last').html();   
    //    var _Prefix = $('#tblItemStatusGroup tr:last td:nth-child(7)').html();   

    //    cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ItemStatusGroup" runat="server" maxlength="255" placeholder=""></td>';
    //    cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_ItemStatusGroup" runat="server" maxlength="255" placeholder="Enter Description"></td>';
    //    cols += '<td style="width: 25%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtShortDesc_ItemStatusGroup" runat="server" maxlength="255" placeholder="Enter Short Description"></td>';
    //    cols += '<td style="width: 5%; text-align:center"><input type="checkbox" class="chk_ItemStatusGroup editor - active"></td>';
    //    cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_ItemStatusGroup glyphicon glyphicon-plus"></i></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    newRow.append(cols);
    //    $("#tblItemStatusGroup").append(newRow);

    //    $('#tblItemStatusGroup tr:last td:first').html(_Prefix + _ControlNo + '');
    //    $('#tblItemStatusGroup tr:last td:last').html(parseInt(_ControlNo) + 1 + '');  
    //    $('#tblItemStatusGroup tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');   
    //    $('#tblItemStatusGroup tr:last td:nth-child(7)').html(_Prefix);   

    //  //  counter++;
    //     $('[id$="btnItemStatusGroup_AddNew"]').prop('disabled', true);

    //        });

    //  $(document).on("click", ".Add_ItemStatusGroup", function () {
    //     var rowIndex = $('#tblItemStatusGroup tr').index($(this).closest('tr'));
    //    var _Master = 'ItemStatusGroup';
    //    var _Code = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(1)').html();
    //    var _ControlNo = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:last').html();
    //    var _Name = $('#txtDesc_ItemStatusGroup').val().replace("'", "");
    //   // var _Name = $('#txtDesc_ItemStatusGroup').val().replace("'", "");
    //    var _Checked = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
    //    if (_Checked) {
    //         _Checked = true;
    //     }
    //     else {
    //         _Checked = false;
    //     }
    //    var _ControlNo = $('#tblItemStatusGroup tr:last td:last').html();   
    //    var _ID = $('#tblItemStatusGroup tr:last td:nth-child(6)').html();  
    //    var _Prefix = $('#tblItemStatusGroup tr:last td:nth-child(7)').html();   
    //    var _Validation = true;
    //    if (_Code == '') {
    //        _Validation = false;
    //    }
    //    if (_Name == '') {
    //        _Validation = false;
    //    }

    //        $(this).closest("tr").remove();
    //        var counter = 0;
    //        var newRow = $("<tr>");
    //        var cols = "";
    //        cols += '<td style="width: 40%;">' + _Code + '</td>';
    //        cols += '<td style="width: 40%;">' + _Name + '</td>';
    //       if (_Checked) {
    //            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_ItemStatusGroup editor-active"></td>';
    //        } else {
    //            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ItemStatusGroup editor-active"></td>';
    //        }
    //        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_ItemStatusGroup glyphicon glyphicon-pencil"></i></div></td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
    //        newRow.append(cols);
    //        $("#tblItemStatusGroup").append(newRow);
    //        counter++;
    //        $('[id$="btnItemStatusGroup_AddNew"]').prop('disabled', false);
    //        $.ajax({
    //            type: "POST",
    //            url: 'DashBoard.aspx/CommonMaster',
    //            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
    //            contentType: "application/json; charset=utf-8",
    //            dataType: "json",
    //            success: function (msg) {
    //                $("#divResult").html("success");
    //            },
    //            error: function (e) {
    //                $("#divResult").html("Something Wrong.");
    //            }
    //        });
    //        });

    //        $(document).on("click", ".chk_ItemStatusGroup", function () {
    //            var confirmation = confirm("Are you sure ?");
    //            if (confirmation) {
    //                var rowIndex = $('#tblItemStatusGroup tr').index($(this).closest('tr'));
    //                var _Master = 'ItemStatusGroup';
    //                var _Code = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(0)').html();
    //                var _Name = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(1)').html();
    //                var _Checked = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
    //                if (_Checked) {
    //                    _Checked = true;
    //                }
    //                else {
    //                    _Checked = false;
    //                }
    //                var _ID = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(4)').html();
    //                $.ajax({
    //                    type: "POST",
    //                    url: 'DashBoard.aspx/CommonMasterUpdate',
    //                    data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
    //                    contentType: "application/json; charset=utf-8",
    //                    dataType: "json",
    //                    success: function (msg) {
    //                        $("#divResult").html("success");
    //                    },
    //                    error: function (e) {
    //                        $("#divResult").html("Something Wrong.");
    //                    }
    //                });
    //            }
    //            else {
    //                return false;

    //            }
    //});

    //$(document).on("click", ".edit_ItemStatusGroup", function () {
    //    var rowIndex = $('#tblItemStatusGroup tr').index($(this).closest('tr'));
    //    var _Name = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
    //    $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_ItemStatusGroup" runat="server" maxlength="255" placeholder="Enter Description">');
    //    $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtShortDescedit_ItemStatusGroup" runat="server" maxlength="255" placeholder="Enter Short Description">');
    //    $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="editOp_ItemStatusGroup glyphicon glyphicon-edit"></i></div>');
    //    $('#txtDescedit_ItemStatusGroup').val(_Name);
    //});

    //$(document).on("click", ".editOp_ItemStatusGroup", function () {
    //    var rowIndex = $('#tblItemStatusGroup tr').index($(this).closest('tr'));
    //    var _Master = 'ItemStatusGroup';
    //    var _Code = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
    //    var _Name = $('#txtDescedit_ItemStatusGroup').val().replace("'", "");
    //    var _Checked = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
    //    var _ID = $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(4)').html();
    //     if (_Checked) {
    //         _Checked = true;
    //     }
    //     else {
    //         _Checked = false;
    //     }
    //    var _Validation = true;
    //    if (_Name == '') {
    //        _Validation = false;
    //    }
    //    if (_Validation == true) {
    //        $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(1)').html(_Name);
    //        $('#tblItemStatusGroup tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_ItemStatusGroup glyphicon glyphicon-pencil"></i></div>');
    //        $.ajax({
    //            type: "POST",
    //            url: 'DashBoard.aspx/CommonMasterUpdate',
    //            data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
    //            contentType: "application/json; charset=utf-8",
    //            dataType: "json",
    //            success: function (msg) {
    //                $("#divResult").html("success");
    //            },
    //            error: function (e) {
    //                $("#divResult").html("Something Wrong.");
    //            }
    //        });
    //    }

    //        })

    // Item Status Group Ends

    // Discount Reason

    $('[id$="btnDiscountReason_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblDiscountReasons tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblDiscountReasons tr:last td:last').html();
        var _Prefix = $('#tblDiscountReasons tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_DiscountReason" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_DiscountReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_DiscountReason editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_DiscountReason glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblDiscountReasons").append(newRow);

        $('#tblDiscountReasons tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblDiscountReasons tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblDiscountReasons tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblDiscountReasons tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnDiscountReason_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_DiscountReason", function () {
        var rowIndex = $('#tblDiscountReasons tr').index($(this).closest('tr'));
        var _Master = 'DiscountReason';
        var _Code = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblDiscountReasons tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_DiscountReason').val().replace("'", "");
        var _Checked = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblDiscountReasons tr:last td:last').html();
        var _ID = $('#tblDiscountReasons tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblDiscountReasons tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_DiscountReason editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_DiscountReason editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_DiscountReason glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblDiscountReasons").append(newRow);
        counter++;
        $('[id$="btnDiscountReason_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_DiscountReason", function () {

        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblDiscountReasons tr').index($(this).closest('tr'));
            var _Master = 'DiscountReason';
            var _Code = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;



        }

    });

    $(document).on("click", ".edit_DiscountReason", function () {
        var rowIndex = $('#tblDiscountReasons tr').index($(this).closest('tr'));
        var _Name = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_DiscountReason" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_DiscountReason glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_DiscountReason').val(_Name);
    });

    $(document).on("click", ".editOp_DiscountReason", function () {
        var rowIndex = $('#tblDiscountReasons tr').index($(this).closest('tr'));
        var _Master = 'DiscountReason';
        var _Code = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_DiscountReason').val().replace("'", "");
        var _Checked = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblDiscountReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_DiscountReason glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Discount Reason Ends

    // FOC Reason 

    //$('[id$="btnFocReason_AddNew"]').click(function () {

    //    var newRow = $("<tr>");
    //    var cols = "";
    //    var _ID = $('#tblFoctReasons tr:last td:nth-child(6)').html();  
    //    var _ControlNo = $('#tblFoctReasons tr:last td:last').html();   
    //    var _Prefix = $('#tblFoctReasons tr:last td:nth-child(7)').html();   

    //    cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_FocReason" runat="server" maxlength="255" placeholder=""></td>';
    //    cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_FocReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
    //    cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtShortDesc_FocReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
    //    cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_FocReason editor - active"></td>';
    //    cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_FocReason glyphicon glyphicon-plus"></i></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
    //    newRow.append(cols);
    //    $("#tblFoctReasons").append(newRow);

    //    $('#tblFoctReasons tr:last td:first').html(_Prefix + _ControlNo + '');
    //    $('#tblFoctReasons tr:last td:last').html(parseInt(_ControlNo) + 1 + '');  
    //    $('#tblFoctReasons tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');   
    //    $('#tblFoctReasons tr:last td:nth-child(7)').html(_Prefix);   

    //  //  counter++;
    //     $('[id$="btnFocReason_AddNew"]').prop('disabled', true);

    //        });

    //$(document).on("click", ".Add_FocReason", function () {
    //     var rowIndex = $('#tblFoctReasons tr').index($(this).closest('tr'));
    //    var _Master = 'FocReason';
    //    var _Code = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(0)').html();
    //    var _ControlNo = $('#tblFoctReasons tr').eq(rowIndex).find('td:last').html();
    //    var _Name = $('#txtDesc_FocReason').val().replace("'", "");
    //    var _Checked = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
    //     if (_Checked) {
    //         _Checked = true;
    //     }
    //     else {
    //         _Checked = false;
    //     }
    //    var _ControlNo = $('#tblFoctReasons tr:last td:last').html();   
    //    var _ID = $('#tblFoctReasons tr:last td:nth-child(5)').html();  
    //    var _Prefix = $('#tblFoctReasons tr:last td:nth-child(6)').html();   
    //    var _Validation = true;
    //    if (_Code == '') {
    //        _Validation = false;
    //    }
    //    if (_Name == '') {
    //        _Validation = false;
    //    }

    //        $(this).closest("tr").remove();
    //        var counter = 0;
    //        var newRow = $("<tr>");
    //        var cols = "";
    //        cols += '<td style="width: 40%;">' + _Code + '</td>';
    //        cols += '<td style="width: 40%;">' + _Name + '</td>';
    //       if (_Checked) {
    //            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_FocReason editor-active"></td>';
    //        } else {
    //            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_FocReason editor-active"></td>';
    //        }
    //        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_FocReason glyphicon glyphicon-pencil"></i></div></td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
    //        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
    //        newRow.append(cols);
    //        $("#tblFoctReasons").append(newRow);
    //        counter++;
    //        $('[id$="btnFocReason_AddNew"]').prop('disabled', false);
    //        $.ajax({
    //            type: "POST",
    //            url: 'DashBoard.aspx/CommonMaster',
    //            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
    //            contentType: "application/json; charset=utf-8",
    //            dataType: "json",
    //            success: function (msg) {
    //                $("#divResult").html("success");
    //            },
    //            error: function (e) {
    //                $("#divResult").html("Something Wrong.");
    //            }
    //        });
    //        });

    //        $(document).on("click", ".chk_FocReason", function () {
    //            var confirmation = confirm("Are you sure ?");
    //            if (confirmation) {

    //                var rowIndex = $('#tblFoctReasons tr').index($(this).closest('tr'));
    //                var _Master = 'FocReason';
    //                var _Code = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(0)').html();
    //                var _Name = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(1)').html();
    //                var _Checked = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
    //                if (_Checked) {
    //                    _Checked = true;
    //                }
    //                else {
    //                    _Checked = false;
    //                }
    //                var _ID = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(4)').html();
    //                $.ajax({
    //                    type: "POST",
    //                    url: 'DashBoard.aspx/CommonMasterUpdate',
    //                    data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
    //                    contentType: "application/json; charset=utf-8",
    //                    dataType: "json",
    //                    success: function (msg) {
    //                        $("#divResult").html("success");
    //                    },
    //                    error: function (e) {
    //                        $("#divResult").html("Something Wrong.");
    //                    }
    //                });
    //            }
    //            else {
    //                return false;

    //            }
    //});

    //$(document).on("click", ".edit_FocReason", function () {
    //    var rowIndex = $('#tblFoctReasons tr').index($(this).closest('tr'));
    //    var _Name = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(2)').html().replace("'", "");
    //    $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_FocReason" runat="server" maxlength="255" placeholder="Enter Name">');
    //    $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_FocReason glyphicon glyphicon-edit"></i></div>');
    //    $('#txtDescedit_FocReason').val(_Name);
    //});

    //$(document).on("click", ".editOp_FocReason", function () {
    //    var rowIndex = $('#tblFoctReasons tr').index($(this).closest('tr'));
    //    var _Master = 'FocReason';
    //    var _Code = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
    //    var _Name = $('#txtDescedit_FocReason').val().replace("'", "");
    //    var _Checked = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
    //    var _ID = $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(5)').html();
    //    if (_Checked) {
    //         _Checked = true;
    //     }
    //     else {
    //         _Checked = false;
    //     }
    //    var _Validation = true;
    //    if (_Name == '') {
    //        _Validation = false;
    //    }
    //    if (_Validation == true) {
    //        $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(2)').html(_Name);
    //        $('#tblFoctReasons tr').eq(rowIndex).find('td:eq(5)'.html('<div class="tools"><i class="edit_FocReason glyphicon glyphicon-pencil"></i></div>');
    //        $.ajax({
    //            type: "POST",
    //            url: 'DashBoard.aspx/CommonMasterUpdate',
    //            data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
    //            contentType: "application/json; charset=utf-8",
    //            dataType: "json",
    //            success: function (msg) {
    //                $("#divResult").html("success");
    //            },
    //            error: function (e) {
    //                $("#divResult").html("Something Wrong.");
    //            }
    //        });
    //    }

    //        })

    // FOC Reason ENds

    // Payment Type

    $('[id$="btnPaymentType_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblPaymentType tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblPaymentType tr:last td:last').html();
        var _Prefix = $('#tblPaymentType tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_PaymentType" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_PaymentType" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" class="chk_PaymentType editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_PaymentType glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblPaymentType").append(newRow);

        $('#tblPaymentType tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblPaymentType tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblPaymentType tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblPaymentType tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnPaymentType_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_PaymentType", function () {
        var rowIndex = $('#tblPaymentType tr').index($(this).closest('tr'));
        var _Master = 'PaymentType';
        var _Code = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblPaymentType tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_PaymentType').val().replace("'", "");
        var _Checked = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblPaymentType tr:last td:last').html();
        var _ID = $('#tblPaymentType tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblPaymentType tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_PaymentType editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_PaymentType editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_PaymentType glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblPaymentType").append(newRow);
        counter++;
        $('[id$="btnPaymentType_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_PaymentType", function () {
        var rowIndex = $('#tblPaymentType tr').index($(this).closest('tr'));
        var _Master = 'PaymentType';
        var _Code = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(1)').html();
        var _Checked = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ID = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(4)').html();
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMasterUpdate',
            data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });

    });

    $(document).on("click", ".edit_PaymentType", function () {
        var rowIndex = $('#tblPaymentType tr').index($(this).closest('tr'));
        var _Name = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblPaymentType tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_PaymentType" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblPaymentType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_PaymentType glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_PaymentType').val(_Name);
    });

    $(document).on("click", ".editOp_PaymentType", function () {
        var rowIndex = $('#tblPaymentType tr').index($(this).closest('tr'));
        var _Master = 'PaymentType';
        var _Code = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_PaymentType').val().replace("'", "");
        var _Checked = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblPaymentType tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblPaymentType tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblPaymentType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_PaymentType glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Payment Type Ends

    // Appointment Group

    $('[id$="btnAppointmentGroup_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblAppointmentGroup tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblAppointmentGroup tr:last td:last').html();
        var _Prefix = $('#tblAppointmentGroup tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_AppointmentGroup" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_AppointmentGroup" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" class="chk_AppointmentGroup editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_AppointmentGroup glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblAppointmentGroup").append(newRow);

        $('#tblAppointmentGroup tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblAppointmentGroup tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblAppointmentGroup tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblAppointmentGroup tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnAppointmentGroup_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_AppointmentGroup", function () {
        var rowIndex = $('#tblAppointmentGroup tr').index($(this).closest('tr'));
        var _Master = 'AppointmentGroup';
        var _Code = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_AppointmentGroup').val().replace("'", "");
        var _Checked = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblAppointmentGroup tr:last td:last').html();
        var _ID = $('#tblAppointmentGroup tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblAppointmentGroup tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_AppointmentGroup editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_AppointmentGroup editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_AppointmentGroup glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblAppointmentGroup").append(newRow);
        counter++;
        $('[id$="btnAppointmentGroup_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
                alert('Success');
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_AppointmentGroup", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblAppointmentGroup tr').index($(this).closest('tr'));
            var _Master = 'AppointmentGroup';
            var _Code = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }

    });

    $(document).on("click", ".edit_AppointmentGroup", function () {
        var rowIndex = $('#tblAppointmentGroup tr').index($(this).closest('tr'));
        var _Name = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_AppointmentGroup" runat="server" maxlength="255" placeholder="Enter Description">');
        $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_AppointmentGroup glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_AppointmentGroup').val(_Name);
    });

    $(document).on("click", ".editOp_AppointmentGroup", function () {
        var rowIndex = $('#tblAppointmentGroup tr').index($(this).closest('tr'));
        var _Master = 'AppointmentGroup';
        var _Code = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_AppointmentGroup').val().replace("'", "");
        var _Checked = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblAppointmentGroup tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_AppointmentGroup glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // Appointment Group Ends

    // Transaction Reason

    $('[id$="btnTransactionReason_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";

        var _ID = $('#tblTransactionReason tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblTransactionReason tr:last td:last').html();
        var _Prefix = $('#tblTransactionReason tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_TransactionReason" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_TransactionReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_TransactionReason editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_TransactionReason glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblTransactionReason").append(newRow);

        $('#tblTransactionReason tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblTransactionReason tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblTransactionReason tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblTransactionReason tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnTransactionReason_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_TransactionReason", function () {
        var rowIndex = $('#tblTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'TransactionReason';
        var _Code = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblTransactionReason tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_TransactionReason').val().replace("'", "");
        var _Checked = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblTransactionReason tr:last td:last').html();
        var _ID = $('#tblTransactionReason tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblTransactionReason tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_TransactionReason editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_TransactionReason editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_TransactionReason glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblTransactionReason").append(newRow);
        counter++;
        $('[id$="btnTransactionReason_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
                alert('Success');
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_TransactionReason", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblTransactionReason tr').index($(this).closest('tr'));
            var _Master = 'TransactionReason';
            var _Code = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;

        }
    });

    $(document).on("click", ".edit_TransactionReason", function () {
        var rowIndex = $('#tblTransactionReason tr').index($(this).closest('tr'));
        var _Name = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_TransactionReason" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_TransactionReason glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_TransactionReason').val(_Name);
    });

    $(document).on("click", ".editOp_TransactionReason", function () {
        var rowIndex = $('#tblTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'TransactionReason';
        var _Code = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_TransactionReason').val().replace("'", "");
        var _Checked = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblTransactionReason tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_TransactionReason glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Transaction Reason Ends



    // VOIDTransactionReason

    $('[id$="btnVOIDTransactionReason_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblVOIDTransactionReason tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblVOIDTransactionReason tr:last td:last').html();
        var _Prefix = $('#tblVOIDTransactionReason tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_VOIDTransactionReason" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_VOIDTransactionReason" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_VOIDTransactionReason editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_VOIDTransactionReason glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblVOIDTransactionReason").append(newRow);

        $('#tblVOIDTransactionReason tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblVOIDTransactionReason tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblVOIDTransactionReason tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblVOIDTransactionReason tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnVOIDTransactionReason_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_VOIDTransactionReason", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'VOIDTransactionReason';
        var _Code = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtDesc_VOIDTransactionReason').val().replace("'", "");
        var _Checked = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = $('#tblVOIDTransactionReason tr:last td:last').html();
        var _ID = $('#tblVOIDTransactionReason tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblVOIDTransactionReason tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_VOIDTransactionReason editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_VOIDTransactionReason editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_VOIDTransactionReason glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblVOIDTransactionReason").append(newRow);
        counter++;
        $('[id$="btnVOIDTransactionReason_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_VOIDTransactionReason", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'VOIDTransactionReason';
        var _Code = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(1)').html();
        var _Checked = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ID = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(4)').html();
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMasterUpdate',
            data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });

    });

    $(document).on("click", ".edit_VOIDTransactionReason", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Name = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_VOIDTransactionReason" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_VOIDTransactionReason glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_VOIDTransactionReason').val(_Name);
    });

    $(document).on("click", ".editOp_VOIDTransactionReason", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'VOIDTransactionReason';
        var _Code = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_VOIDTransactionReason').val().replace("'", "");
        var _Checked = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_VOIDTransactionReason glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    // VOIDTransactionReason Ends

 // Item UOM

    $('[id$="btnItemUOM_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblItemUOM tr:last td:nth-child(5)').html();

        cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ItemUOM" runat="server" maxlength="20" placeholder="Enter Code"></td>';
        cols += '<td style="width: 50%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_ItemUOM" runat="server" maxlength="50" placeholder="Enter Description"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ItemUOM editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_ItemUOM glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblItemUOM").append(newRow);

        $('#tblItemUOM tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');

        $('[id$="btnItemUOM_AddNew"]').prop('disabled', true);

     });

    function checkDuplicateInTable(tableID, columnNum, searchString) {
                var found = false;
                    $(tableID).each(function () {
                    var itemCode = $(this).find("td").eq(columnNum).html();
                        if (itemCode == searchString) {
                                found = true;
                                return false;
                        }
                });

                return found;
            }

    function checkDuplicateInTable(tableID, columnNum, searchString, rowNum) {
                var found = false;
                    $(tableID).each(function () {
                    var xIndex = $(this).index();
                    var itemCode = $(this).find("td").eq(columnNum).html();
                        if (itemCode == searchString) {
                            if (rowNum != xIndex) {
                                found = true;
                                return false;
                            }
                        }
                });

                return found;
            }

     $(document).on("click", ".Add_ItemUOM", function () {

        var rowIndex = $('#tblItemUOM tr').index($(this).closest('tr'));
        var _Master = 'ItemUOM';
        var _Code = $('#txtCode_ItemUOM').val().trim().replace("'", "");  // $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtDesc_ItemUOM').val().trim().replace("'", "");

        if (_Code == "") {
                    alert("Enter UOM Code!");
                    return false;
         }

        if (_Name == "") {
                    alert("Enter Description!");
                    return false;
        }

        if (checkDuplicateInTable('#tblItemUOM tr', 0, _Code)) {
                    alert("Enter UOM Code!");
                    return false;
        }

       if (checkDuplicateInTable('#tblItemUOM tr', 1, _Name)) {
                    alert("Duplicate Description!");
                    return false;
        }
        
        var _Checked = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _ControlNo = '';
        var _ID = $('#tblItemUOM tr:last td:nth-child(5)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 30%;">' + _Code + '</td>';
        cols += '<td style="width: 50%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ItemUOM editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_ItemUOM editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_ItemUOM glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        newRow.append(cols);
        $("#tblItemUOM").append(newRow);
        counter++;
        $('[id$="btnItemUOM_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.. Check Duplicates!");
            }
        });
     });

    $(document).on("click", ".chk_ItemUOM", function () {

        var confirmation = confirm("Are you sure ?");

        if (confirmation) {

            var rowIndex = $('#tblItemUOM tr').index($(this).closest('tr'));
            var _Master = 'ItemUOM';
            var _Code = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });

        } else {
            return false;
        }
       
    });

    $(document).on("click", ".edit_ItemUOM", function () {
        var rowIndex = $('#tblItemUOM tr').index($(this).closest('tr'));
        var _Code = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtCodeedit_ItemUOM" runat="server" maxlength="20" placeholder="Enter Code">');
        $('#tblItemUOM tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_ItemUOM" runat="server" maxlength="50" placeholder="Enter Name">');
        $('#tblItemUOM tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_ItemUOM glyphicon glyphicon-edit"></i></div>');
        $('#txtCodeedit_ItemUOM').val(_Code);
        $('#txtDescedit_ItemUOM').val(_Name);
    });

    $(document).on("click", ".editOp_ItemUOM", function () {
        var rowIndex = $('#tblItemUOM tr').index($(this).closest('tr'));
        var _Master = 'ItemUOM';
        var _Code = $('#txtCodeedit_ItemUOM').val().trim().replace("'", ""); // $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_ItemUOM').val().trim().replace("'", "");
        var _Checked = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblItemUOM tr').eq(rowIndex).find('td:eq(4)').html();
        
        if (_Code == "") {
                    alert("Enter UOM Code!");
                    return false;
         }

        if (_Name == "") {
                    alert("Enter Description!");
                    return false;
        }

        if (checkDuplicateInTable('#tblItemUOM tr', 0, _Code)) {
                    alert("Duplicate UOM Code!");
                    return false;
        }

       if (checkDuplicateInTable('#tblItemUOM tr', 1, _Name)) {
                    alert("Duplicate Description!");
                    return false;
        }

        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblItemUOM tr').eq(rowIndex).find('td:eq(0)').html(_Code);
            $('#tblItemUOM tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblItemUOM tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_ItemUOM glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

// Item UOM Ends


    //Security Level

    $('[id$="btnSecurityLevel_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSecurityLevel tr:last td:nth-child(6)').html();
        var _ControlNo = $('#tblSecurityLevel tr:last td:last').html();
        var _Prefix = $('#tblSecurityLevel tr:last td:nth-child(7)').html();

        cols += '<td style="width: 15%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_SecurityLevel" runat="server" maxlength="20" placeholder=""></td>';
        cols += '<td style="width: 25%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_SecurityLevel" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_SecurityLevel" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_SecurityLevel editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_SecurityLevel glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblSecurityLevel").append(newRow);

        $('#tblSecurityLevel tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSecurityLevel tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSecurityLevel tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');
        $('#tblSecurityLevel tr:last td:nth-child(7)').html(_Prefix);

        //  counter++;
        $('[id$="btnSecurityLevel_AddNew"]').prop('disabled', true);

     });

    $(document).on("click", ".Add_SecurityLevel", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'SecurityLevel';
        var _Code = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblVOIDTransactionReason tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_SecurityLevel').val().replace("'", "");
        var _Desc = $('#txtDesc_SecurityLevel').val().replace("'", "");
        var _Checked = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblSecurityLevel tr:last td:last').html();
        var _ID = $('#tblSecurityLevel tr:last td:nth-child(6)').html();
        var _Prefix = $('#tblSecurityLevel tr:last td:nth-child(7)').html();

        if (_Name == "") {
                    alert("Enter Security Name!");
                    return false;
        }

            
        if (_Desc == "") {
                    alert("Enter Description!");
                    return false;
         }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 15%;">' + _Code + '</td>';
        cols += '<td style="width: 25%;">' + _Name + '</td>';
        cols += '<td style="width: 40%;">' + _Desc + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_SecurityLevel editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_SecurityLevel editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_SecurityLevel glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblSecurityLevel").append(newRow);
        counter++;
        $('[id$="btnSecurityLevel_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/SecurityLevelMaster',
            data: "{'Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

      $(document).on("click", ".chk_SecurityLevel", function () {

        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblSecurityLevel tr').index($(this).closest('tr'));
            var _Master = 'SecurityLevel';
            var _Code = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(1)').html();
            var _Desc = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(2)').html();
            var _Checked = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(5)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/SecurityLevelMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_SecurityLevel", function () {
        var rowIndex = $('#tblSecurityLevel tr').index($(this).closest('tr'));
        var _Name = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        var _Desc = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(2)').html().replace("'", "");
        $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_SecurityLevel" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_SecurityLevel" runat="server" maxlength="255" placeholder="Enter Description">');
        $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="editOp_SecurityLevel glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_SecurityLevel').val(_Name);
        $('#txtDescedit_SecurityLevel').val(_Desc);
    });

    $(document).on("click", ".editOp_SecurityLevel", function () {
        var rowIndex = $('#tblSecurityLevel tr').index($(this).closest('tr'));
        var _Master = 'SecurityLevel';
        var _Code = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_SecurityLevel').val().replace("'", "");
        var _Desc = $('#txtDescedit_SecurityLevel').val().replace("'", "");
        var _Checked = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        var _ID = $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(5)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(2)').html(_Desc);
            $('#tblSecurityLevel tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="edit_SecurityLevel glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/SecurityLevelMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

            });

    //Appt Booking Status

   //function newBackgroundColor(color) {
   //     //document.bgColor = color;
   //     //var a = document.getElementById("txtDesc_ApptBookingStatus");
   //     //a.value = color;
   //    $('#txtDesc_ApptBookingStatus').val(color);
   //}  

    //function colorChanged(sender) {
    //      sender.get_element().style.color ="#" + sender.get_selectedColor();
    // }

    function Color_Changed(sender) {

       sender.get_element().value = "#" + sender.get_selectedColor();

    }

    $('[id$="btnApptBookingStatus_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblApptBookingStatus tr:last td:nth-child(6)').html();
        var _ControlNo = $('#tblApptBookingStatus tr:last td:last').html();
        var _Prefix = $('#tblApptBookingStatus tr:last td:nth-child(7)').html();

        cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ApptBookingStatus" runat="server" maxlength="20" placeholder=""></td>';
        cols += '<td style="width: 35%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_ApptBookingStatus" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 35%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_ApptBookingStatus" runat="server" maxlength="255" placeholder="Enter Color Code"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ApptBookingStatus editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_ApptBookingStatus glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';

        newRow.append(cols);
        $("#tblApptBookingStatus").append(newRow);

        $('#tblApptBookingStatus tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblApptBookingStatus tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblApptBookingStatus tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');
        $('#tblApptBookingStatus tr:last td:nth-child(7)').html(_Prefix);

        //  counter++;
        $('[id$="btnApptBookingStatus_AddNew"]').prop('disabled', true);

     });

    $(document).on("click", ".Add_ApptBookingStatus", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'ApptBookingStatus';
        var _Code = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtName_ApptBookingStatus').val().replace("'", "");
        var _Desc = $('#txtDesc_ApptBookingStatus').val().replace("'", "");
        var _Checked = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblApptBookingStatus tr:last td:last').html();
        var _ID = $('#tblApptBookingStatus tr:last td:nth-child(6)').html();
        var _Prefix = $('#tblApptBookingStatus tr:last td:nth-child(7)').html();
              
        if (_Desc == "") {
                    alert("Enter Description!");
                    return false;
        }

        //if (_Name == "") {
        //            alert("Enter Security Name!");
        //            return false;
        //}

      

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 20%;">' + _Code + '</td>';
        cols += '<td style="width: 35%;">' + _Desc + '</td>';
        cols += '<td style="width: 25%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ApptBookingStatus editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_ApptBookingStatus editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_ApptBookingStatus glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblApptBookingStatus").append(newRow);
        counter++;
        $('[id$="btnApptBookingStatus_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/ApptBookingStatusMaster',
            data: "{'Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_ApptBookingStatus", function () {

       var confirmation = confirm("Are you sure ?");
       if (confirmation) {

            var rowIndex = $('#tblApptBookingStatus tr').index($(this).closest('tr'));
            var _Master = 'ApptBookingStatus';
            var _Code = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(0)').html();
            var _Desc = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(1)').html();
            var _Name = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(2)').html();
            var _Checked = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(5)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/ApptBookingStatusMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
       }
       else {
           return false;
       }
    });

    $(document).on("click", ".edit_ApptBookingStatus", function () {
        var rowIndex = $('#tblApptBookingStatus tr').index($(this).closest('tr'));
        var _Desc = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        var _Name = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(2)').html().replace("'", "");
        $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_ApptBookingStatus" runat="server" maxlength="255" placeholder="Enter Description">');
        $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_ApptBookingStatus" runat="server" maxlength="255" placeholder="Enter Color Code">');
        $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="editOp_ApptBookingStatus glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_ApptBookingStatus').val(_Name);
        $('#txtDescedit_ApptBookingStatus').val(_Desc);
    });

    $(document).on("click", ".editOp_ApptBookingStatus", function () {
        var rowIndex = $('#tblApptBookingStatus tr').index($(this).closest('tr'));
        var _Master = 'ApptBookingStatus';
        var _Code = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_ApptBookingStatus').val().replace("'", "");
        var _Desc = $('#txtDescedit_ApptBookingStatus').val().replace("'", "");
        var _Checked = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        var _ID = $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(5)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(1)').html(_Desc);
            $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(2)').html(_Name);
            $('#tblApptBookingStatus tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="edit_ApptBookingStatus glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/ApptBookingStatusMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

       });

    //Appt Secondary Status

    $('[id$="btnApptSecondaryStatus_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblApptSecondaryStatus tr:last td:nth-child(6)').html();
        var _ControlNo = $('#tblApptSecondaryStatus tr:last td:last').html();
        var _Prefix = $('#tblApptSecondaryStatus tr:last td:nth-child(7)').html();

        cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ApptSecondaryStatus" runat="server" maxlength="20" placeholder=""></td>';
        cols += '<td style="width: 35%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_ApptSecondaryStatus" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 25%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_ApptSecondaryStatus" runat="server" maxlength="255" placeholder="Enter Color Code"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ApptSecondaryStatus editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_ApptSecondaryStatus glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblApptSecondaryStatus").append(newRow);

        $('#tblApptSecondaryStatus tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblApptSecondaryStatus tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblApptSecondaryStatus tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');
        $('#tblApptSecondaryStatus tr:last td:nth-child(7)').html(_Prefix);

        //  counter++;
        $('[id$="btnApptSecondaryStatus_AddNew"]').prop('disabled', true);

     });

    $(document).on("click", ".Add_ApptSecondaryStatus", function () {
        var rowIndex = $('#tblVOIDTransactionReason tr').index($(this).closest('tr'));
        var _Master = 'ApptSecondaryStatus';
        var _Code = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtName_ApptSecondaryStatus').val().replace("'", "");
        var _Desc = $('#txtDesc_ApptSecondaryStatus').val().replace("'", "");
        var _Checked = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblApptSecondaryStatus tr:last td:last').html();
        var _ID = $('#tblApptSecondaryStatus tr:last td:nth-child(6)').html();
        var _Prefix = $('#tblApptSecondaryStatus tr:last td:nth-child(7)').html();
              
        if (_Desc == "") {
                    alert("Enter Description!");
                    return false;
        }

        //if (_Name == "") {
        //            alert("Enter Security Name!");
        //            return false;
        //}

      

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 20%;">' + _Code + '</td>';
        cols += '<td style="width: 35%;">' + _Desc + '</td>';
        cols += '<td style="width: 25%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ApptSecondaryStatus editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_ApptSecondaryStatus editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_ApptSecondaryStatus glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblApptSecondaryStatus").append(newRow);
        counter++;
        $('[id$="btnApptSecondaryStatus_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/ApptSecondaryStatusMaster',
            data: "{'Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_ApptSecondaryStatus", function () {

        var confirmation = confirm("Are you sure ?");
        if (confirmation) {

            var rowIndex = $('#tblApptSecondaryStatus tr').index($(this).closest('tr'));
            var _Master = 'ApptSecondaryStatus';
            var _Code = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(0)').html();
            var _Desc = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(1)').html();
            var _Name = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(2)').html();
            var _Checked = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(5)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/ApptSecondaryStatusMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_ApptSecondaryStatus", function () {
        var rowIndex = $('#tblApptSecondaryStatus tr').index($(this).closest('tr'));
        var _Desc = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        var _Name = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(2)').html().replace("'", "");
        $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_ApptSecondaryStatus" runat="server" maxlength="255" placeholder="Enter Description">');
        $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameedit_ApptSecondaryStatus" runat="server" maxlength="255" placeholder="Enter Color Code">');
        $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="editOp_ApptSecondaryStatus glyphicon glyphicon-edit"></i></div>');
        $('#txtNameedit_ApptSecondaryStatus').val(_Name);
        $('#txtDescedit_ApptSecondaryStatus').val(_Desc);
    });

    $(document).on("click", ".editOp_ApptSecondaryStatus", function () {
        var rowIndex = $('#tblApptSecondaryStatus tr').index($(this).closest('tr'));
        var _Master = 'ApptSecondaryStatus';
        var _Code = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameedit_ApptSecondaryStatus').val().replace("'", "");
        var _Desc = $('#txtDescedit_ApptSecondaryStatus').val().replace("'", "");
        var _Checked = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        var _ID = $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(5)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(1)').html(_Desc);
            $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(2)').html(_Name);
            $('#tblApptSecondaryStatus tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="edit_ApptSecondaryStatus glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/ApptSecondaryStatusMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','Name':'" + _Name + "','Description':'" + _Desc + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

       });

   //Appointment Channel
    
    $('[id$="btnAppointmentChannel_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblAppointmentChannel tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblAppointmentChannel tr:last td:last').html();
        var _Prefix = $('#tblAppointmentChannel tr:last td:nth-child(6)').html();

        cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_AppointmentChannel" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtDesc_AppointmentChannel" runat="server" maxlength="255" placeholder="Enter Description"></td>';
        cols += '<td style="width: 30%; text-align:center"><input type="checkbox" checked class="chk_AppointmentChannel editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_AppointmentChannel glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblAppointmentChannel").append(newRow);

        $('#tblAppointmentChannel tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblAppointmentChannel tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblAppointmentChannel tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblAppointmentChannel tr:last td:nth-child(6)').html(_Prefix);

        //  counter++;
        $('[id$="btnAppointmentChannel_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_AppointmentChannel", function () {
        var rowIndex = $('#tblAppointmentChannel tr').index($(this).closest('tr'));
        var _Master = 'AppointmentChannel';
        var _Code = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtDesc_AppointmentChannel').val().replace("'", "");
        var _Checked = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblAppointmentChannel tr:last td:last').html();
        var _ID = $('#tblAppointmentChannel tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblAppointmentChannel tr:last td:nth-child(6)').html();

        if (_Name == "") {
                    alert("Enter Description!");
                    return false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 20%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 30%; text-align:center"><input type="checkbox" checked class="chk_AppointmentChannel editor-active"></td>';
        } else {
            cols += '<td style="width: 30%; text-align:center"><input type="checkbox" class="chk_AppointmentChannel editor-active"></td>';

        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_AppointmentChannel glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblAppointmentChannel").append(newRow);
        counter++;
        $('[id$="btnAppointmentChannel_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_AppointmentChannel", function () {

        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblAppointmentChannel tr').index($(this).closest('tr'));
            var _Master = 'AppointmentChannel';
            var _Code = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) {
                _Checked = true;
            }
            else {
                _Checked = false;
            }
            var _ID = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + rowIndex + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_AppointmentChannel", function () {
        var rowIndex = $('#tblAppointmentChannel tr').index($(this).closest('tr'));
        var _Name = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_AppointmentChannel" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_AppointmentChannel glyphicon glyphicon-edit"></i></div>');
        $('#txtDescedit_AppointmentChannel').val(_Name);
    });

    $(document).on("click", ".editOp_AppointmentChannel", function () {
        var rowIndex = $('#tblAppointmentChannel tr').index($(this).closest('tr'));
        var _Master = 'AppointmentChannel';
        var _Code = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtDescedit_AppointmentChannel').val().replace("'", "");
        var _Checked = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) {
            _Checked = true;
        }
        else {
            _Checked = false;
        }

        if (_Name == "") {
                    alert("Enter Description!");
                    return false;
        }

        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblAppointmentChannel tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_AppointmentChannel glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //GST Setting

     $(document).on("click", ".chk_GstTaxSetting", function () {

                var confirmation = confirm("Are you sure ?");
                if (confirmation) {
                    var rowIndex = $('#tblGstTaxSetting tr').index($(this).closest('tr'));
                    var _Code = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(0)').html();
                    var _Desc = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(1)').html();
                    var _TaxPercent = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(2)').html();
                    var _TaxSeq = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(3)').html();
                    var _Checked = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(4) input').is(':checked');
                    if (_Checked) _Checked = true; else _Checked = false;
                    var _ID = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(6)').html();

                    $.ajax({
                        type: "POST",
                        url: 'DashBoard.aspx/GstTaxSettingUpdate',
                        data: "{'id':'" + _ID + "','Code':'" + _Code + "','Description':'" + _Desc + "','Tax':'" + _TaxPercent + "','Seq':'" + _TaxSeq + "','InActive':'" + _Checked + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {
                    return false;
                }
            }); 

     $(document).on("click", ".edit_GstTaxSetting", function () {
         var rowIndex = $('#tblGstTaxSetting tr').index($(this).closest('tr'));
         var _Desc = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(1)').html();
         var _TaxPercent = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(2)').html();
         var _TaxSeq = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(3)').html();
         $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtDescedit_GstTaxSetting" runat="server" maxlength="255" placeholder="Enter Description">');
         $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtTaxedit_GstTaxSetting" runat="server" maxlength="10" placeholder="Enter Tax Percent">');
         $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(3)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtSeqedit_GstTaxSetting" runat="server" maxlength="10" placeholder="Enter Sequence">');
         $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(5)').html('<div class="tools"><i class="editOp_GstTaxSetting glyphicon glyphicon-edit"></i></div>');
         $('#txtDescedit_GstTaxSetting').val(_Desc);
         $('#txtTaxedit_GstTaxSetting').val(_TaxPercent);
         $('#txtSeqedit_GstTaxSetting').val(_TaxSeq);
     });

     $(document).on("click", ".editOp_GstTaxSetting", function () {
         var rowIndex = $('#tblGstTaxSetting tr').index($(this).closest('tr'));
         var _Code = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
         var _Desc = $('#txtDescedit_GstTaxSetting').val().replace("'", "");
         var _TaxPercent = $('#txtTaxedit_GstTaxSetting').val().replace("'", "");
         var _TaxSeq = $('#txtSeqedit_GstTaxSetting').val().replace("'", "");
         var _Checked = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(4) input').is(':checked');
         var _ID = $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(6)').html();
                if (_Checked)  _Checked = true; else _Checked = false;
                var _Validation = true;
                if (_Desc == '') {
                    _Validation = false;
                }
                if (_Validation == true) {
                    $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(1)').html(_Desc);
                    $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(2)').html(_TaxPercent);
                    $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(3)').html(_TaxSeq);
                    $('#tblGstTaxSetting tr').eq(rowIndex).find('td:eq(5)').html('<div class="tools"><i class="edit_GstTaxSetting glyphicon glyphicon-pencil"></i></div>');
                    $.ajax({
                        type: "POST",
                        url: 'DashBoard.aspx/GstTaxSettingUpdate',
                        data: "{'id':'" + _ID + "','Code':'" + _Code + "','Description':'" + _Desc + "','Tax':'" + _TaxPercent + "','Seq':'" + _TaxSeq + "','InActive':'" + _Checked + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }

            });
  

    //Customer Type

    $('[id$="btnCustomerMaster_Type_AddNew"]').click(function () {
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblCustomerType tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblCustomerType tr:last td:last').html();
        var _Prefix = $('#tblCustomerType tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerTypeMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerTypeMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerTypeMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_CustomerTypeMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblCustomerType").append(newRow);


        $('#tblCustomerType tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblCustomerType tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblCustomerType tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblCustomerType tr:last td:nth-child(6)').html(_Prefix);

        //$('#tblCustomerType tr:last td:first').html((parseInt(_ID) + 1) + '');

        counter++;
        $('[id$="btnCustomerMaster_Type_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerTypeMaster", function () {
        var rowIndex = $('#tblCustomerType tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER TYPE';
        var _Code = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtName_CustomerTypeMaster').val().replace("'", "");
        var _Checked = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblCustomerType tr:last td:last').html();
        var _ID = $('#tblCustomerType tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblCustomerType tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerTypeMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerTypeMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerTypeMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblCustomerType").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Type_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerTypeMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblCustomerType tr').index($(this).closest('tr'));
            var _Master = 'CUSTOMER TYPE';
            var _Code = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerTypeMaster", function () {
        var rowIndex = $('#tblCustomerType tr').index($(this).closest('tr'));
        var _Name = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblCustomerType tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerTypeMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblCustomerType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerTypeMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerTypeMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerTypeMaster", function () {
        var rowIndex = $('#tblCustomerType tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER TYPE';
        var _Code = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerTypeMaster').val().replace("'", "");
        var _Checked = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblCustomerType tr').eq(rowIndex).find('td:eq(4)').html();

        if (_Checked) _Checked = false; else _Checked = true;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblCustomerType tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblCustomerType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerTypeMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });


    //Customer Group1 

    $('[id$="btnCustomerMaster_Group1_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblCustomerGrp1 tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblCustomerGrp1 tr:last td:last').html();
        var _Prefix = $('#tblCustomerGrp1 tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerGrp1Master" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerGrp1Master" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp1Master editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerGrp1Master glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblCustomerGrp1").append(newRow);

        $('#tblCustomerGrp1 tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblCustomerGrp1 tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblCustomerGrp1 tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblCustomerGrp1 tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Group1_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerGrp1Master", function () {
        var rowIndex = $('#tblCustomerGrp1 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP1';
        var _Code = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerGrp1Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblCustomerGrp1 tr:last td:last').html();
        var _ID = $('#tblCustomerGrp1 tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblCustomerGrp1 tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp1Master editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerGrp1Master editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerGrp1Master glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblCustomerGrp1").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Type_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerGrp1Master", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblCustomerGrp1 tr').index($(this).closest('tr'));
            var _Master = 'CUSTOMER GRP1';
            var _Code = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerGrp1Master", function () {
        var rowIndex = $('#tblCustomerGrp1 tr').index($(this).closest('tr'));
        var _Name = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerGrp1Master" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerGrp1Master glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerGrp1Master').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerGrp1Master", function () {
        var rowIndex = $('#tblCustomerGrp1 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP1';
        var _Code = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerGrp1Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblCustomerGrp1 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerGrp1Master glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Customer Group2 

    $('[id$="btnCustomerMaster_Group2_AddNew"]').click(function () {
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblCustomerGrp2 tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblCustomerGrp2 tr:last td:last').html();
        var _Prefix = $('#tblCustomerGrp2 tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerGrp2Master" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerGrp2Master" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp2Master editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerGrp2Master glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblCustomerGrp2").append(newRow);

        $('#tblCustomerGrp2 tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblCustomerGrp2 tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblCustomerGrp2 tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblCustomerGrp2 tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Group2_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerGrp2Master", function () {
        var rowIndex = $('#tblCustomerGrp2 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP2';
        var _Code = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerGrp2Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblCustomerGrp2 tr:last td:last').html();
        var _ID = $('#tblCustomerGrp2 tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblCustomerGrp2 tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp2Master editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerGrp2Master editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerGrp2Master glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblCustomerGrp2").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Group2_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerGrp2Master", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblCustomerGrp2 tr').index($(this).closest('tr'));
            var _Master = 'CUSTOMER GRP2';
            var _Code = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerGrp2Master", function () {
        var rowIndex = $('#tblCustomerGrp2 tr').index($(this).closest('tr'));
        var _Name = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerGrp2Master" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerGrp2Master glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerGrp2Master').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerGrp2Master", function () {
        var rowIndex = $('#tblCustomerGrp2 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP2';
        var _Code = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerGrp2Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblCustomerGrp2 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerGrp2Master glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Customer Group3 

    $('[id$="btnCustomerMaster_Group3_AddNew"]').click(function () {
        var newRow = $("<tr>");
        var cols = "";
        //var _ID = $('#tblCustomerGrp3 tr:last td:nth-child(5)').html();  
        //var _ControlNo = $('#tblCustomerGrp3 tr:last td:last').html();   
        //var _Prefix = $('#tblCustomerGrp3 tr:last td:nth-child(6)').html();   
        var _ControlNo = $('#tblCustomerGrp3 tr:last td:last').html();
        var _ID = $('#tblCustomerGrp3 tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblCustomerGrp3 tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerGrp3Master" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerGrp3Master" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp3Master editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerGrp3Master glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblCustomerGrp3").append(newRow);

        $('#tblCustomerGrp3 tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblCustomerGrp3 tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblCustomerGrp3 tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblCustomerGrp3 tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Group3_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerGrp3Master", function () {
        var rowIndex = $('#tblCustomerGrp3 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP3';
        var _Code = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerGrp3Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ControlNo = $('#tblCustomerGrp3 tr:last td:last').html();
        var _ID = $('#tblCustomerGrp3 tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblCustomerGrp3 tr:last td:nth-child(6)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerGrp3Master editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerGrp3Master editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerGrp3Master glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblCustomerGrp3").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Group3_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerGrp3Master", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblCustomerGrp3 tr').index($(this).closest('tr'));
            var _Master = 'CUSTOMER GRP3';
            var _Code = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerGrp3Master", function () {
        var rowIndex = $('#tblCustomerGrp3 tr').index($(this).closest('tr'));
        var _Name = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerGrp3Master" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerGrp3Master glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerGrp3Master').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerGrp3Master", function () {
        var rowIndex = $('#tblCustomerGrp3 tr').index($(this).closest('tr'));
        var _Master = 'CUSTOMER GRP3';
        var _Code = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerGrp3Master').val().replace("'", "");
        var _Checked = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblCustomerGrp3 tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerGrp3Master glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Product Group

    $('[id$="btnCustomerMaster_ProductGroup_AddNew"]').click(function () {
        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblProductGrp tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblProductGrp tr:last td:last').html();
        var _Prefix = $('#tblProductGrp tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ProductGrpMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_ProductGrpMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_ProductGrpMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_ProductGrpMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"><div class="tools"></div></td>';
        newRow.append(cols);
        $("#tblProductGrp").append(newRow);

        $('#tblProductGrp tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblProductGrp tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblProductGrp tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblProductGrp tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_ProductGroup_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_ProductGrpMaster", function () {
        var rowIndex = $('#tblProductGrp tr').index($(this).closest('tr'));
        var _Master = 'PRODUCT GRP';
        var _Code = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblProductGrp tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_ProductGrpMaster').val().replace("'", "");
        var _Checked = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblProductGrp tr:last td:last').html();
        var _ID = $('#tblProductGrp tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblProductGrp tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_ProductGrpMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_ProductGrpMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_ProductGrpMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblProductGrp").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_ProductGroup_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_ProductGrpMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblProductGrp tr').index($(this).closest('tr'));
            var _Master = 'PRODUCT GRP';
            var _Code = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_ProductGrpMaster", function () {
        var rowIndex = $('#tblProductGrp tr').index($(this).closest('tr'));
        var _Name = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblProductGrp tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_ProductGrpMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblProductGrp tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_ProductGrpMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_ProductGrpMaster').val(_Name);
    });

    $(document).on("click", ".editOp_ProductGrpMaster", function () {
        var rowIndex = $('#tblProductGrp tr').index($(this).closest('tr'));
        var _Master = 'PRODUCT GRP';
        var _Code = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_ProductGrpMaster').val().replace("'", "");
        var _Checked = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblProductGrp tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblProductGrp tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblProductGrp tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_ProductGrpMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Race

    $('[id$="btnCustomerMaster_Race_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblRace tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblRace tr:last td:last').html();
        var _Prefix = $('#tblRace tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerRaceMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerRaceMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerRaceMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center;"><div class="tools"><i class="Add_CustomerRaceMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblRace").append(newRow);

        $('#tblRace tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblRace tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblRace tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblRace tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Race_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerRaceMaster", function () {
        var rowIndex = $('#tblRace tr').index($(this).closest('tr'));
        var _Master = 'RACE';
        var _Code = $('#tblRace tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblRace tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerRaceMaster').val().replace("'", "");
        var _Checked = $('#tblRace tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblRace tr:last td:last').html();
        var _ID = $('#tblRace tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblRace tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerRaceMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerRaceMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerRaceMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblRace").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Race_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerRaceMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblRace tr').index($(this).closest('tr'));
            var _Master = 'RACE';
            var _Code = $('#tblRace tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblRace tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblRace tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblRace tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerRaceMaster", function () {
        var rowIndex = $('#tblRace tr').index($(this).closest('tr'));
        var _Name = $('#tblRace tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblRace tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerRaceMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblRace tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerRaceMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerRaceMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerRaceMaster", function () {
        var rowIndex = $('#tblRace tr').index($(this).closest('tr'));
        var _Master = 'RACE';
        var _Code = $('#tblRace tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerRaceMaster').val().replace("'", "");
        var _Checked = $('#tblRace tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblRace tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblRace tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblRace tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerRaceMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Age Group

    $('[id$="btnCustomerMaster_AgeGroup_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblAgeGroup tr:last td:nth-child(6)').html();
        var _ControlNo = $('#tblAgeGroup tr:last td:last').html();
        var _Prefix = $('#tblAgeGroup tr:last td:nth-child(7)').html();

        cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerAgeGroupMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 20%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtAgeGrp_CustomerAgeGroupMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerAgeGroupMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerAgeGroupMaster editor - active"></td>';
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_CustomerAgeGroupMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none;"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none;"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none;"></td>';
        newRow.append(cols);
        $("#tblAgeGroup").append(newRow);

        $('#tblAgeGroup tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblAgeGroup tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblAgeGroup tr:last td:nth-child(6)').html(parseInt(_ID) + 1 + '');
        $('#tblAgeGroup tr:last td:nth-child(7)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_AgeGroup_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerAgeGroupMaster", function () {
        var rowIndex = $('#tblAgeGroup tr').index($(this).closest('tr'));
        var _Code = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblAgeGroup tr').eq(rowIndex).find('td:last').html();
        var _AgeGrp = $('#txtAgeGrp_CustomerAgeGroupMaster').val().replace("'", "");
        var _Name = $('#txtName_CustomerAgeGroupMaster').val().replace("'", "");
        var _Checked = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblAgeGroup tr:last td:last').html();
        var _ID = $('#tblAgeGroup tr:last td:nth-child(6)').html();
        var _Prefix = $('#tblAgeGroup tr:last td:nth-child(7)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 20%;">' + _Code + '</td>';
        cols += '<td style="width: 20%;">' + _AgeGrp + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerAgeGroupMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerAgeGroupMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerAgeGroupMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblAgeGroup").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_AgeGroup_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/AgeGroupMaster',
            data: "{'Code':'" + _Code + "','AgeGroup':'" + _AgeGrp + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerAgeGroupMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblAgeGroup tr').index($(this).closest('tr'));
            var _Code = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(0)').html();
            var _AgeGroup = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(1)').html();
            var _Name = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(2)').html();
            var _Checked = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(5)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/AgeGroupMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','AgeGroup':'" + _AgeGroup + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerAgeGroupMaster", function () {
        var rowIndex = $('#tblAgeGroup tr').index($(this).closest('tr'));
        var _AgeGroup = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        var _Name = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(2)').html().replace("'", "");
        $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtAgeGroupEdit_CustomerAgeGroupMaster" runat="server" maxlength="255" placeholder="Enter Age Group">');
        $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(2)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerAgeGroupMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="editOp_CustomerAgeGroupMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtAgeGroupEdit_CustomerAgeGroupMaster').val(_AgeGroup);
        $('#txtNameEdit_CustomerAgeGroupMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerAgeGroupMaster", function () {
        var rowIndex = $('#tblAgeGroup tr').index($(this).closest('tr'));
        var _Code = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _AgeGroup = $('#txtAgeGroupEdit_CustomerAgeGroupMaster').val().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerAgeGroupMaster').val().replace("'", "");
        var _Checked = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(3) input').is(':checked');
        var _ID = $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(5)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(1)').html(_AgeGroup);
            $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(2)').html(_Name);
            $('#tblAgeGroup tr').eq(rowIndex).find('td:eq(4)').html('<div class="tools"><i class="edit_CustomerAgeGroupMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/AgeGroupMasterUpdate',
                data: "{'id':'" + _ID + "','Code':'" + _Code + "','AgeGroup':'" + _AgeGroup + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Skin Type

    $('[id$="btnCustomerMaster_SkinType_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblSkinType tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblSkinType tr:last td:last').html();
        var _Prefix = $('#tblSkinType tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerSkinTypeMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerSkinTypeMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerSkinTypeMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerSkinTypeMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblSkinType").append(newRow);

        $('#tblSkinType tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblSkinType tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblSkinType tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblSkinType tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_SkinType_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerSkinTypeMaster", function () {
        var rowIndex = $('#tblSkinType tr').index($(this).closest('tr'));
        var _Master = 'SKIN TYPE';
        var _Code = $('#tblSkinType tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblSkinType tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerSkinTypeMaster').val().replace("'", "");
        var _Checked = $('#tblSkinType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblSkinType tr:last td:last').html();
        var _ID = $('#tblSkinType tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblSkinType tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerSkinTypeMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerSkinTypeMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerSkinTypeMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblSkinType").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_SkinType_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerSkinTypeMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblSkinType tr').index($(this).closest('tr'));
            var _Master = 'SKIN TYPE';
            var _Code = $('#tblSkinType tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblSkinType tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblSkinType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblSkinType tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerSkinTypeMaster", function () {
        var rowIndex = $('#tblSkinType tr').index($(this).closest('tr'));
        var _Name = $('#tblSkinType tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblSkinType tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerSkinTypeMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblSkinType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerSkinTypeMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerSkinTypeMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerSkinTypeMaster", function () {
        var rowIndex = $('#tblSkinType tr').index($(this).closest('tr'));
        var _Master = 'SKIN TYPE';
        var _Code = $('#tblSkinType tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerSkinTypeMaster').val().replace("'", "");
        var _Checked = $('#tblSkinType tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblSkinType tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblSkinType tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblSkinType tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerSkinTypeMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Language

    $('[id$="btnCustomerMaster_Language_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblLanguage tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblLanguage tr:last td:last').html();
        var _Prefix = $('#tblLanguage tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerLanguageMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerLanguageMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerLanguageMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerLanguageMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblLanguage").append(newRow);

        $('#tblLanguage tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblLanguage tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblLanguage tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblLanguage tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Language_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerLanguageMaster", function () {
        var rowIndex = $('#tblLanguage tr').index($(this).closest('tr'));
        var _Master = 'LANGUAGE';
        var _Code = $('#tblLanguage tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblLanguage tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerLanguageMaster').val().replace("'", "");
        var _Checked = $('#tblLanguage tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblLanguage tr:last td:last').html();
        var _ID = $('#tblLanguage tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblLanguage tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerLanguageMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerLanguageMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerLanguageMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblLanguage").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Language_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerLanguageMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblLanguage tr').index($(this).closest('tr'));
            var _Master = 'LANGUAGE';
            var _Code = $('#tblLanguage tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblLanguage tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblLanguage tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblLanguage tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerLanguageMaster", function () {
        var rowIndex = $('#tblLanguage tr').index($(this).closest('tr'));
        var _Name = $('#tblLanguage tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblLanguage tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerLanguageMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblLanguage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerLanguageMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerLanguageMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerLanguageMaster", function () {
        var rowIndex = $('#tblLanguage tr').index($(this).closest('tr'));
        var _Master = 'LANGUAGE';
        var _Code = $('#tblLanguage tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerLanguageMaster').val().replace("'", "");
        var _Checked = $('#tblLanguage tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblLanguage tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblLanguage tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblLanguage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerLanguageMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });

    //Locations

    $('[id$="btnCustomerMaster_Location_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblLocation tr:last td:nth-child(5)').html();
        var _ControlNo = $('#tblLocation tr:last td:last').html();
        var _Prefix = $('#tblLocation tr:last td:nth-child(6)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerLocationMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerLocationMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerLocationMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerLocationMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';
        newRow.append(cols);
        $("#tblLocation").append(newRow);

        $('#tblLocation tr:last td:first').html(_Prefix + _ControlNo + '');
        $('#tblLocation tr:last td:last').html(parseInt(_ControlNo) + 1 + '');
        $('#tblLocation tr:last td:nth-child(5)').html(parseInt(_ID) + 1 + '');
        $('#tblLocation tr:last td:nth-child(6)').html(_Prefix);

        counter++;
        $('[id$="btnCustomerMaster_Location_AddNew"]').prop('disabled', true);

    });

    $(document).on("click", ".Add_CustomerLocationMaster", function () {
        var rowIndex = $('#tblLocation tr').index($(this).closest('tr'));
        var _Master = 'LOCATION';
        var _Code = $('#tblLocation tr').eq(rowIndex).find('td:eq(0)').html();
        //var _ControlNo = $('#tblLocation tr').eq(rowIndex).find('td:last').html();
        var _Name = $('#txtName_CustomerLocationMaster').val().replace("'", "");
        var _Checked = $('#tblLocation tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ControlNo = $('#tblLocation tr:last td:last').html();
        var _ID = $('#tblLocation tr:last td:nth-child(5)').html();
        var _Prefix = $('#tblLocation tr:last td:nth-child(6)').html();
        var _Validation = true;
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerLocationMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerLocationMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerLocationMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _Prefix + '</td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ControlNo + '</td>';
        newRow.append(cols);
        $("#tblLocation").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Location_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ControlNo + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
    });

    $(document).on("click", ".chk_CustomerLocationMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblLocation tr').index($(this).closest('tr'));
            var _Master = 'LOCATION';
            var _Code = $('#tblLocation tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblLocation tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblLocation tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblLocation tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
    });

    $(document).on("click", ".edit_CustomerLocationMaster", function () {
        var rowIndex = $('#tblLocation tr').index($(this).closest('tr'));
        var _Name = $('#tblLocation tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblLocation tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerLocationMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblLocation tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerLocationMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerLocationMaster').val(_Name);
    });

    $(document).on("click", ".editOp_CustomerLocationMaster", function () {
        var rowIndex = $('#tblLocation tr').index($(this).closest('tr'));
        var _Master = 'LOCATION';
        var _Code = $('#tblLocation tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerLocationMaster').val().replace("'", "");
        var _Checked = $('#tblLocation tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblLocation tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblLocation tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblLocation tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerLocationMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });


    //Gender

     $('[id$="btnCustomerMaster_Gender_AddNew"]').click(function () {

        var newRow = $("<tr>");
        var cols = "";
        var _ID = $('#tblGender tr:last td:nth-child(5)').html();

        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_CustomerGenderMaster" runat="server" maxlength="255" placeholder=""></td>';
        cols += '<td style="width: 40%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_CustomerGenderMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
        cols += '<td style="width: 5%; text-align:center"><input type="checkbox" checked class="chk_CustomerGenderMaster editor - active"></td>';
        cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="Add_CustomerGenderMaster glyphicon glyphicon-plus"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none"></td>';

        newRow.append(cols);
        $("#tblGender").append(newRow);

        $('#tblGender tr:last td:first').html(parseInt(_ID) + 1 + '');
        $('#tblGender tr:last td:last').html(parseInt(_ID) + 1 + '');

        $('[id$="btnCustomerMaster_Gender_AddNew"]').prop('disabled', true);

      });

     $(document).on("click", ".Add_CustomerGenderMaster", function () {
        var rowIndex = $('#tblGender tr').index($(this).closest('tr'));
        var _Master = 'GENDER';
        var _Code = $('#tblGender tr').eq(rowIndex).find('td:eq(0)').html();
        var _Name = $('#txtName_CustomerGenderMaster').val().replace("'", "");
        var _Checked = $('#tblGender tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        if (_Checked) _Checked = true; else _Checked = false;
        var _ID = $('#tblGender tr:last td:nth-child(5)').html();
        if (_Code == '') {
            _Validation = false;
        }
        if (_Name == '') {
            _Validation = false;
        }

        $(this).closest("tr").remove();
        var counter = 0;
        var newRow = $("<tr>");
        var cols = "";
        cols += '<td style="width: 40%;">' + _Code + '</td>';
        cols += '<td style="width: 40%;">' + _Name + '</td>';
        if (_Checked) {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" checked class="chk_CustomerGenderMaster editor-active"></td>';
        } else {
            cols += '<td style="width: 10%; text-align:center"><input type="checkbox" class="chk_CustomerGenderMaster editor-active"></td>';
        }
        cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_CustomerGenderMaster glyphicon glyphicon-pencil"></i></div></td>';
        cols += '<td style="width: 5%; text-align:center;display:none">' + _ID + '</td>';
        newRow.append(cols);
        $("#tblGender").append(newRow);
        counter++;
        $('[id$="btnCustomerMaster_Gender_AddNew"]').prop('disabled', false);
        $.ajax({
            type: "POST",
            url: 'DashBoard.aspx/CommonMaster',
            data: "{'Master':'" + _Master + "','Operation':'S','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "','controlNo':'" + _ID + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                $("#divResult").html("success");
            },
            error: function (e) {
                $("#divResult").html("Something Wrong.");
            }
        });
            });

     $(document).on("click", ".chk_CustomerGenderMaster", function () {
        var confirmation = confirm("Are you sure ?");
        if (confirmation) {
            var rowIndex = $('#tblGender tr').index($(this).closest('tr'));
            var _Master = 'GENDER';
            var _Code = $('#tblGender tr').eq(rowIndex).find('td:eq(0)').html();
            var _Name = $('#tblGender tr').eq(rowIndex).find('td:eq(1)').html();
            var _Checked = $('#tblGender tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
            if (_Checked) _Checked = true; else _Checked = false;
            var _ID = $('#tblGender tr').eq(rowIndex).find('td:eq(4)').html();
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }
        else {
            return false;
        }
            });

     $(document).on("click", ".edit_CustomerGenderMaster", function () {
        var rowIndex = $('#tblGender tr').index($(this).closest('tr'));
        var _Name = $('#tblGender tr').eq(rowIndex).find('td:eq(1)').html().replace("'", "");
        $('#tblGender tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control " id="txtNameEdit_CustomerGenderMaster" runat="server" maxlength="255" placeholder="Enter Name">');
        $('#tblGender tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_CustomerGenderMaster glyphicon glyphicon-edit"></i></div>');
        $('#txtNameEdit_CustomerGenderMaster').val(_Name);
     });

    $(document).on("click", ".editOp_CustomerGenderMaster", function () {
        var rowIndex = $('#tblGender tr').index($(this).closest('tr'));
        var _Master = 'GENDER';
        var _Code = $('#tblGender tr').eq(rowIndex).find('td:eq(0)').html().replace("'", "");
        var _Name = $('#txtNameEdit_CustomerGenderMaster').val().replace("'", "");
        var _Checked = $('#tblGender tr').eq(rowIndex).find('td:eq(2) input').is(':checked');
        var _ID = $('#tblGender tr').eq(rowIndex).find('td:eq(4)').html();
        if (_Checked) _Checked = true; else _Checked = false;
        var _Validation = true;
        if (_Name == '') {
            _Validation = false;
        }
        if (_Validation == true) {
            $('#tblGender tr').eq(rowIndex).find('td:eq(1)').html(_Name);
            $('#tblGender tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_CustomerGenderMaster glyphicon glyphicon-pencil"></i></div>');
            $.ajax({
                type: "POST",
                url: 'DashBoard.aspx/CommonMasterUpdate',
                data: "{'id':'" + _ID + "','Master':'" + _Master + "','Operation':'U','Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $("#divResult").html("success");
                },
                error: function (e) {
                    $("#divResult").html("Something Wrong.");
                }
            });
        }

    });


    //Customer Class

    $('[id$="btnOperation"]').click(function () {

        var details = [];
        var rows = $('#tblDiscount tbody >tr');
        var columns;
        var classid = $('[id$="txtClassID"]').val();
        for (var i = 1; i < rows.length; i++) {
            columns = $(rows[i]).find('td');
            var obj = {};
            obj.departmentid = Number($(columns[3]).html());
            obj.classid = Number(classid);
            var txtdis = $(columns[2]).find('input');
            obj.discount = txtdis.val();
            obj.isactive = 1;
            details.push(obj);
        }

        $.ajax({
            type: "POST",
            url: "CustomerClass.aspx/AddDepartmentDiscountsData",
            data: '{Details :' + JSON.stringify(details) + '}',
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (r) {
                //alert(r.d);
            }
        });

    });

    $(".btnFillter_TemplateList .btn").click(function () {
        var inputValue = $(this).find("input").val();
        var table = $('#TemplateList').DataTable();
        table
            .column(4)
            .search(inputValue)
            .draw();
    });

    $(".btnFillter_LeadGroupList .btn").click(function () {
        var inputValue = $(this).find("input").val();
        var table = $('#LeadGroupList').DataTable();
        table
            .column(4)
            .search(inputValue)
            .draw();
    });

    $(".btnFillter_LeadMaster .btn").click(function () {
        var inputValue = $(this).find("input").val();
        var table = $('#LeadMaster').DataTable();
        table
            .column(5)
            .search(inputValue)
            .draw();
    });

    $(".btnFillter_CampaignMaster .btn").click(function () {
        var inputValue = $(this).find("input").val();
        var table = $('#CampaignMaster').DataTable();
        table
            .column(4)
            .search(inputValue)
            .draw();
    });

    $(".btnFillter_ActivityList .btn").click(function () {
        var inputValue = $(this).find("input").val();
        var table = $('#ActivityList').DataTable();
        table
            .column(6)
            .search(inputValue)
            .draw();
    });

        </script>

        <script>

            function PaymentCalculation() {
                var _Cash = 0;
                var _Cashless = 0;
                var _Card = 0;
                var _Check = 0;
                var _Claims = 0;
                var _Adjustment = 0;
                var _OnlineTransfer = 0;
                var _Voucher = 0;
                var _Total = 0;
                var _Overall = 0;
                var _BalanceDue = 0;

                if ($("#mdlAddPaymentMean #txtCashSum_mdlAddPaymentMean").val() != '') { _Cash = parseFloat($("#mdlAddPaymentMean #txtCashSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #txtCashlessSum_mdlAddPaymentMean").val() != '') { _Cashless = parseFloat($("#mdlAddPaymentMean #txtCashlessSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #txtCardSum_mdlAddPaymentMean").val() != '') { _Card = parseFloat($("#mdlAddPaymentMean #txtCardSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #txtCheckSum_mdlAddPaymentMean").val() != '') { _Check = parseFloat($("#mdlAddPaymentMean #txtCheckSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #txtTransferSum_mdlAddPaymentMean").val() != '') { _OnlineTransfer = parseFloat($("#mdlAddPaymentMean #txtTransferSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #txtVoucherSum_mdlAddPaymentMean").val() != '') { _Voucher = parseFloat($("#mdlAddPaymentMean #txtVoucherSum_mdlAddPaymentMean").val()) };
                if ($("#mdlAddPaymentMean #lbl_mdlAddPaymentMean_For").text() == 'Invoice') {
                    _Total = parseFloat($('[id$="lblInvoiceTotal_Invoice"]').text());
                }
                else {
                    _Total = parseFloat($('[id$="lblPaymentTotal_Payment"]').text());
                }

                $('#InvoiceClaim_mdlAddPaymentMean').find('tr').each(
                    function (i) {
                        if (i > 0) {
                            if ($('#txtAmount_mdlAddPaymentMean_' + i + '').val() != '') {


                                _Claims = parseFloat(_Claims) + parseFloat($('#txtAmount_mdlAddPaymentMean_' + i + '').val());


                            }
                        }
                    });

                $('#InvoiceAdjustment_mdlAddPaymentMean').find('tr').each(
                    function (i) {
                        if (i > 0) {
                            if ($('#txtAdjAmount_mdlAddPaymentMean_' + i + '').val() != '') {

                                _Adjustment = parseFloat(_Adjustment) + parseFloat($('#txtAdjAmount_mdlAddPaymentMean_' + i + '').val());

                            }
                        }
                    });



                _Overall = _Cash + _Cashless + _Card + _Check + _OnlineTransfer + _Claims + _Voucher + _Adjustment;
                _BalanceDue = _Total - _Overall;

                $("#mdlAddPaymentMean #lblTotalAmount_mdlAddPaymentMean").text(_Total.toFixed(2));
                $("#mdlAddPaymentMean #lblOverAllAmount_mdlAddPaymentMean").text(_Overall.toFixed(2));
                $("#mdlAddPaymentMean #lblBalanceDueAmount_mdlAddPaymentMean").text(_BalanceDue.toFixed(2));
                if ($("#mdlAddPaymentMean #lbl_mdlAddPaymentMean_For").text() == 'Invoice') {
                    $('[id$="lblPaymentMean_Cash_Invoice"]').text(_Cash.toFixed(2));
                    $('[id$="lblPaymentMean_Cashless_Invoice"]').text(_Cashless.toFixed(2));
                    $('[id$="lblPaymentMean_Card_Invoice"]').text(_Card.toFixed(2));
                    $('[id$="lblPaymentMean_Check_Invoice"]').text(_Check.toFixed(2));
                    $('[id$="lblPaymentMean_Transfer_Invoice"]').text(_OnlineTransfer.toFixed(2));
                    $('[id$="lblPaymentMean_Voucher_Invoice"]').text(_Voucher.toFixed(2));
                    $('[id$="lblPaymentMean_Adjustment_Invoice"]').text(_Adjustment.toFixed(2));
                    $('[id$="lblPaymentMean_PaymentTotal_Invoice"]').text(_Overall.toFixed(2));
                    $('[id$="lblInvoiceAmountDue_Invoice"]').text(_BalanceDue.toFixed(2));
                }
                else {
                    $('[id$="lblPaymentMean_Cash_Payment"]').text(_Cash.toFixed(2));
                    $('[id$="lblPaymentMean_Cashless_Payment"]').text(_Cashless.toFixed(2));
                    $('[id$="lblPaymentMean_Card_Payment"]').text(_Card.toFixed(2));
                    $('[id$="lblPaymentMean_Check_Payment"]').text(_Check.toFixed(2));
                    $('[id$="lblPaymentMean_Transfer_Payment"]').text(_OnlineTransfer.toFixed(2));
                    $('[id$="lblPaymentMean_Voucher_Payment"]').text(_Voucher.toFixed(2));
                    $('[id$="lblPaymentMean_PaymentTotal_Payment"]').text(_Overall.toFixed(2));
                }

            };

            function fnEvaluationRadio(_Session, _Row, Value) {
                $.ajax({
                    type: "POST",
                    url: 'CourseEvaluation.aspx/UpdateSurvey',
                    data: "{'Session':'" + _Session + "','Row':'" + _Row + "','Value':'" + Value + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (msg) {
                        $("#divResult").html("success");
                    },
                    error: function (e) {
                        $("#divResult").html("Something Wrong.");
                    }
                });
            }


            //Mari 

            $(function () {
                $('#StudentMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=StudentList',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/Name/ID/Contact"
                    },
                    'columns': [
                        {
                            'data': 'StudentCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="StudentMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null, null, { "sType": "date-uk" },
                        {
                            'data': 'Balance',
                            'render': function (data, type, row, meta) {
                                data = '<a href="StudentAccount.aspx?PKey=' + row[0] + '">' + row[6] + '</b>';
                                return data;
                            }
                        }, null]
                })
            });

            //$(function () {
            // $('#TaskMaster').DataTable({
            //     'sAjaxSource': 'Utilities/DataModels.ashx?ID=TaskList',
            //     'paging': true,
            //     'lengthChange': true,
            //     'searching': true,
            //     'ordering': true,
            //     'info': true,
            //     'autoWidth': true,
            //     language: {
            //         searchPlaceholder: "Search By Code/Name/ID/Contact"
            //     },
            //     'columns': [
            //         null,null
            //     ]
            // })
            //});

            function VocherClick(element) {
                if (element.checked) {
                    document.getElementById('VoucherDate_ItemMaster').style.display = "";
                }
                else {
                    document.getElementById('VoucherDate_ItemMaster').style.display = "none";
                }

            }

            function ReorderClick(element) {
                if (element.checked) {
                    document.getElementById('Reorderlevel_ItemMaster').style.display = "";
                }
                else {
                    document.getElementById('Reorderlevel_ItemMaster').style.display = "none";
                }

            }

            function ReplenishmentClick(element) {
                if (element.checked) {
                    document.getElementById('Replenishment_ItemMaster').style.display = "";
                    document.getElementById('Replenishment_ItemMaster1').style.display = "";
                }
                else {
                    document.getElementById('Replenishment_ItemMaster').style.display = "none";
                    document.getElementById('Replenishment_ItemMaster1').style.display = "none";
                }

            }



            $("#chk_ReplenishmentItemMaster").click(function () {
                var _val = $(this).is(':checked') ? 'checked' : 'unchecked';
                if (_val == 'unchecked') {
                    document.getElementById('Replenishment_ItemMaster').style.display = "none";
                }
                else {
                    document.getElementById('Replenishment_ItemMaster').style.display = "";
                }

            });


            $("#selectall").click(function () {
                $(".case").prop('checked', $(this).prop('checked'));
            });

            $(".case").change(function () {
                if (!$(this).prop("checked")) {
                    $("#selectall").prop("checked", false);
                }
            });



            $(function () {
                $('#TaskMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=TaskList',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/Name/ID/Contact"
                    },
                    'columns': [
                        null, null
                    ]
                });
            });

            $(function () {
                $('#ItemUsageMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ItemUsage',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Description/Item Code/Barcode"
                    },
                    'columns': [
                        null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<i class="edit_mdlAddItemUsage glyphicon glyphicon-pencil"></i></a>';
                                return data;
                            }
                        }


                    ]
                });
            });

            $(document).on("click", ".edit_mdlAddItemUsage", function () {
                var rowIndex = $('#ItemUsageMaster tr').index($(this).closest('tr'));
                var itemcode = $('#ItemUsageMaster tr').eq(rowIndex).find('td:eq(1)').html();
                $('#mdlAddItemUOm__Uom').find('option').remove();
                $.ajax({
                    type: "POST",
                    url: 'Utilities/DataModels.ashx?ID=UsageUomPrice&PKey=' + itemcode + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "";
                        for (i = 0; i < Json.aaData.length; i++) {
                            div_data += "<option value=" + Json.aaData[i][0] + ">" + Json.aaData[i][1] + "</option>";
                        }
                        $('#mdlAddItemUOm__Uom').append(div_data);
                    }
                });

                $("#mdlAddItemUOm").modal();
                $("#mdlAddItemUOm #lbl_Type_mdlAddItemUOm").text('Edit');
                $("#mdlAddItemUOm #lbl_Index_mdlAddItemUOm").text(rowIndex);
                $("#mdlAddItemUOm #mdlAddItemUOm_ItemCode").val($('#ItemUsageMaster tr').eq(rowIndex).find('td:eq(1)').html());
                $("#mdlAddItemUOm #mdlAddItemUOm_ItemDesc").val($('#ItemUsageMaster tr').eq(rowIndex).find('td:eq(0)').html()).trigger();
            });


            $('[id$="btnSubmit_mdlAddItemUOm"]').click(function () {
                var searchString = $('#mdlAddItemUOm_ItemCode').val();
                if (valueInTable('ItemUsageMasterModule', 0, searchString)) {
                    $("#mdlAddItemUOm").modal('hide');
                    alert("already Exists");
                    return false;
                }
                //var table = document.getElementById("ItemUsageMasterModule");
                //var rows = my_table.getElementsByTagName("tr");
                // for(var i = 1; i < rows.length; i++) {
                //   var cells = rows.length[i].nodeValue;
                //   alert(cells);
                //}


                // $("#ItemUsageMasterModule tr td:nth-child(0)").each(function () {
                // var texttocheck = this.innerText.trim();
                // if (texttocheck == searchString) {
                //     var errMsg = "user already exists in the list";
                //     alert(errMsg);
                //     return false;
                // }
                // return false;
                //});


                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td>' + $('#mdlAddItemUOm_ItemCode').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#mdlAddItemUOm_ItemDesc').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#mdlAddItemUOm_Qty').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#mdlAddItemUOm__Uom').val().replace("'", "") + '</td>';
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_mdlAddItemUOm glyphicon glyphicon-trash"></i></div></td>';
                newRow.append(cols);
                $("#ItemUsageMasterModule").append(newRow);
                counter++;
                $("#mdlAddItemUOm").modal('hide');
            });

            $(document).on("click", ".Remove_mdlAddItemUOm", function () {
                var rowIndex = $('#ItemUsageMasterModule tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();
            });


            function valueInTable(tableID, columnNum, searchString) {
                var found = false;
                $("#ItemUsageMasterModule tr").each(function () {
                    var itemCode = $(this).find("td").eq(0).html();
                    if (itemCode == searchString) {
                        found = true;
                        return false;
                    }
                });

                return found;
            }






            //$("#chkAmnt_VoucherItemMaster").click( function(){
            //    var _val = $(this).is(':checked') ? 'checked' : 'unchecked';
            //    if (_val == 'checked') {
            //        document.getElementById('chkPercent_VoucherItemMaster').checked  = false;
            //    }
            //    else {
            //        document.getElementById('chkPercent_VoucherItemMaster').checked = true;
            //    }

            //});

            //$("#chkPercent_Voucher").click( function(){
            //    var _val = $(this).is(':checked') ? 'checked' : 'unchecked';
            //    if (_val == 'checked') {
            //        document.getElementById('chkAmnt_Voucher').checked  = false;
            //    }
            //    else {
            //        document.getElementById('chkAmnt_Voucher').checked = true;
            //    }

            //});



            $("#chk_InclusiveAll").click(function () {
                var _val = $(this).is(':checked') ? 'checked' : 'unchecked';
                if (_val == 'checked') {
                    //$('#ddl_InclusiveDept').empty();
                    document.getElementById('ddl_InclusiveDept').disabled = true;
                }
                else {
                    document.getElementById('ddl_InclusiveDept').disabled = false;
                }

            });

            $('[id$="ddl_InclusiveType"]').change(function () {
                var type = this.value;
                $.ajax({
                    type: "POST",
                    url: 'Utilities/DataModels.ashx?ID=PrepaidDept&PKey=' + type + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = ""
                        for (i = 0; i < Json.aaData.length; i++) {
                            div_data += "<option value=" + Json.aaData[i][1] + ">" + Json.aaData[i][1] + "</option>";
                        }
                        $('#ddl_InclusiveDept').empty().append(div_data);
                    }
                });
            });

            $('[id$="ddl_ExclusiveType"]').change(function () {
                var type = this.value;
                $.ajax({
                    type: "POST",
                    url: 'Utilities/DataModels.ashx?ID=PrepaidDept&PKey=' + type + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = ""
                        for (i = 0; i < Json.aaData.length; i++) {
                            div_data += "<option value=" + Json.aaData[i][1] + ">" + Json.aaData[i][1] + "</option>";
                        }
                        $('#ddl_ExclusiveDept').empty().append(div_data);
                    }
                });
            });


            $('[id$="btnSubmit_AddBrandMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_Brand"]').val();
                var itmDesc = $('[id$="txtName_Brand"]').val();
                var itmStatus = $('[id$="chk_ActiveBrandMaster"]').is(':checked') ? 'True' : 'False';
                var retailProductBrand = $('[id$="chk_showRetailBrandMaster"]').is(':checked') ? 'True' : 'False';
                var voucherBrand = $('[id$="chk_showVoucherBrandMaster"]').is(':checked') ? 'True' : 'False';
                var prepaidBrand = $('[id$="chk_showPrepaidBrandMaster"]').is(':checked') ? 'True' : 'False';

                if (itmDesc == "") {
                    alert("Brand Description is Empty");
                    return false;
                }

                var btnText = $('[id$="btnSubmit_AddBrandMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'BrandMaster.aspx/AddBrandMasterData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','retailProductBrand':'" + retailProductBrand + "','voucherBrand':'" + voucherBrand + "','prepaidBrand':'" + prepaidBrand + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'BrandMaster.aspx/EditBrandMasterData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','retailProductBrand':'"
                            + retailProductBrand + "','voucherBrand':'" + voucherBrand + "','prepaidBrand':'" + prepaidBrand + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "BrandMasterList.aspx");

            });

            $('.btn').on('click', function () {
                var $this = $(this);
                $this.button('loading');
                setTimeout(function () {
                    $this.button('reset');
                }, 3000);
            });


            $('[id$="btnSubmit_AddRangeProductMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_RangeProduct"]').val();
                var itmDesc = $('[id$="txtName_RangeProduct"]').val();
                var itmStatus = $('[id$="chk_ActiveRangeProduct"]').is(':checked') ? 'True' : 'False';
                var itmBrand = $('[id$="ddl_BrandRangeProduct"]').val();

                var btnText = $('[id$="btnSubmit_AddRangeProductMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterProduct.aspx/AddRangeMasterProductData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterProduct.aspx/EditAddRangeMasterProductData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "RangeMasterProductList.aspx");

            });

            $('[id$="btnSubmit_AddRangeServiceMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_RangeService"]').val();
                var itmDesc = $('[id$="txtName_RangeService"]').val();
                var itmStatus = $('[id$="chk_ActiveRangeService"]').is(':checked') ? 'True' : 'False';
                var itmDept = $('[id$="ddl_BrandRangeService"]').val();

                var btnText = $('[id$="btnSubmit_AddRangeServiceMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterService.aspx/AddRangeMasterServiceData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmDept':'" + itmDept + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterService.aspx/EditAddRangeMasterServiceData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmDept':'" + itmDept + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "RangeMasterServiceList.aspx");

            });

            $('[id$="btnSubmit_AddRangeVoucherMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_RangeVoucher"]').val();
                var itmDesc = $('[id$="txtName_RangeVoucher"]').val();
                var itmStatus = $('[id$="chk_ActiveRangeVoucher"]').is(':checked') ? 'True' : 'False';
                var itmBrand = $('[id$="ddl_BrandRangeVoucher"]').val();

                var btnText = $('[id$="btnSubmit_AddRangeVoucherMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterVoucher.aspx/AddRangeMasterVoucherData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterVoucher.aspx/EditAddRangeMasterVoucherData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "RangeMasterVoucherList.aspx");

            });

            $('[id$="btnSubmit_AddRangePrepaidMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_RangePrepaid"]').val();
                var itmDesc = $('[id$="txtName_RangePrepaid"]').val();
                var itmStatus = $('[id$="chk_ActiveRangePrepaid"]').is(':checked') ? 'True' : 'False';
                var itmBrand = $('[id$="ddl_BrandRangePrepaid"]').val();

                var btnText = $('[id$="btnSubmit_AddRangePrepaidMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterPrepaid.aspx/AddRangeMasterPrepaidData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterPrepaid.aspx/EditAddRangeMasterPrepaidData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmBrand':'" + itmBrand + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "RangeMasterPrepaidList.aspx");

            });


            $('[id$="btnSubmit_AddRangeCompoundMaster"]').click(function () {

                var itmCode = $('[id$="txtCode_RangeCompound"]').val();
                var itmDesc = $('[id$="txtName_RangeCompound"]').val();
                var itmStatus = $('[id$="chk_ActiveRangeCompound"]').is(':checked') ? 'True' : 'False';
                var itmDept = $('[id$="ddl_BrandRangeCompound"]').val();

                var btnText = $('[id$="btnSubmit_AddRangeCompoundMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterCompound.aspx/AddRangeMasterCompoundData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmDept':'" + itmDept + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'RangeMasterCompound.aspx/EditAddRangeMasterCompoundData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmDept':'" + itmDept + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "RangeMasterCompoundList.aspx");

            });

            $('[id$="btnSubmit_AddDeptMaster"]').click(function () {

                var itmCode = $('[id$="txtDeptCode_DeptMaster"]').val();
                var itmDesc = $('[id$="txtDeptDesc_DeptMaster"]').val();
                var itmStatus = $('[id$="chkActive_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var itmSeq = $('[id$="txtSeqNo_DeptMaster"]').val();
                var allowcashsales = $('[id$="chkAllowCashSales_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var itmShowonsales = $('[id$="chkShowOnSales_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isfirsttrial = $('[id$="chkFirstTrial_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isVoucher = $('[id$="chkVoucher_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isPrepaid = $('[id$="chkPrepaid_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isRetailproduct = $('[id$="chkRetail_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isSalonproduct = $('[id$="chkSaolon_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isPackage = $('[id$="chkPackage_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var validityPeriod = $('[id$="ddl_ValidityPeriodDeptMaster"]').val();
                var isService = $('[id$="chkService_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var isCompound = $('[id$="chkCompound_DeptMaster"]').is(':checked') ? 'True' : 'False';
                var validityFrom = $('[id$="txtValidityFrom_DeptMaster"]').val().split("-").reverse().join("-");
                var validityTo = $('[id$="txtValidityTo_DeptMaster"]').val().split("-").reverse().join("-");

                if (itmDesc == "") {
                    alert("Department Description is Empty");
                    return;
                }

                var btnText = $('[id$="btnSubmit_AddDeptMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'DepartmentMaster.aspx/AddDeptMasterData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmSeq':'" + itmSeq + "','allowcashsales':'" + allowcashsales + "','itmShowonsales':'"
                            + itmShowonsales + "','isfirsttrial':'" + isfirsttrial + "','isVoucher':'" + isVoucher + "','isPrepaid':'" + isPrepaid + "','isRetailproduct':'" + isRetailproduct + "','isSalonproduct':'"
                            + isSalonproduct + "','isPackage':'" + isPackage + "','isService':'" + isService + "','isCompound':'"
                            + isCompound + "','validityPeriod':'" + validityPeriod + "','validityFrom':'"
                            + validityFrom + "','validityTo':'" + validityTo + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (response) {
                            $("#divResult").html("success");
                            $(location).attr('href', "DeptMasterList.aspx");
                        },
                        error: function (response) {
                            alert("Something Wrong.. Check Description for Duplicate!");
                            $("#divResult").html("Something Wrong.");
                            return;
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'DepartmentMaster.aspx/EditAddDeptMasterData',
                        data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmSeq':'" + itmSeq + "','allowcashsales':'" + allowcashsales + "','itmShowonsales':'" + itmShowonsales + "','isfirsttrial':'" + isfirsttrial + "','isVoucher':'" + isVoucher + "','isPrepaid':'" + isPrepaid + "','isRetailproduct':'" + isRetailproduct + "','isSalonproduct':'" + isSalonproduct + "','isPackage':'" + isPackage + "','isService':'"
                            + isService + "','isCompound':'" + isCompound + "','validityPeriod':'" + validityPeriod + "','validityFrom':'" + validityFrom + "','validityTo':'" + validityTo + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                            $(location).attr('href', "DeptMasterList.aspx");
                        },
                        error: function (e) {
                            alert("Something Wrong.. Check Description for Duplicate!");
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                

            });


            //Commisson Group 
             $('[id$="btnSubmit_AddCommissionMaster"]').click(function () {

                var code = $('[id$="txtCode_CommissionGroup"]').val();
                var description = $('[id$="txtDescription_CommissionGroup"]').val();
                var isactive = $('[id$="chk_CommissionGroupActive"]').is(':checked') ? 'True' : 'False';
                var isservice = 'False';
                var type = $('[id$="ddlCommissionGroup"]').val();
                var type2 = $('[id$="ddlCommPrepaidType"]').val();;

                if (description == "") {
                    alert("Description is Empty!");
                    return;
                }

                var btnText = $('[id$="btnSubmit_AddCommissionMaster"]').text();
                 if (btnText == "Add") {

                    $.ajax({
                        type: "POST",
                        url: 'ItemCommissionMaster.aspx/AddCommissionGroupHrData',
                        data: "{'code':'" + code + "','description':'" + description + "','isactive':'" + isactive + "','isservice':'"
                            + isservice + "','type':'" + type + "','type2':'"
                            + type2 + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                    var Commissiondetails = [];
                    var CommissiondetailsListingrows = $('#tblCommissionDetail tbody >tr');
                    var columns;
                    for (var k = 1; k < CommissiondetailsListingrows.length; k++) {

                           columns = $(CommissiondetailsListingrows[k]).find('td');
                           //var checked = $(SiteGroup[2]).is(':checked') ? 'True' : 'False';
                           var Commissiondetailsobj = {};
                           Commissiondetailsobj.code = code;
                           Commissiondetailsobj.commLevel = $(columns[0]).html();
                           Commissiondetailsobj.commValue = $(columns[4]).html();
                           if($(columns[5]).html() == "Yes")
                                Commissiondetailsobj.ispercent = true;
                           else
                                Commissiondetailsobj.ispercent = false;
                           if($(columns[8]).html() == "Yes")
                                Commissiondetailsobj.isactive = true;
                           else
                                Commissiondetailsobj.isactive = false;

                          Commissiondetailsobj.isdiscaffect = false;
                          Commissiondetailsobj.fscale = $(columns[2]).html();
                          Commissiondetailsobj.tscale = $(columns[3]).html();
                          if($(columns[7]).html() == "Single Transaction")
                            Commissiondetailsobj.level = 1;
                          else
                             Commissiondetailsobj.level = 2;
                         Commissiondetailsobj.commDtlCode = $(columns[11]).html();
                         Commissiondetailsobj.commBalValue = 0;
                         Commissiondetailsobj.commBalIspercent = false;
                         if($(columns[6]).html() == "Normal")
                            Commissiondetailsobj.calmethod = 1;
                         else
                             Commissiondetailsobj.calmethod = 2;
                         Commissiondetails.push(Commissiondetailsobj);
                    }

                   $.ajax({
                         type: "POST",
                         url: "ItemCommissionMaster.aspx/AddCommissionDetailListing",
                         data: '{ Details :' + JSON.stringify(Commissiondetails) + '}',
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         success: function (r) {
                         }
                   });

                    var SiteGroupdetails = [];
                    var SiteGroupListingrows = $('#tblCommissionSiteGroup tbody >tr');
                    var SiteGroupListingcolumns;
                    for (var k = 1; k < SiteGroupListingrows.length; k++) {

                           SiteGroupListingcolumns = $(SiteGroupListingrows[k]).find('td');
                           var SiteGroupListingobj = {};
                           //SiteGroupListingobj.id = $(SiteGroupListingcolumns[3]).html();
                           SiteGroupListingobj.commCode = code;
                           SiteGroupListingobj.siteGroup = $(SiteGroupListingcolumns[0]).html();
                           SiteGroupListingobj.isactive = SiteGroupListingcolumns.find('input[type="checkbox"]').is(':checked') ? 'True' : 'False';;
                           SiteGroupdetails.push(SiteGroupListingobj);
                    }

                   $.ajax({
                         type: "POST",
                         url: "ItemCommissionMaster.aspx/AddCommissionSiteGroupListing",
                         data: '{ Details :' + JSON.stringify(SiteGroupdetails) + '}',
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         success: function (r) {
                         }
                   });



                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'ItemCommissionMaster.aspx/EditCommissionGroupHrData',
                        data: "{'code':'" + code + "','description':'" + description + "','isactive':'" + isactive + "','isservice':'"
                            + isservice + "','type':'" + type + "','type2':'"
                            + type2 + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                     });


                    var Commissiondetails = [];
                    var CommissiondetailsListingrows = $('#tblCommissionDetail tbody >tr');
                    var columns;
                    for (var k = 1; k < CommissiondetailsListingrows.length; k++) {

                           columns = $(CommissiondetailsListingrows[k]).find('td');
                           var Commissiondetailsobj = {};
                           Commissiondetailsobj.code = code;
                           Commissiondetailsobj.commLevel = $(columns[0]).html();
                           Commissiondetailsobj.commValue = $(columns[4]).html();
                           if($(columns[5]).html() == "Yes")
                                Commissiondetailsobj.ispercent = true;
                           else
                                Commissiondetailsobj.ispercent = false;
                           if($(columns[8]).html() == "Yes")
                                Commissiondetailsobj.isactive = true;
                           else
                                Commissiondetailsobj.isactive = false;

                          Commissiondetailsobj.isdiscaffect = false;
                          Commissiondetailsobj.fscale = $(columns[2]).html();
                          Commissiondetailsobj.tscale = $(columns[3]).html();
                          if($(columns[7]).html() == "Single Transaction")
                            Commissiondetailsobj.level = 1;
                          else
                            Commissiondetailsobj.level = 2;

                          Commissiondetailsobj.commDtlCode = $(columns[11]).html();
                          Commissiondetailsobj.commBalValue = 0;
                          Commissiondetailsobj.commBalIspercent = false;

                         if($(columns[6]).html() == "Normal")
                            Commissiondetailsobj.calmethod = 1;
                         else
                            Commissiondetailsobj.calmethod = 2;
                         Commissiondetailsobj.id = $(columns[10]).html();
                         Commissiondetails.push(Commissiondetailsobj);
                    }

                   $.ajax({
                         type: "POST",
                         url: "ItemCommissionMaster.aspx/EditCommissionDetailListing",
                         data: '{ Details :' + JSON.stringify(Commissiondetails) + '}',
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         success: function (r) {
                         }
                   });


                    var SiteGroupdetails = [];
                    var SiteGroupListingrows = $('#tblCommissionSiteGroup tbody >tr');
                    var SiteGroupListingcolumns;
                    for (var k = 1; k < SiteGroupListingrows.length; k++) {

                           SiteGroupListingcolumns = $(SiteGroupListingrows[k]).find('td');
                          // var checked = $(SiteGroup[2]).is(':checked') ? 'True' : 'False';
                           var SiteGroupListingobj = {};
                           SiteGroupListingobj.id = $(SiteGroupListingcolumns[3]).html();
                           SiteGroupListingobj.commCode = code;
                           SiteGroupListingobj.siteGroup = $(SiteGroupListingcolumns[0]).html();
                           SiteGroupListingobj.isactive = SiteGroupListingcolumns.find('input[type="checkbox"]').is(':checked') ? 'True' : 'False';;
                           SiteGroupdetails.push(SiteGroupListingobj);
                    }

                   $.ajax({
                         type: "POST",
                         url: "ItemCommissionMaster.aspx/EditCommissionSiteGroupListing",
                         data: '{ Details :' + JSON.stringify(SiteGroupdetails) + '}',
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         success: function (r) {
                         }
                   });
                   
                 }

                $(location).attr('href', "ItemCommissionMasterList.aspx");

            });



            $('[id$="btnSubmit_AddDivMaster"]').click(function () {

                var Code = $('[id$="txtCode_DivMaster"]').val();
                var Name = $('[id$="txtName_DivMaster"]').val();
                var InActive = $('[id$="chk_ActiveDivMaster"]').is(':checked') ? 'True' : 'False';

                var btnText = $('[id$="btnSubmit_AddDivMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'DivMaster.aspx/DivisionMasterCall',
                        data: "{'Code':'" + Code + "','Name':'" + Name + "','InActive':'" + InActive + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'DivMaster.aspx/UpdateDivisionMasterCall',
                        data: "{'Code':'" + Code + "','Name':'" + Name + "','InActive':'" + InActive + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "DivisionMaster.aspx");

            });

            $('[id$="btnSubmit_AddClassMaster"]').click(function () {

                var Code = $('[id$="txtCode_ClassMaster"]').val();
                var Name = $('[id$="txtName_ClassMaster"]').val();
                var InActive = $('[id$="chk_ActiveClassMaster"]').is(':checked') ? 'True' : 'False';

                if (Name == "") {
                    alert("Class Description is Empty");
                    return false;
                }

                var btnText = $('[id$="btnSubmit_AddClassMaster"]').text();
                if (btnText == "Add") {
                    $.ajax({
                        type: "POST",
                        url: 'ClassificationMaster.aspx/ClassMasterCall',
                        data: "{'Code':'" + Code + "','Name':'" + Name + "','InActive':'" + InActive + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });

                }
                else {

                    $.ajax({
                        type: "POST",
                        url: 'ClassificationMaster.aspx/UpdateClassMasterCall',
                        data: "{'Code':'" + Code + "','Name':'" + Name + "','InActive':'" + InActive + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
                $(location).attr('href', "ClassificationMaster.aspx");

            });

            //Deparment Model - Validity year change fn
             $('[id$="ddl_ValidityPeriodmdlAddDept"]').change(function () {

                        var str = $("#txtValidityFrom_mdlAddDept").val();

                        var parts = str.split("-");

                        var day = parts[0] && parseInt( parts[0], 10 );
                        var month = parts[1] && parseInt( parts[1], 10 );
                        var year = parts[2] && parseInt( parts[2], 10 );
                        var duration = parseInt($("#ddl_ValidityPeriodmdlAddDept").val(), 10);

                        if( day <= 31 && day >= 1 && month <= 12 && month >= 1 ) {

                            if (duration == 4) {
                                $("#txtValidityTo_mdlAddDept").val("31-12-2999");
                            } else {
                                var expiryDate = new Date( year, month - 1, day );
                                expiryDate.setFullYear( expiryDate.getFullYear() + duration );

                                var day = ( '0' + expiryDate.getDate() ).slice( -2 );
                                var month = ( '0' + ( expiryDate.getMonth() + 1 ) ).slice( -2 );
                                var year = expiryDate.getFullYear();

                                $("#txtValidityTo_mdlAddDept").val( day + "-" + month + "-" + year );
                            }

                        } else {
                            // display error message
                        }

            });

            $('[id$="btnSubmit_AddItemMaster"]').click(function () {

                var divparts = $('[id$="ddl_Div"]').val().split("-");
                var deptparts = $('[id$="ddl_Dept"]').val().split("-");

                var run1 = divparts[0];   //$('[id$="ddl_Div"]').val();
                var run2 = deptparts[0];    //$('[id$="ddl_Dept"]').val();
                $('[id$="txt_RunningNo1"]').val(run1 + run2);

                var stockobjValidation = {};

                stockobjValidation.itemDiv = divparts[0]; 
                if (stockobjValidation.itemDiv == "") {
                    alert("Div is Empty");
                    return false;
                }
                stockobjValidation.itemDivIdId = divparts[1]; 


                stockobjValidation.itemDept = deptparts[0]; 
                if (stockobjValidation.itemDept == "" || stockobjValidation.itemDept == "0") {
                    alert("Department is Empty");
                    return false;
                }
                stockobjValidation.itemDeptIdId = deptparts[1]; 

                parts = $('[id$="ddl_Class"]').val().split("-");
                stockobjValidation.itemClass = parts[0];   //$('[id$="ddl_Class"]').val();
                if (stockobjValidation.itemClass == "" || stockobjValidation.itemClass == "0") {
                    alert("Class is Empty");
                    return false;
                }
                stockobjValidation.itemClassIdId = parts[1]; 
               
                stockobjValidation.itemBrand = $('[id$="ddl_Brand"]').val();
                if (stockobjValidation.itemBrand == "") {
                    alert("Brand is Empty");
                    return false;
                }

                var rangeText = $('#ddl_Range option:selected').text(); 
                if (rangeText == null || rangeText == "") {
                    alert("Range is Empty");
                    return false;
                }

                parts = $('[id$="ddl_Range"]').val().split("-");
                stockobjValidation.itemRange = parts[0];
                if (stockobjValidation.itemRange == null || stockobjValidation.itemRange == "0") {
                    alert("Range is Empty");
                    return false;
                }
                if (stockobjValidation.itemRange == "") {
                    alert("Range is Empty");
                    return false;
                }
                stockobjValidation.itemRangeIdId = parts[1];

                stockobjValidation.itemName = $('[id$="txt_StockName"]').val();

                if (stockobjValidation.itemName == "") {
                    alert("Stock Name is Empty");
                    return false;
                }

                var btnTextItemMaster = $('[id$="btnSubmit_AddItemMaster"]').text();

                var SequoiaUri = '<%=ConfigurationManager.AppSettings["SequoiaUri"].ToString()%>';
                $.ajax({
                    type: 'GET',
                    url: SequoiaUri + "api/GetDeptRunningNo?DivCode=" + run1 + "&DeptCode=" + run2 + "",
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        $.each(data.result, function (i, data) {
                            if (btnTextItemMaster == "Add") {
                                $('[id$="txt_RunningNo2"]').val(data.controlNo);
                            }
                        });

                        var stockdetails = [];
                        var stockobj = {};
                        var runNo1 = $('[id$="txt_RunningNo1"]').val();
                        var runNo2 = $('[id$="txt_RunningNo2"]').val();
                        var itemCode = runNo1 + runNo2;
                        stockobj.siteCode = '<%=Session["User_SiteCode"]%>';
                        stockobj.itemCode = itemCode;

                        var parts = $('[id$="ddl_Div"]').val().split("-");
                        stockobj.itemDiv = parts[0];
                        if (stockobj.itemDiv == "") {
                            alert("Div is Empty");
                            return false;
                        }
                        stockobj.itemDivIdId = parts[1]; 

                        parts = $('[id$="ddl_Dept"]').val().split("-");
                        stockobj.itemDept = parts[0];
                        if (stockobj.itemDept == "" || stockobj.itemDept == "0") {
                            alert("Department is Empty");
                            return false;
                        }
                        stockobj.itemDeptIdId = parts[1]; 

                        parts = $('[id$="ddl_Class"]').val().split("-");
                        stockobj.itemClass = parts[0];   //$('[id$="ddl_Class"]').val();
                        if (stockobj.itemClass == "" || stockobj.itemClass == "0") {
                            alert("Class is Empty");
                            return false;
                        }
                        stockobj.itemClassIdId = parts[1]; 
 
                        stockobj.itemBrand = $('[id$="ddl_Brand"]').val();
                        if (stockobj.itemBrand == "") {
                            alert("Brand is Empty");
                            return false;
                        }

                        var rangeText = $('#ddl_Range option:selected').text();
                        if (rangeText == null || rangeText == "") {
                            alert("Range is Empty");
                            return false;
                        }

                        parts = $('[id$="ddl_Range"]').val().split("-");
                        stockobj.itemRange = parts[0];
                        if (stockobj.itemRange == "" || stockobj.itemRange == "0") {
                            alert("Range is Empty");
                            return false;
                        }
                        stockobj.itemRangeIdId = parts[1];

                        var itemName = $('[id$="txt_StockName"]').val();;
                        stockobj.itemName = $('[id$="txt_StockName"]').val();
                        stockobj.itemDesc = $('[id$="txt_StockDesc"]').val();

                        stockobj.limitserviceFlexionly = $('[id$="chk_AutoAddOpenCode"]').is(':checked') ? 'True' : 'False';
                        stockobj.isOpenPrepaid = $('[id$="chk_openPrepaid"]').is(':checked') ? 'True' : 'False';
                        stockobj.itemType = $('#ddl_stockType option:selected').text();  // $('[id$="ddl_stockType"]').val();

                        stockobj.itemTypeIdId = $('[id$="ddl_stockType"]').val();


                        stockobj.itemSupp = $('[id$="ddl_supplier"]').val(); // "";

                        if (stockobj.itemDiv == 4)  //if it is voucher
                            stockobj.itemPrice = $('[id$="txtVouValueItemMaster"]').val();
                        else
                            stockobj.itemPrice = $('[id$="txt_price"]').val();

                        stockobj.itemPriceFloor = $('[id$="txt_floorPrice"]').val();
                        stockobj.costPrice = $('[id$="txt_Cost"]').val();
                        stockobj.serviceCost = $('[id$="txt_Cost"]').val();
                        stockobj.serviceCostPercent = $('[id$="chk_Percent"]').is(':checked') ? 'True' : 'False';
                        stockobj.srvDuration = $('[id$="txt_DurationMinutes"]').val();
                        stockobj.disclimit = $('[id$="txt_Disc"]').val();
                        stockobj.disctypeamount = $('[id$="chk_discType"]').is(':checked') ? 'True' : 'False';
                        stockobj.autocustdisc = $('[id$="chk_AutoCustDisc"]').is(':checked') ? 'True' : 'False';

                        stockobj.itemIsactive = $('[id$="chk_Active"]').is(':checked') ? 'True' : 'False';
                        stockobj.commissionable = $('[id$="chk_Commissionable"]').is(':checked') ? 'True' : 'False';
                        stockobj.itemFoc = $('[id$="chk_RedeemItem"]').is(':checked') ? 'True' : 'False';
                        stockobj.isGst = $('[id$="chk_Tax"]').is(':checked') ? 'True' : 'False';
                        stockobj.isHaveTax = $('[id$="chk_Tax"]').is(':checked') ? 'True' : 'False';
                        stockobj.isAllowFoc = $('[id$="chk_ItemallowFOC"]').is(':checked') ? 'True' : 'False';
                        stockobj.accountCode = $('[id$="txt_AccCodeItemMaster"]').val();

                        stockobj.voucherIsvalidUntilDate = $('[id$="chk_VoucherValidItemMaster"]').is(':checked') ? 'True' : 'False';
                        var voucherValidUntilDate = $('[id$="dt_VoucherValItemMaster"]').val();
                        if (voucherValidUntilDate == "") {
                            stockobj.voucherValidUntilDate = null;
                        }
                        else {
                            stockobj.voucherValidUntilDate = voucherValidUntilDate.split("/").reverse().join("/");   //new Date(Date.parse(voucherValidUntilDate)).format("yyyy/MM/dd");
                        }
                        stockobj.voucherValue = $('[id$="txtVouValueItemMaster"]').val();  //$('[id$="txt_price"]').val(); 
                        stockobj.voucherValueIsAmount;

                        //var radioValue = $("#option_Amount_ItemMaster:checked").val();
                        var radioValue = $('[id$="option_Amount_ItemMaster"]').val();
                        if (radioValue == "Amount") {
                            voucherValueIsAmount = false;
                        }
                        else {
                            voucherValueIsAmount = true;
                        }
                        stockobj.voucherValidPeriod = $('[id$="ddl_ValidityPeriodItemMaster"]').val();

                        stockobj.prepaidValidPeriod = $('[id$="ddl_ValidPeriodItemMaster"]').val();
                        var membercardnoaccess = $('[id$="chk_MemberCardItemMaster"]').is(':checked') ? 'True' : 'False';
                        stockobj.membercardnoaccess = $('[id$="chk_MemberCardItemMaster"]').is(':checked') ? 'True' : 'False';
                        stockobj.prepaidValue = $('[id$="txt_PrepaidValue"]').val();
                        stockobj.prepaidSellAmt = $('[id$="txt_PrepaidAmnt"]').val();

                        stockobj.reorderActive = $('[id$="chk_ReorderLevelItemMaster"]').is(':checked') ? 'True' : 'False';
                        stockobj.reorderMinqty = $('[id$="txt_minQtyItemMaster"]').val();
                        stockobj.custReplenishDays = $('[id$="txt_ReplenishmentItemMaster"]').val();
                        stockobj.custAdvanceDays = $('[id$="txt_RemindAdvItemMaster"]').val();
                        stockobj.trading = $('[id$="chk_ReplenishmentItemMaster"]').is(':checked') ? 'True' : 'False';

                        stockobj.workcomm = $('[id$="ddlWorkCommGroup_itemMaster"]').val();
                        stockobj.salescomm = $('[id$="ddlSalesCommGroup_itemMaster"]').val();
                        stockobj.workcommpoints = $('[id$="txtworkPoints_ItemMaster"]').val();
                        stockobj.salescommpoints = $('[id$="txtSalesPoints_ItemMaster"]').val();

                        stockobj.serviceExpireActive = $('[id$="chkExpiryStatus_ItemMaster"]').is(':checked') ? 'True' : 'False';
                        stockobj.serviceExpireMonth = $('[id$="txtserviceExpiryMonth_ItemMaster"]').val();
                        stockobj.treatmentLimitActive = $('[id$="chkServiceLimit_ItemMaster"]').is(':checked') ? 'True' : 'False';
                        stockobj.treatmentLimitCount = $('[id$="txtServiceLimit_ItemMaster"]').val();
                        stockobj.limitserviceFlexionly = $('[id$="chkServiceFlexi_ItemMaster"]').is(':checked') ? 'True' : 'False';

                        stockobj.t1TaxCode = $('[id$="ddl1stTax_ItemMaster"]').val();
                        stockobj.t2TaxCode = $('[id$="ddl2ndTax_ItemMaster"]').val();

                        stockdetails.push(stockobj);

                        if (btnTextItemMaster == "Add") {

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterData",
                                data: '{ Details :' + JSON.stringify(stockdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {

                                    alert("Item Saved Successfully");
                                }
                            });

                            var details = [];
                            var details1 = [];

                            var rows = $('#UOMModule tbody >tr');
                            var UomEntryrows = $('#UOMEntryModule tbody >tr');
                            var columns;
                            for (var i = 1; i < rows.length; i++) {
                                columns = $(rows[i]).find('td');
                                var obj = {};
                                obj.itemCode = itemCode;
                                obj.itemUom = $(columns[1]).html();
                                obj.uomDesc = $(columns[2]).html();
                                obj.uomUnit = $(columns[4]).html();
                                obj.itemUom2 = $(columns[5]).html();
                                obj.uom2Desc = $(columns[6]).html();

                                Entrycolumns = $(UomEntryrows[i]).find('td');
                                obj.itemPrice = $(Entrycolumns[2]).find('input').val();
                                obj.itemCost = $(Entrycolumns[3]).find('input').val();
                                obj.minMargin = $(Entrycolumns[4]).find('input').val();

                                obj.isactive = true;
                                obj.itemUompriceSeq = $(columns[0]).html();
                                details.push(obj);
                            }

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterUOMData",
                                data: '{ Details :' + JSON.stringify(details) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //   alert(r.d);
                                }
                            });

                            var LinkdetailsForP = [];
                            var LinkobjForP = {};
                            LinkobjForP.itemCode = itemCode + "0000";
                            LinkobjForP.linkCode = itemCode + "0000";
                            LinkobjForP.linkDesc = itemName;
                            LinkobjForP.linkType = "P";
                            LinkobjForP.itmIsactive = true;
                            LinkdetailsForP.push(LinkobjForP);

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterLinkData",
                                data: '{ Details :' + JSON.stringify(LinkdetailsForP) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                            var Linkdetails = [];
                            var Linkrows = $('#LinkModule tbody >tr');
                            var Linkcolumns;
                            for (var j = 1; j < Linkrows.length; j++) {
                                Linkcolumns = $(Linkrows[j]).find('td');
                                var Linkobj = {};
                                Linkobj.itemCode = itemCode + "0000";
                                Linkobj.linkCode = $(Linkcolumns[0]).html();
                                Linkobj.linkDesc = $(Linkcolumns[1]).html();
                                Linkobj.linkType = "L";
                                Linkobj.itmIsactive = true;
                                Linkdetails.push(Linkobj);
                            }

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterLinkData",
                                data: '{ Details :' + JSON.stringify(Linkdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                            var ServiceDetails1 = [];
                            var Servicerows1 = $('#ServiceAvailabe tbody >tr');
                            var Servicecolumns1;
                            for (var j = 1; j < Servicerows1.length; j++) {
                                Servicecolumns1 = $(Servicerows1[j]).find('td');
                                var Serviceobj1 = {};
                                Serviceobj1.itemCode = itemCode;
                                Serviceobj1.itemSrvcode = $(Servicecolumns1[2]).html() + "0000";
                                Serviceobj1.itemSrvdesc = $(Servicecolumns1[1]).html();
                                Serviceobj1.itmIsactive = true;
                                ServiceDetails1.push(Serviceobj1);
                            }


                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddServiceData",
                                data: '{ Details :' + JSON.stringify(ServiceDetails1) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });


                            var StockListingdetails = [];
                            var StockListingrows = $('#stockListingMaster tbody >tr');
                            var StockListingcolumns;
                            for (var k = 1; k < StockListingrows.length; k++) {

                                StockListingcolumns = $(StockListingrows[k]).find('td');
                                var checked = $(StockListingcolumns[2]).is(':checked') ? 'True' : 'False';
                                //if (StockListingcolumns.find('input[type="checkbox"]').is(':checked')) {
                                    var StockListingobj = {};
                                    StockListingobj.itemCode = itemCode;
                                    StockListingobj.itemBarcode = itemCode + "0000";
                                    StockListingobj.itemsiteCode = $(StockListingcolumns[0]).html();
                                    StockListingobj.onhandQty = "0";
                                    StockListingobj.itemstocklistStatus = StockListingcolumns.find('input[type="checkbox"]').is(':checked') ? 'True' : 'False';;
                                    StockListingdetails.push(StockListingobj);
                                //}
                            }

                            if (jQuery.isEmptyObject(StockListingdetails)) {
                                var StockListingobj1 = {};
                                StockListingobj1.itemCode = itemCode;
                                StockListingobj1.itemBarcode = itemCode + "0000";
                                StockListingobj1.itemsiteCode =  '<%=Session["User_SiteCode"]%>';
                                StockListingobj1.onhandQty = "0";
                                StockListingobj1.itemstocklistStatus = "True";
                                StockListingdetails.push(StockListingobj1);
                            }


                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterstockListing",
                                data: '{ Details :' + JSON.stringify(StockListingdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                }
                            });

                            var ItemUsagedetails = [];
                            var ItemUsagerows = $('#ItemUsageMasterModule tbody >tr');
                            var ItemUsagecolumns;
                            for (var L = 1; L < ItemUsagerows.length; L++) {

                                ItemUsagecolumns = $(ItemUsagerows[L]).find('td');
                                var ItemUsageobj = {};

                                ItemUsageobj.serviceCode = $(ItemUsagecolumns[0]).html() + "0000";
                                ItemUsageobj.itemCode = itemCode + "0000";
                                ItemUsageobj.qty = $(ItemUsagecolumns[2]).html();
                                ItemUsageobj.uom = $(ItemUsagecolumns[3]).html();
                                ItemUsageobj.sequence = L;
                                ItemUsageobj.serviceDesc = $(ItemUsagecolumns[1]).html();
                                ItemUsageobj.itemDesc = itemName;
                                ItemUsageobj.isactive = true;
                                ItemUsagedetails.push(ItemUsageobj);
                            }
                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterItemUsage",
                                data: '{ Details :' + JSON.stringify(ItemUsagedetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });


                            var PrepaidDetails = [];
                            var Prepaidrows = $('#PrepaidCondModule tbody >tr');
                            var Prepaidcolumns;
                            for (var M = 1; M < Prepaidrows.length; M++) {

                                Prepaidcolumns = $(Prepaidrows[M]).find('td');
                                var Prepaidobj = {};

                                Prepaidobj.pItemtype = $(Prepaidcolumns[0]).html();
                                Prepaidobj.itemCode = itemCode;
                                Prepaidobj.conditiontype1 = $(Prepaidcolumns[1]).html();
                                Prepaidobj.conditiontype2 = $(Prepaidcolumns[2]).html();
                                Prepaidobj.amount = $(Prepaidcolumns[3]).html();
                                Prepaidobj.rate = $(Prepaidcolumns[4]).html();
                                Prepaidobj.membercardnoaccess = membercardnoaccess;
                                PrepaidDetails.push(Prepaidobj);
                            }
                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterPrepaidConditions",
                                data: '{ Details :' + JSON.stringify(PrepaidDetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                            var BatchDetails = [];
                            var Batchrows = $('#UOMModule tbody >tr');
                            var Batchcolumns;
                            if (Batchrows.length > 1) {
                                Batchcolumns = $(Batchrows[1]).find('td');
                                var batchobj = {};
                                batchobj.itemCode = itemCode;
                                batchobj.siteCode = '<%=Session["User_SiteCode"]%>';
                                batchobj.batchNo = null;
                                batchobj.uom = $(columns[1]).html();
                                batchobj.qty = "0";
                                batchobj.expDate = null;
                                batchobj.batchCost = "0";
                                BatchDetails.push(batchobj);
                            }
                            else {
                                var batchobj1 = {};
                                batchobj1.itemCode = itemCode;
                                batchobj1.siteCode = '<%=Session["User_SiteCode"]%>';
                                batchobj1.batchNo = null;
                                batchobj1.uom = "";
                                batchobj1.qty = "0";
                                batchobj1.expDate = null;
                                batchobj1.batchCost = "0";
                                BatchDetails.push(batchobj1);
                            }

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/AddItemMasterItemBatch",
                                data: '{ Details :' + JSON.stringify(BatchDetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });


                            var TypeVal = $('#ddl_stockType option:selected').text();  //$('[id$="ddl_stockType"]').val();
                            var divparts = $('[id$="ddl_Div"]').val().split("-");
                            var divVal = divparts[0]; // $('[id$="ddl_Div"]').val();

                            if (TypeVal == "PACKAGE") {
                                PackageAdd();
                            }


                            if (divVal == 3 && TypeVal == "SINGLE") {

                                //if ($('[id$="chk_AutoAddOpenCode"]').is(':checked')) {
                                var isOpenCode = $('[id$="chk_AutoAddOpenCode"]').is(':checked') ? 'checked' : 'unchecked';
                                if (isOpenCode == 'checked') {

                                    courseAdd();

                                }
                            }



                        }
                        else {

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterData",
                                data: '{ Details :' + JSON.stringify(stockdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {

                                    alert("Stock Item Updated Successfully");
                                }
                            });

                            //$.ajax({
                            //type: "POST",
                            //url: "ItemMaster.aspx/EditAddstockdetails",
                            //data: '{ Details :' + JSON.stringify(stockdetailsNew) + '}',
                            //contentType: "application/json; charset=utf-8",
                            //dataType: "json",
                            //success: function (r) {
                            // //   alert(r.d);
                            //}
                            //});


                            // $.ajax({
                            //    type: "POST",
                            //    url: 'ItemMaster.aspx/EditAddItemMasterData',
                            //    data: "{'itemCode':'" + itemCode + "','itemDiv':'" + itemDiv + "','itemDept':'" + itemDept + "','itemClass':'" + itemClass + "','itemBrand':'" + itemBrand + "','itemRange':'" + itemRange + "','itemName':'" + itemName + "','itemDesc':'" + itemDesc + "','limitserviceFlexionly':'" + limitserviceFlexionly + "','isOpenPrepaid':'" + isOpenPrepaid + "','itemType':'" + itemType + "','itemSupp':'" + itemSupp + "','itemPrice':'" + itemPrice + "','itemPriceFloor':'" + itemPriceFloor + "','costPrice':'" + costPrice + "','disclimit':'" + disclimit + "','disctypeamount':'" + disctypeamount + "','autocustdisc':'" + autocustdisc + "','itemIsactive':'" + itemIsactive + "','commissionable':'" + commissionable + "','itemFoc':'" + itemFoc + "','isGst':'" + isGst + "','isAllowFoc':'" + isAllowFoc + "','accountCode':'" + accountCode + "','voucherIsvalidUntilDate':'" + voucherIsvalidUntilDate + "','voucherValidUntilDate':'" + voucherValidUntilDate + "','voucherValue':'" + voucherValue + "','voucherValueIsAmount':'" + voucherValueIsAmount + "','voucherValidPeriod':'" + voucherValidPeriod + "','reorderActive':'" + reorderActive + "','reorderMinqty':'" + reorderMinqty + "','custReplenishDays':'" + custReplenishDays + "','custAdvanceDays':'" + custAdvanceDays + "','trading':'" + trading + "'}",
                            //    contentType: "application/json; charset=utf-8",
                            //    dataType: "json",
                            //    success: function (msg) {
                            //        $("#divResult").html("success");
                            //    },
                            //    error: function (e) {
                            //        $("#divResult").html("Something Wrong.");
                            //    }
                            //});

                            var details = [];
                            var details1 = [];

                            var rows = $('#UOMModule tbody >tr');
                            var UomEntryrows = $('#UOMEntryModule tbody >tr');
                            var columns;
                            for (var i = 1; i < rows.length; i++) {
                                columns = $(rows[i]).find('td');
                                var obj = {};
                                obj.itemCode = itemCode;
                                obj.itemUom = $(columns[1]).html();
                                obj.uomDesc = $(columns[2]).html();
                                obj.uomUnit = $(columns[4]).html();
                                obj.itemUom2 = $(columns[5]).html();
                                obj.uom2Desc = $(columns[6]).html();

                                obj.id = $(columns).find('input:hidden').val();

                                Entrycolumns = $(UomEntryrows[i]).find('td');
                                obj.itemPrice = $(Entrycolumns[2]).find('input').val();
                                obj.itemCost = $(Entrycolumns[3]).find('input').val();
                                obj.minMargin = $(Entrycolumns[4]).find('input').val();

                                obj.isactive = true;
                                obj.itemUompriceSeq = $(columns[0]).html();
                                details.push(obj);
                            }

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterUOMData",
                                data: '{ Details :' + JSON.stringify(details) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //   alert(r.d);
                                }
                            });

                            var Linkdetails = [];
                            var Linkrows = $('#LinkModule tbody >tr');
                            var Linkcolumns;
                            for (var j = 1; j < Linkrows.length; j++) {
                                Linkcolumns = $(Linkrows[j]).find('td');
                                var Linkobj = {};
                                Linkobj.itemCode = itemCode;
                                Linkobj.linkCode = $(Linkcolumns[0]).html();
                                Linkobj.linkDesc = $(Linkcolumns[1]).html();
                                Linkobj.linkType = "P";
                                Linkobj.itmIsactive = true;
                                Linkobj.itmId = $(Linkcolumns).find('input:hidden').val();
                                Linkdetails.push(Linkobj);
                            }
                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterLinkData",
                                data: '{ Details :' + JSON.stringify(Linkdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                            var ServiceDetails = [];
                            var Servicerows = $('#ServiceAvailabe tbody >tr');
                            var Servicecolumns;
                            for (var j = 1; j < Servicerows.length; j++) {
                                Servicecolumns = $(Servicerows[j]).find('td');
                                var Serviceobj = {};
                                Serviceobj.itemCode = itemCode;
                                Serviceobj.itemSrvcode = $(Servicecolumns[2]).html() + "0000";
                                Serviceobj.itemSrvdesc = $(Servicecolumns[1]).html();
                                Serviceobj.itmIsactive = true;
                                Serviceobj.itmId = $(Servicecolumns).find('input:hidden').val();
                                ServiceDetails.push(Serviceobj);
                            }

                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditServiceData",
                                data: '{ Details :' + JSON.stringify(ServiceDetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });


                            var StockListingdetails = [];
                            var StockListingrows = $('#stockListingMaster tbody >tr');
                            var StockListingcolumns;
                            for (var k = 1; k < StockListingrows.length; k++) {

                                StockListingcolumns = $(StockListingrows[k]).find('td');
                                var checked = $(StockListingcolumns[2]).is(':checked') ? 'True' : 'False';
                                //if (StockListingcolumns.find('input[type="checkbox"]').is(':checked')) {
                                    var StockListingobj = {};
                                    StockListingobj.itemCode = itemCode;
                                    StockListingobj.itemBarcode = itemCode + "0000";
                                    StockListingobj.itemsiteCode = $(StockListingcolumns[0]).html();
                                    StockListingobj.onhandQty = "0";
                                    StockListingobj.itemstocklistStatus = StockListingcolumns.find('input[type="checkbox"]').is(':checked') ? 'True' : 'False';;
                                    StockListingdetails.push(StockListingobj);
                                //}
                            }

                            if (jQuery.isEmptyObject(StockListingdetails)) {
                                var StockListingobj1 = {};
                                StockListingobj1.itemCode = itemCode;
                                StockListingobj1.itemBarcode = itemCode + "0000";
                                StockListingobj1.itemsiteCode = '<%=Session["User_SiteCode"]%>';
                                StockListingobj1.onhandQty = "0";
                                StockListingobj1.itemstocklistStatus = "True";
                                StockListingdetails.push(StockListingobj1);
                            }


                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterstockListing",
                                data: '{ Details :' + JSON.stringify(StockListingdetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                }
                            });

                            var ItemUsagedetails = [];
                            var ItemUsagerows = $('#ItemUsageMasterModule tbody >tr');
                            var ItemUsagecolumns;
                            for (var L = 1; L < ItemUsagerows.length; L++) {

                                ItemUsagecolumns = $(ItemUsagerows[L]).find('td');
                                var ItemUsageobj = {};

                                ItemUsageobj.serviceCode = $(ItemUsagecolumns[0]).html();
                                ItemUsageobj.itemCode = itemCode;
                                ItemUsageobj.qty = $(ItemUsagecolumns[2]).html();
                                ItemUsageobj.uom = $(ItemUsagecolumns[3]).html();
                                ItemUsageobj.sequence = L;
                                ItemUsageobj.serviceDesc = $(ItemUsagecolumns[1]).html();
                                ItemUsageobj.itemDesc = itemName;
                                ItemUsageobj.isactive = true;
                                ItemUsageobj.id = $(ItemUsagecolumns).find('input:hidden').val();
                                ItemUsagedetails.push(ItemUsageobj);
                            }
                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterItemUsage",
                                data: '{ Details :' + JSON.stringify(ItemUsagedetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                            var TypeVal = $('#ddl_stockType option:selected').text();  // $('[id$="ddl_stockType"]').val();
                            var divparts = $('[id$="ddl_Div"]').val().split("-");
                            var divVal = divparts[0];  // $('[id$="ddl_Div"]').val();

                            //alert(TypeVal);
                            if (TypeVal == "PACKAGE") {
                                EditPackageAdd();
                            }

                            var PrepaidDetails = [];
                            var Prepaidrows = $('#PrepaidCondModule tbody >tr');
                            var Prepaidcolumns;
                            for (var M = 1; M < Prepaidrows.length; M++) {

                                Prepaidcolumns = $(Prepaidrows[M]).find('td');
                                var Prepaidobj = {};

                                Prepaidobj.pItemtype = $(Prepaidcolumns[0]).html();
                                Prepaidobj.itemCode = itemCode;
                                Prepaidobj.conditiontype1 = $(Prepaidcolumns[1]).html();
                                Prepaidobj.conditiontype2 = $(Prepaidcolumns[2]).html();
                                Prepaidobj.amount = $(Prepaidcolumns[3]).html();
                                Prepaidobj.rate = $(Prepaidcolumns[4]).html();
                                Prepaidobj.membercardnoaccess = membercardnoaccess;
                                Prepaidobj.itemid = $(Prepaidcolumns).find('input:hidden').val();
                                PrepaidDetails.push(Prepaidobj);
                            }
                            $.ajax({
                                type: "POST",
                                url: "ItemMaster.aspx/EditAddItemMasterPrepaidConditions",
                                data: '{ Details :' + JSON.stringify(PrepaidDetails) + '}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (r) {
                                    //alert(r.d);
                                }
                            });

                        }

                        $(location).attr('href', "ItemMasterList.aspx");

                    }
                });


            });


            function PackageAdd() {

                var runNo1 = $('[id$="txt_RunningNo1"]').val();
                var runNo2 = $('[id$="txt_RunningNo2"]').val();
                var itemCode = runNo1 + runNo2;
                var PackageTabledetails = [];
                var packagerows = $('#PackageEntryModule tbody >tr');
                var packagecolumns;
                var discountTotal = 0.0;
                for (var i = 1; i < packagerows.length; i++) {
                    packagecolumns = $(packagerows[i]).find('td');
                    var Packobj = {};
                    Packobj.code = $(packagecolumns[0]).html() + "0000";
                    Packobj.description = $(packagecolumns[1]).html();   // $('[id$="txt_StockName"]').val();
                    Packobj.cost = null;
                    Packobj.price = $(packagecolumns[6]).html();
                    Packobj.discount = $(packagecolumns[5]).html();
                    Packobj.packageCode = itemCode;
                    Packobj.qty = $(packagecolumns[2]).html();
                    Packobj.uom = $(packagecolumns[8]).html();
                    Packobj.itemDiv = $(packagecolumns[10]).html();
                    Packobj.packageBarcode = null;
                    Packobj.discPercent = null;
                    Packobj.unitPrice = $(packagecolumns[3]).html();
                    Packobj.ttlUprice = $(packagecolumns[4]).html();
                    Packobj.siteCode = '<%=Session["User_SiteCode"]%>';
                    if (Packobj.siteCode == "") { Packobj.siteCode = "HQ" }
                    Packobj.lineNo = i;
                    Packobj.isactive = true;
                    Packobj.treatmentLimitActive = false;
                    PackageTabledetails.push(Packobj);

                    if ($(packagecolumns[5]).html() != "")
                        discountTotal += parseFloat($(packagecolumns[5]).html());
            }

            $.ajax({
                type: "POST",
                url: "ItemMaster.aspx/AddPackageDtlData",
                data: '{ Details :' + JSON.stringify(PackageTabledetails) + '}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    //   alert(r.d);
                }
            });


            var Packagedetails = [];
            var Packageobj = {};
            Packageobj.code = itemCode;
            Packageobj.description = $('[id$="txt_StockName"]').val();
            Packageobj.price = $('[id$="txtPackageTot_ItemMaster"]').val();
            var packageDiscount = $('[id$="txtDiscAmnt_ItemMaster"]').val();
            if (packageDiscount == "") packageDiscount = "0";
            Packageobj.discount = packageDiscount;  // 0;
            var d = new Date();
            var month = d.getMonth() + 1;
            var day = d.getDate();
            var output = d.getFullYear() + '-' + (month < 10 ? '0' : '') + month + '-' + (day < 10 ? '0' : '') + day;
            Packageobj.dateCreated = output;  //null;
            //var ThisHour = new Date().getHours();
            //var ThisMinute = new Date().getMinutes();
            //Packageobj.timeCreated = ThisHour.toString() + ":" + ThisMinute.toString();
            Packageobj.timeCreated = '1899-12-30 '+ d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds() + ':00';   //null;
            Packageobj.userName = "";
            Packageobj.packageBarcode = "";  // $('[id$="txt_StockDesc"]').val();
            Packageobj.unitPrice = $('[id$="txtcontentTot_ItemMaster"]').val();

            var packagefromDate = $('[id$="dtFromDatePackage_ItemMaster"]').val();
            if (packagefromDate == "") {
                Packageobj.fromDate = null;
            }
            else {
                var datearray = packagefromDate.split("-");
                Packageobj.fromDate = datearray[2] + '-' + datearray[1] + '-' + datearray[0];
                //Packageobj.fromDate = new Date(Date.parse(packagefromDate)).format("yyyy/MM/dd");
            }

            var packagetoDate = $('[id$="dtToDatePackage_ItemMaster"]').val();
            if (packagetoDate == "") {
                Packageobj.toDate = null;
            }
            else {
                var datearray = packagetoDate.split("-");
                Packageobj.toDate = datearray[2] + '-' + datearray[1] + '-' + datearray[0];
                //Packageobj.toDate = new Date(Date.parse(packagetoDate)).format("yyyy/MM/dd");
            }

            var packageFromTime = $('[id$="dtFromTimePackage_ItemMaster"]').val();
            if (packageFromTime == "") {
                Packageobj.fromTime = null;
            }
            else {
                //Packageobj.fromTime = new Date(Date.parse(packageFromTime)).format("yyyy/MM/dd, h:MM:ss TT");
                var timeInAMPM = "";
                var timInHH;
                var timeInMM;
                var timeInHHMM;
                if (packageFromTime.length > 5)
                    timeInAMPM = packageFromTime.slice(packageFromTime.length - 2);

                var timearray = packageFromTime.split(":");
                timInHH = parseInt(timearray[0]);
                if (timeInAMPM == "PM") timInHH = (12 + parseInt(timearray[0]));
                if (timInHH.length == 1) timInHH = '0' + timInHH;

                timeInMM = timearray[1];

                timeInMM = timeInMM.substring(0, 2);

                timeInHHMM = timInHH + ':' + timeInMM + ':00';

                Packageobj.fromTime = '1899-12-30 ' + timeInHHMM;
            }

            var packagetoTime = $('[id$="dtToTimePackage_ItemMaster"]').val();
            if (packagetoTime == "") {
                Packageobj.toTime = null;
            }
            else {
                //Packageobj.toTime = new Date(Date.parse(packagetoTime)).format("yyyy/MM/dd HH:mm:ss");

                var timeInAMPM = "";
                var timInHH;
                var timeInMM;
                var timeInHHMM;
                if (packagetoTime.length > 5)
                    timeInAMPM = packagetoTime.slice(packagetoTime.length - 2);

                var timearray = packagetoTime.split(":");
                timInHH = parseInt(timearray[0]);
                if (timeInAMPM == "PM") timInHH = (12 + parseInt(timearray[0]));
                if (timInHH.length == 1) timInHH = '0' + timInHH;

                timeInMM = timearray[1];

                timeInMM = timeInMM.substring(0, 2);

                timeInHHMM = timInHH + ':' + timeInMM + ':00';

                Packageobj.toTime = '1899-12-30 ' + timeInHHMM;
            }
            Packageobj.siteCode = '<%=Session["User_SiteCode"]%>';
            if (Packobj.siteCode == "") { Packobj.siteCode = "HQ" }
            //Packageobj.manualDisc = $('[id$="option_Manual_ItemMaster"]').is(':checked') ? true : false;
            var discMethod = $('input[name="option_DiscMethod_ItemMaster"]:checked').val();
                if (discMethod == "Manual")
                    Packageobj.manualDisc = "1"; //true;
                else
                    Packageobj.manualDisc = "0"; // false;
            Packageobj.istdt = $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? true : false;
            Packageobj.apptlimit = $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? 1 : 0; // $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? 'True' : 'False';

            Packagedetails.push(Packageobj);

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddPackageMasData",
                    data: '{ Details :' + JSON.stringify(Packagedetails) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //   alert(r.d);
                    }
                });
            }

            function EditPackageAdd() {

                var runNo1 = $('[id$="txt_RunningNo1"]').val();
                var runNo2 = $('[id$="txt_RunningNo2"]').val();
                var itemCode = runNo1 + runNo2;
                var PackageTabledetails = [];
                var packagerows = $('#PackageEntryModule tbody >tr');
                var packagecolumns;
                var discountTotal = 0.0;
                for (var i = 1; i < packagerows.length; i++) {
                    packagecolumns = $(packagerows[i]).find('td');
                    var Packobj = {};
                    Packobj.code = $(packagecolumns[0]).html() + "0000";
                    Packobj.description = $(packagecolumns[1]).html();   // $('[id$="txt_StockName"]').val();
                    Packobj.cost = null;
                    Packobj.price = $(packagecolumns[6]).html();
                    Packobj.discount = $(packagecolumns[5]).html();
                    Packobj.packageCode = itemCode;
                    Packobj.qty = $(packagecolumns[2]).html();
                    Packobj.uom = $(packagecolumns[8]).html();
                    Packobj.itemDiv = $(packagecolumns[10]).html();
                    Packobj.packageBarcode = null;
                    Packobj.discPercent = null;
                    Packobj.unitPrice = $(packagecolumns[3]).html();
                    Packobj.ttlUprice = $(packagecolumns[4]).html();
                    Packobj.siteCode = '<%=Session["User_SiteCode"]%>';
                    if (Packobj.siteCode == "") { Packobj.siteCode = "HQ" }
                    Packobj.lineNo = i;
                    var isActive = $(packagecolumns[9]).html();
                    if(isActive == "No")
                        Packobj.isactive = false;
                    else
                        Packobj.isactive = true;

                    Packobj.treatmentLimitActive = false;
                    Packobj.ID = $(packagecolumns[11]).html();
                    PackageTabledetails.push(Packobj);

                    if ($(packagecolumns[5]).html() != "")
                        discountTotal += parseFloat($(packagecolumns[5]).html());
            }

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/EditPackageDtlData",
                    data: '{ Details :' + JSON.stringify(PackageTabledetails) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //   alert(r.d);
                    }
                });

            var Packagedetails = [];
            var Packageobj = {};
            Packageobj.code = itemCode;
            Packageobj.description = $('[id$="txt_StockName"]').val();
            Packageobj.price = $('[id$="txtPackageTot_ItemMaster"]').val();
            var packageDiscount = $('[id$="txtDiscAmnt_ItemMaster"]').val();
            if (packageDiscount == "") packageDiscount = "0";
            Packageobj.discount = packageDiscount;  // 0;
            var d = new Date();
            var month = d.getMonth() + 1;
            var day = d.getDate();
            var output = d.getFullYear() + '-' + (month < 10 ? '0' : '') + month + '-' + (day < 10 ? '0' : '') + day;
            //Packageobj.dateCreated = new Date().getMonth() + 1;
            Packageobj.dateCreated = output;  // null;
            //var ThisHour = new Date().getHours();
            //var ThisMinute = new Date().getMinutes();
            //Packageobj.timeCreated = ThisHour.toString() + ":" + ThisMinute.toString();
            Packageobj.timeCreated = '1899-12-30 ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds() + ':00';   //null;
            Packageobj.userName = "";
            Packageobj.packageBarcode = ""; // $('[id$="txt_StockDesc"]').val();
            Packageobj.unitPrice = $('[id$="txtcontentTot_ItemMaster"]').val();

            var packagefromDate = $('[id$="dtFromDatePackage_ItemMaster"]').val();
            if (packagefromDate == "") {
                Packageobj.fromDate = null;
            }
            else {
                var datearray = packagefromDate.split("-");

                Packageobj.fromDate = datearray[2] + '-' + datearray[1] + '-' + datearray[0];
                //Packageobj.fromDate = new Date(Date.parse(packagefromDate)).format("yyyy/MM/dd");
            }

            var packagetoDate = $('[id$="dtToDatePackage_ItemMaster"]').val();
            if (packagetoDate == "") {
                Packageobj.toDate = null;
            }
            else {
                var datearray = packagetoDate.split("-");
                Packageobj.toDate = datearray[2] + '-' + datearray[1] + '-' + datearray[0];
                //Packageobj.toDate = new Date(Date.parse(packagetoDate)).format("yyyy/MM/dd");
            }

            var packageFromTime = $('[id$="dtFromTimePackage_ItemMaster"]').val();
            if (packageFromTime == "") {
                Packageobj.fromTime = null;
            }
            else {
                //Packageobj.fromTime = new Date(Date.parse(packageFromTime)).format("yyyy/MM/dd, h:MM:ss TT");
                var timeInAMPM = "";
                var timInHH;
                var timeInMM;
                var timeInHHMM;
                if (packageFromTime.length > 5)
                    timeInAMPM = packageFromTime.slice(packageFromTime.length - 2);

                var timearray = packageFromTime.split(":");
                timInHH = parseInt(timearray[0]);
                if (timeInAMPM == "PM") timInHH = (12 + parseInt(timearray[0]));
                if (timInHH.length == 1) timInHH = '0' + timInHH;

                timeInMM = timearray[1];

                timeInMM = timeInMM.substring(0, 2);

                timeInHHMM = timInHH + ':' + timeInMM + ':00';

                Packageobj.fromTime = '1899-12-30 ' + timeInHHMM;
            }

            var packagetoTime = $('[id$="dtToTimePackage_ItemMaster"]').val();
            if (packagetoTime == "") {
                Packageobj.toTime = null;
            }
            else {
                //Packageobj.toTime = new Date(Date.parse(packagetoTime)).format("yyyy/MM/dd HH:mm:ss");
                var timeInAMPM = "";
                var timInHH;
                var timeInMM;
                var timeInHHMM;
                if (packagetoTime.length > 5)
                    timeInAMPM = packagetoTime.slice(packagetoTime.length - 2);

                var timearray = packagetoTime.split(":");
                timInHH = parseInt(timearray[0]);
                if (timeInAMPM == "PM") timInHH = (12 + parseInt(timearray[0]));
                if (timInHH.length == 1) timInHH = '0' + timInHH;

                timeInMM = timearray[1];

                timeInMM = timeInMM.substring(0, 2);

                timeInHHMM = timInHH + ':' + timeInMM + ':00';

                Packageobj.toTime = '1899-12-30 ' + timeInHHMM;
            }
            Packageobj.siteCode = '<%=Session["User_SiteCode"]%>';
            if (Packobj.siteCode == "") { Packobj.siteCode = "S1" }
            var discMethod = $('input[name="option_DiscMethod_ItemMaster"]:checked').val();
                if (discMethod == "Manual")
                    Packageobj.manualDisc = "1"; //true;
                else
                    Packageobj.manualDisc = "0"; // false;
            //Packageobj.manualDisc = $('[id$="option_Manual_ItemMaster"]').is(':checked') ? true : false;
            Packageobj.istdt = $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? true : false;
            Packageobj.apptlimit = $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? 1 : 0; // $('[id$="chkApptTDT_ItemMaster"]').is(':checked') ? 'True' : 'False';

            Packagedetails.push(Packageobj);

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/EditPackageMasData",
                    data: '{ Details :' + JSON.stringify(Packagedetails) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //   alert(r.d);
                    }
                });

              

            }

            function courseAdd() {

                var stockdetails1 = [];
                var stockobj1 = {};
                var runNo1 = $('[id$="txt_RunningNo1"]').val();
                var runNo2 = $('[id$="txt_RunningNo2"]').val();
                var num = runNo1 + runNo2;
                var itemCode1 = Number(num) + 1;
                stockobj1.itemCode = itemCode1;
                var divparts = $('[id$="ddl_Div"]').val().split("-");
                stockobj1.itemDiv = divparts[0];  // $('[id$="ddl_Div"]').val();
                stockobj1.itemDivIdId = divparts[1];

                var deptparts = $('[id$="ddl_Dept"]').val().split("-");
                stockobj1.itemDept = deptparts[0];  // $('[id$="ddl_Dept"]').val();
                stockobj1.itemDeptIdId = deptparts[1];

                var parts = $('[id$="ddl_Class"]').val().split("-");
                stockobj1.itemClass = parts[0];   //$('[id$="ddl_Class"]').val();
                stockobj1.itemClassIdId = parts[1]; 

                stockobj1.itemType = "COURSE";

                stockobj1.itemTypeIdId = null;
                var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                $.ajax({
                    type: "GET",
                    url: apiUrl + "api/ItemTypes?filter={\"where\":{\"itmName\":\"" + stockobj1.itemType + "\"}}",
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);

                        for (i = 0; i < Json.length; i++) {
                            if (Json[i].itmName == "COURSE")
                                stockobj1.itemTypeIdId = Json[i].itmId;
                        }

                    }
                });

                stockobj1.itemBrand = $('[id$="ddl_Brand"]').val();

                parts = $('[id$="ddl_Range"]').val().split("-");
                stockobj1.itemRange = parts[0];   // $('[id$="ddl_Range"]').val();
                stockobj1.itemRangeIdId = parts[1];  

                stockobj1.itemName = $('[id$="txt_StockName"]').val();
                stockobj1.itemDesc = $('[id$="txt_StockDesc"]').val();
                stockobj1.limitserviceFlexionly = $('[id$="chk_AutoAddOpenCode"]').is(':checked') ? 'True' : 'False';
                stockobj1.isOpenPrepaid = $('[id$="chk_openPrepaid"]').is(':checked') ? 'True' : 'False';
               
                stockobj1.itemSupp = $('[id$="ddl_supplier"]').val();
                stockobj1.itemPrice = $('[id$="txt_price"]').val();
                stockobj1.itemPriceFloor = $('[id$="txt_floorPrice"]').val();
                stockobj1.costPrice = $('[id$="txt_Cost"]').val();
                stockobj1.srvDuration = $('[id$="txt_DurationMinutes"]').val();
                stockobj1.disclimit = $('[id$="txt_Disc"]').val();
                stockobj1.disctypeamount = $('[id$="chk_discType"]').is(':checked') ? 'True' : 'False';
                stockobj1.autocustdisc = $('[id$="chk_AutoCustDisc"]').is(':checked') ? 'True' : 'False';

                stockobj1.itemIsactive = $('[id$="chk_Active"]').is(':checked') ? 'True' : 'False';
                stockobj1.commissionable = $('[id$="chk_Commissionable"]').is(':checked') ? 'True' : 'False';
                stockobj1.itemFoc = $('[id$="chk_RedeemItem"]').is(':checked') ? 'True' : 'False';
                stockobj1.isGst = $('[id$="chk_Tax"]').is(':checked') ? 'True' : 'False';
                stockobj1.isAllowFoc = $('[id$="chk_ItemallowFOC"]').is(':checked') ? 'True' : 'False';
                stockobj1.accountCode = $('[id$="txt_AccCodeItemMaster"]').val();

                stockobj1.voucherIsvalidUntilDate = $('[id$="chk_VoucherValidItemMaster"]').is(':checked') ? 'True' : 'False';
                var voucherValidUntilDate1 = $('[id$="dt_VoucherValItemMaster"]').val();
                if (voucherValidUntilDate1 == "") {
                    stockobj1.voucherValidUntilDate = null;
                }
                else {
                    stockobj1.voucherValidUntilDate = voucherValidUntilDate.split("/").reverse().join("/");  // new Date(Date.parse(voucherValidUntilDate1)).format("yyyy/MM/dd");
                }
                stockobj1.voucherValue = $('[id$="txtVouValueItemMaster"]').val();  // $('[id$="txt_price"]').val();
                stockobj1.voucherValueIsAmount;

                //var radioValue = $("#option_Amount_ItemMaster:checked").val();
                var radioValue1 = $('[id$="option_Amount_ItemMaster"]').val();
                if (radioValue1 == "Amount") {
                    voucherValueIsAmount = true;
                }
                else {
                    voucherValueIsAmount = false;
                }
                stockobj1.voucherValidPeriod = $('[id$="ddl_ValidityPeriodItemMaster"]').val();

                stockobj1.prepaidValidPeriod = $('[id$="ddl_ValidPeriodItemMaster"]').val();
                var membercardnoaccess1 = $('[id$="chk_MemberCardItemMaster"]').is(':checked') ? 'True' : 'False';
                stockobj1.membercardnoaccess = $('[id$="chk_MemberCardItemMaster"]').is(':checked') ? 'True' : 'False';
                stockobj1.prepaidValue = $('[id$="txt_PrepaidValue"]').val();
                stockobj1.prepaidSellAmt = $('[id$="txt_PrepaidAmnt"]').val();

                stockobj1.reorderActive = $('[id$="chk_ReorderLevelItemMaster"]').is(':checked') ? 'True' : 'False';
                stockobj1.reorderMinqty = $('[id$="txt_minQtyItemMaster"]').val();
                stockobj1.custReplenishDays = $('[id$="txt_ReplenishmentItemMaster"]').val();
                stockobj1.custAdvanceDays = $('[id$="txt_RemindAdvItemMaster"]').val();
                stockobj1.trading = $('[id$="chk_ReplenishmentItemMaster"]').is(':checked') ? 'True' : 'False';

                stockobj1.workcomm = $('[id$="ddlWorkCommGroup_itemMaster"]').val();
                stockobj1.salescomm = $('[id$="ddlSalesCommGroup_itemMaster"]').val();
                stockobj1.workcommpoints = $('[id$="txtworkPoints_ItemMaster"]').val();
                stockobj1.salescommpoints = $('[id$="txtSalesPoints_ItemMaster"]').val();

                stockobj1.serviceExpireActive = $('[id$="chkExpiryStatus_ItemMaster"]').is(':checked') ? 'True' : 'False';
                stockobj1.serviceExpireMonth = $('[id$="txtserviceExpiryMonth_ItemMaster"]').val();
                stockobj1.treatmentLimitActive = $('[id$="chkServiceLimit_ItemMaster"]').is(':checked') ? 'True' : 'False';
                stockobj1.treatmentLimitCount = $('[id$="txtServiceLimit_ItemMaster"]').val();
                stockobj1.limitserviceFlexionly = $('[id$="chkServiceFlexi_ItemMaster"]').is(':checked') ? 'True' : 'False';

                stockobj1.t1TaxCode = $('[id$="ddl1stTax_ItemMaster"]').val();
                stockobj1.t2TaxCode = $('[id$="ddl2ndTax_ItemMaster"]').val();



                stockdetails1.push(stockobj1);

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddItemMasterData",
                    data: '{ Details :' + JSON.stringify(stockdetails1) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //   alert(r.d);
                    }
                });


                //$.ajax({
                //type: "POST",
                //url: "ItemMaster.aspx/Addstockdetails",
                //data: '{ Details :' + JSON.stringify(stockdetailsNew) + '}',
                //contentType: "application/json; charset=utf-8",
                //dataType: "json",
                //success: function (r) {
                // //   alert(r.d);
                //}
                //});


                //$.ajax({
                //    type: "POST",
                //    url: 'ItemMaster.aspx/AddItemMasterData',
                //    data: "{'itemCode':'" + itemCode + "','itemDiv':'" + itemDiv + "','itemDept':'" + itemDept + "','itemClass':'" + itemClass + "','itemBrand':'" + itemBrand + "','itemRange':'" + itemRange + "','itemName':'" + itemName + "','itemDesc':'" + itemDesc + "','limitserviceFlexionly':'" + limitserviceFlexionly + "','isOpenPrepaid':'" + isOpenPrepaid + "','itemType':'" + itemType + "','itemSupp':'" + itemSupp + "','itemPrice':'" + itemPrice + "','itemPriceFloor':'" + itemPriceFloor + "','costPrice':'" + costPrice + "','disclimit':'" + disclimit + "','disctypeamount':'" + disctypeamount + "','autocustdisc':'" + autocustdisc + "','itemIsactive':'" + itemIsactive + "','commissionable':'" + commissionable + "','itemFoc':'" + itemFoc + "','isGst':'" + isGst + "','isAllowFoc':'" + isAllowFoc + "','accountCode':'" + accountCode + "','voucherIsvalidUntilDate':'" + voucherIsvalidUntilDate + "','voucherValidUntilDate':'" + voucherValidUntilDate + "','voucherValue':'" + voucherValue + "','voucherValueIsAmount':'" + voucherValueIsAmount + "','voucherValidPeriod':'" + voucherValidPeriod + "','reorderActive':'" + reorderActive + "','reorderMinqty':'" + reorderMinqty + "','custReplenishDays':'" + custReplenishDays + "','custAdvanceDays':'" + custAdvanceDays + "','trading':'" + trading + "'}",
                //    contentType: "application/json; charset=utf-8",
                //    dataType: "json",
                //    success: function (msg) {
                //        $("#divResult").html("success");
                //    },
                //    error: function (e) {
                //        $("#divResult").html("Something Wrong.");
                //    }
                //});

                var UOMModuledetails1 = [];

                var rows1 = $('#UOMModule tbody >tr');
                var UomEntryrows1 = $('#UOMEntryModule tbody >tr');
                var columns1;
                for (var i = 1; i < rows1.length; i++) {
                    columns1 = $(rows1[i]).find('td');
                    var obj1 = {};
                    obj1.itemCode = itemCode1;
                    obj1.itemUom = $(columns1[1]).html();
                    obj1.uomDesc = $(columns1[2]).html();
                    obj1.uomUnit = $(columns1[4]).html();
                    obj1.itemUom2 = $(columns1[5]).html();
                    obj1.uom2Desc = $(columns1[6]).html();

                    Entrycolumns = $(UomEntryrows[i]).find('td');
                    obj1.itemPrice = $(Entrycolumns[2]).find('input').val();
                    obj1.itemCost = $(Entrycolumns[3]).find('input').val();
                    obj1.minMargin = $(Entrycolumns[4]).find('input').val();

                    obj1.isactive = true;
                    obj1.itemUompriceSeq = $(columns[0]).html();
                    UOMModuledetails1.push(obj1);
                }




                //$('[id*=UOMModule] tr:not(:has(th))').each(function () {
                //    var obj = {};
                //    obj.itemCode = itemCode;
                //    obj.itemUom = $.trim($(this).find('td').eq(1).html());
                //    obj.uomDesc = $.trim($(this).find('td').eq(4).html());
                //    obj.uomUnit = $.trim($(this).find('td').eq(3).html());
                //    obj.isactive = true;
                //    obj.itemUompriceSeq = $.trim($(this).find('td').eq(0).html());
                //    details.push(obj);
                //});

                //$('[id*=UOMEntryModule] tr:not(:has(th))').each(function () {
                //    var obj1 = {};
                //    obj1.itemCode = itemCode;
                //    obj1.uomDesc = $.trim($(this).find('td').eq(0).html());
                //    obj1.itemPrice = $.trim($(this).find('td').eq(1).html());
                //    obj1.itemCost = $.trim($(this).find('td').eq(2).html());
                //    obj1.minMargin = $.trim($(this).find('td').eq(3).html());
                //    details1.push(obj1);
                //});



                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddItemMasterUOMData",
                    data: '{ Details :' + JSON.stringify(UOMModuledetails1) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //   alert(r.d);
                    }
                });

                var LinkdetailsForP1 = [];
                var LinkobjForP1 = {};
                LinkobjForP1.itemCode = itemCode1 + "0000";
                LinkobjForP1.linkCode = itemCode1 + "0000";
                LinkobjForP1.linkDesc = $('[id$="txt_StockName"]').val();
                LinkobjForP1.linkType = "P";
                LinkobjForP1.itmIsactive = true;
                LinkdetailsForP1.push(LinkobjForP1);
                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddItemMasterLinkData",
                    data: '{ Details :' + JSON.stringify(LinkdetailsForP1) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //alert(r.d);
                    }
                });



                var Linkdetails1 = [];
                var Linkrows1 = $('#LinkModule tbody >tr');
                var Linkcolumns1;
                for (var j = 1; j < Linkrows1.length; j++) {
                    Linkcolumns1 = $(Linkrows1[j]).find('td');
                    var Linkobj1 = {};
                    Linkobj1.itemCode = itemCode1 + "0000";
                    Linkobj1.linkCode = $(Linkcolumns1[0]).html() + "C";
                    Linkobj1.linkDesc = $(Linkcolumns1[1]).html();
                    Linkobj1.linkType = "L";
                    Linkobj1.itmIsactive = true;
                    Linkdetails1.push(Linkobj1);
                }

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddItemMasterLinkData",
                    data: '{ Details :' + JSON.stringify(Linkdetails1) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //alert(r.d);
                    }
                });


                var StockListingdetails1 = [];
                var StockListingrows1 = $('#stockListingMaster tbody >tr');
                var StockListingcolumns1;
                for (var k = 1; k < StockListingrows1.length; k++) {

                    StockListingcolumns1 = $(StockListingrows1[k]).find('td');
                    var checked = $(StockListingcolumns1[2]).is(':checked') ? 'True' : 'False';
                    if (StockListingcolumns1.find('input[type="checkbox"]').is(':checked')) {
                        //if (checked == 'True') {
                        var StockListingobj3 = {};
                        StockListingobj3.itemCode = itemCode1;
                        StockListingobj3.itemBarcode = itemCode1 + "0000";
                        StockListingobj3.itemsiteCode = $(StockListingcolumns1[0]).html();
                        StockListingobj3.onhandQty = "0";
                        StockListingdetails1.push(StockListingobj3);
                    }
                }

                if (jQuery.isEmptyObject(StockListingdetails1)) {
                    var StockListingobj4 = {};
                    StockListingobj4.itemCode = itemCode1;
                    StockListingobj4.itemBarcode = itemCode1 + "0000";
                    StockListingobj4.itemsiteCode =  '<%=Session["User_SiteCode"]%>';
                StockListingobj4.onhandQty = "0";
                StockListingdetails1.push(StockListingobj4);
            }


            $.ajax({
                type: "POST",
                url: "ItemMaster.aspx/AddItemMasterstockListing",
                data: '{ Details :' + JSON.stringify(StockListingdetails1) + '}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                }
            });

            var ItemUsagedetails1 = [];
            var ItemUsagerows1 = $('#ItemUsageMasterModule tbody >tr');
            var ItemUsagecolumns1;
            for (var L = 1; L < ItemUsagerows1.length; L++) {

                ItemUsagecolumns1 = $(ItemUsagerows1[L]).find('td');
                var ItemUsageobj1 = {};

                ItemUsageobj1.serviceCode = $(ItemUsagecolumns1[0]).html() + "0000";
                ItemUsageobj1.itemCode = itemCode1 + "0000";
                ItemUsageobj1.qty = $(ItemUsagecolumns1[2]).html();
                ItemUsageobj1.uom = $(ItemUsagecolumns1[3]).html();
                ItemUsageobj1.sequence = L;
                ItemUsageobj1.serviceDesc = $(ItemUsagecolumns1[1]).html();
                ItemUsageobj1.itemDesc = $('[id$="txt_StockName"]').val();
                ItemUsageobj1.isactive = true;
                ItemUsagedetails1.push(ItemUsageobj1);
            }
            $.ajax({
                type: "POST",
                url: "ItemMaster.aspx/AddItemMasterItemUsage",
                data: '{ Details :' + JSON.stringify(ItemUsagedetails1) + '}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    //alert(r.d);
                }
            });


            var PrepaidDetails1 = [];
            var Prepaidrows1 = $('#PrepaidCondModule tbody >tr');
            var Prepaidcolumns1;
            for (var M = 1; M < Prepaidrows1.length; M++) {

                Prepaidcolumns1 = $(Prepaidrows1[M]).find('td');
                var Prepaidobj1 = {};

                Prepaidobj1.pItemtype = $(Prepaidcolumns1[0]).html();
                Prepaidobj1.itemCode = itemCode1;
                Prepaidobj1.conditiontype1 = $(Prepaidcolumns1[1]).html();
                Prepaidobj1.conditiontype2 = $(Prepaidcolumns1[2]).html();
                Prepaidobj1.amount = $(Prepaidcolumns1[3]).html();
                Prepaidobj1.rate = $(Prepaidcolumns1[4]).html();
                Prepaidobj1.membercardnoaccess = membercardnoaccess1;
                PrepaidDetails1.push(Prepaidobj1);
            }
            $.ajax({
                type: "POST",
                url: "ItemMaster.aspx/AddItemMasterPrepaidConditions",
                data: '{ Details :' + JSON.stringify(PrepaidDetails1) + '}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    //alert(r.d);
                }
            });

            var BatchDetails1 = [];
            var Batchrows1 = $('#UOMModule tbody >tr');
            var Batchcolumns1;
            if (Batchrows1.length > 1) {
                Batchcolumns1 = $(Batchrows1[1]).find('td');
                var batchobj3 = {};
                batchobj3.itemCode = itemCode1;
                batchobj3.siteCode = '<%=Session["User_SiteCode"]%>';
                    batchobj3.batchNo = null;
                    batchobj3.uom = $(columns[1]).html();
                    batchobj3.qty = "0";
                    batchobj3.expDate = null;
                    batchobj3.batchCost = "0";
                    BatchDetails1.push(batchobj3);
                }
                else {
                    var batchobj4 = {};
                    batchobj4.itemCode = itemCode1;
                    batchobj4.siteCode = '<%=Session["User_SiteCode"]%>';
                    batchobj4.batchNo = null;
                    batchobj4.uom = "";
                    batchobj4.qty = "0";
                    batchobj4.expDate = null;
                    batchobj4.batchCost = "0";
                    BatchDetails1.push(batchobj4);
                }

                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/AddItemMasterItemBatch",
                    data: '{ Details :' + JSON.stringify(BatchDetails1) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        //alert(r.d);
                    }
                });

            }


            $('[id$="btnSubmit_AddInclusive"]').click(function () {

                var _val = $('[id$="txtInclusive_amnt"]').val();
                if (_val != "") {

                    var value;
                    var counter = 0;
                    var newRow = $("<tr>");
                    var cols = "";
                    var _Code = "";
                    //var amnt = document.getElementById('txtInclusive_amnt').value;
                    var amnt = $('[id$="txtInclusive_amnt"]').val();
                    cols += '<td style="width: 6%; text-align:center">' + "Inclusive" + '</td>';
                    cols += '<td style="width: 6%; text-align:center">' + $('#ddl_InclusiveType').val() + '</td>';
                    if (document.getElementById('chk_InclusiveAll').checked) {
                        cols += '<td style="width: 6%; text-align:center">' + "All" + '</td>';
                    }
                    else {
                        cols += '<td style="width: 6%; text-align:center">' + $('#ddl_InclusiveDept').val() + '</td>';
                    }
                    cols += '<td style="width: 7%; text-align:center">' + parseFloat($('[id$="txtInclusive_amnt"]').val().replace("'", "")).toFixed(2) + '</td>';
                    //cols += '<td style="width: 7%; text-align:center">' + amnt + '</td>';
                    cols += '<td style="width: 7%; text-align:center">' + "Amount $" + '</td>';
                    cols += '<td style="width: 2%; text-align:center"><div class="tools"><i class="Remove_PrepaidCondModule glyphicon glyphicon-trash"></i></div></td>';

                    newRow.append(cols);
                    $("#PrepaidCondModule").append(newRow);
                    counter++;
                }
                else {
                    alert("Price is empty...");
                }

                var _Total = 0;
                $('#PrepaidCondModule').find('tr').each(
                    function (i) {
                        if ($('#PrepaidCondModule').find('tr:eq(' + (i + 1) + ') td:eq(3)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PrepaidCondModule').find('tr:eq(' + (i + 1) + ') td:eq(3)').text()); }
                    });
                $('[id$="txt_PrepaidValue"]').val(_Total.toFixed(2));
                $('[id$="txt_PrepaidAmnt"]').val(_Total.toFixed(2));
                $('[id$="txt_price"]').val(_Total.toFixed(2));

            });



            $('[id$="btnSubmit_AddExclusive"]').click(function () {
                var value;
                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                var _Code = "";
                //var amnt = document.getElementById('txtInclusive_amnt').value;
                cols += '<td style="width: 6%; text-align:center">' + "Exclusive" + '</td>';
                cols += '<td style="width: 6%; text-align:center">' + $('#ddl_ExclusiveType').val() + '</td>';
                cols += '<td style="width: 6%; text-align:center">' + $('#ddl_ExclusiveDept').val() + '</td>';
                cols += '<td style="width: 7%; text-align:center">' + "" + '</td>';
                //cols += '<td style="width: 7%; text-align:center">' + amnt + '</td>';
                cols += '<td style="width: 7%; text-align:center">' + "" + '</td>';
                cols += '<td style="width: 2%; text-align:center"><div class="tools"><i class="Remove_PrepaidCondModule glyphicon glyphicon-trash"></i></div></td>';

                newRow.append(cols);
                $("#PrepaidCondModule").append(newRow);
                counter++;

            });



            $(document).on("click", ".Remove_PrepaidCondModule", function () {
                var rowIndex = $('#PrepaidCondModule tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();
                var _Total = 0;
                $('#PrepaidCondModule').find('tr').each(
                    function (i) {
                        if ($('#PrepaidCondModule').find('tr:eq(' + (i + 1) + ') td:eq(3)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PrepaidCondModule').find('tr:eq(' + (i + 1) + ') td:eq(3)').text()); }
                    });
                $('[id$="txt_PrepaidValue"]').val(_Total.toFixed(2));
                $('[id$="txt_PrepaidAmnt"]').val(_Total.toFixed(2));
                $('[id$="txt_price"]').val(_Total.toFixed(2));

            });

            $('[id$="txt_PrepaidAmnt"]').change(function () {
                var _Total = 0;
                _Total = parseFloat($('[id$="txt_PrepaidAmnt"]').val())
                $('[id$="txt_PrepaidAmnt"]').val(_Total.toFixed(2));
                $('[id$="txt_price"]').val(_Total.toFixed(2));
            });


            //$("#chk_showSalon").click(function () {
            //    alert("abcd");
            //                            });

            $("#chk_showSalon").click(function () {
                var Salon = $(this).is(':checked') ? 'checked' : 'unchecked';
                var Retail = $("#chk_showRetail").is(':checked') ? 'checked' : 'unchecked';

                $('#ItemUsageMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ItemUsage1&PKey=' + Salon + '&PKey1=' + Retail + '',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    "bDestroy": true,
                    language: {
                        searchPlaceholder: "Search By Description/Item Code/Barcode"
                    },
                    'columns': [
                        null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<i class="edit_mdlAddItemUsage glyphicon glyphicon-pencil"></i></a>';
                                return data;
                            }
                        }


                    ]
                })

            });

            $(function () {
                $('#ItemListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ItemList',
                    'paging': true,
                    'lengthChange': true,
                    'responsive': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Stock Code/Stock Name/Link Code/Type/Division/Class/Dept/Brand/Range"
                    },
                    'columns': [
                        {
                            'data': 'stockcode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="ItemMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null, null, null, null, null, null, null
                    ]

                })
            });

            $(function () {
                $('#tblPackageItemSearchList').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=PackageItemList&PKey=' + '',
                    'paging': true,
                    'lengthChange': true,
                    'responsive': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    "iDisplayLength": 5,
                    'autoWidth': true,
                    "bDestroy": true,
                    language: {
                        searchPlaceholder: "Search By Stock Code/Stock Name/Link Code/Type/Division/Class/Dept/Brand/Range"
                    },
                    'columns': [
                        null, null, null, null, null, null, null, null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<a class="Add_PackageItemSelected btn btn-info btn-primaryIcon"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
                                return data;
                            }
                        }
                    ],
                    "columnDefs": [
                        {
                            "targets": [0],
                            "visible": false,
                            "searchable": false
                        },
                        {
                            "targets": [3],
                            "visible": false,
                            "searchable": false
                        }
                    ]  
                })
            });

            $(document).on("click", ".Add_PackageItemSelected", function () {

                var rowIndex = $('#tblPackageItemSearchList tr').index($(this).closest('tr'));

                var currentRow = $(this).closest("tr");
                var sData = $('#tblPackageItemSearchList').DataTable().row(currentRow).data();

                var searchString = $('#tblPackageItemSearchList tr').eq(rowIndex).find('td:eq(0)').html();
                var itemName = $('#tblPackageItemSearchList tr').eq(rowIndex).find('td:eq(1)').html();

                $('[id$="txtPackageSelected_ItemCode"]').val(sData[0]);
                $('[id$="txtPackageSelected_ItemName"]').val(sData[1]);

                $('[id$="txt_PackageItemUOM"]').val(sData[7]);

                $('[id$="txt_PackageItemPrice"]').val(sData[9]);

                $('[id$="txt_PackageItemDivision"]').val(sData[2]);

                $('[id$="txt_PackageItemId"]').val("");

                //if (valueInGRNTable('GRNItemSearch', 0, searchString)) {
                //    alert("already Exists");
                //    return false;
                //}

                //alert(searchString);

                var counter = 0;

                counter++;
            });

            $('[id$="btn_DeletePackageItemSelected"]').click(function () {

                var itemcode = $('[id$="txtPackageSelected_ItemCode"]').val();
                if (itemcode == "") {
                    alert("Please select package item to remove!");
                    return false;
                }

                var packageId = $('[id$="txt_PackageItemId"]').val();
                var rowIndex = $('[id$="txt_PackageItemRowIndex"]').val();

                //packageId = "test"

                if (packageId == "") {
                    document.getElementById("PackageEntryModule").deleteRow(rowIndex);
                } else {

                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(2)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(3)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(4)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(5)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(6)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(7)').html("0");
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(9)').html("No");
                    $('#PackageEntryModule tr').eq(rowIndex).css("color", "red");
                }

                $('[id$="txtPackageSelected_ItemCode"]').val("");
                $('[id$="txtPackageSelected_ItemName"]').val("");
                $('[id$="txt_PackageItemUOM"]').val("");
                $('[id$="txt_PackageItemPrice"]').val("");
                $('[id$="txt_PackageItemDivision"]').val("");
                $('[id$="txt_PackageItemQty"]').val("");

                var _Total = 0;
                $('#PackageEntryModule').find('tr').each(
                    function (i) {
                        $('#PackageEntryModule tr').eq(i + 1).find('td:eq(12)').html(i + 1);
                        if ($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text()); }
                    });
                $('[id$="txtcontentTot_ItemMaster"]').val(_Total.toFixed(2));
                $('[id$="txtPackageTot_ItemMaster"]').val(_Total.toFixed(2));

                $('[id$="txt_PackageItemOperation"]').val("Insert");

            });

            $('[id$="btn_AddPackageItemSelected"]').click(function () {
                var itemcode = $('[id$="txtPackageSelected_ItemCode"]').val();
                var itemname = $('[id$="txtPackageSelected_ItemName"]').val();
                var uom = $('[id$="txt_PackageItemUOM"]').val();
                var qty = $('[id$="txt_PackageItemQty"]').val();
                var price = $('[id$="txt_PackageItemPrice"]').val();

                if (price == "")
                    price = "0";

                var discount = $('[id$="txt_PackageItemDiscount"]').val();

                if (discount == "")
                    discount = "0";

                var division = $('[id$="txt_PackageItemDivision"]').val();
                var packageId = $('[id$="txt_PackageItemId"]').val();

                if (itemcode == "") {
                    alert("Please select item to add");
                    return false;
                }

                if (qty == "") {
                    alert("Qty is Invalid");
                    return false;
                }

                if (division == "Voucher" || division == "Prepaid") {
                    if (qty > 1) {
                        alert("Qty cannot be more than 1 for division '" + division + "' items");
                        return false;
                    }
                }

                var amount = qty * price;

                var pprice = parseFloat(price) - parseFloat(discount);

                var totamount = qty * pprice;

                if (amount == "") {
                    alert("Price is Empty");
                    return false;
                }

                var counter = 0;

                var btnText = $('[id$="txt_PackageItemOperation"]').val();

                if (btnText == "Insert") {
                    var newRow = $("<tr>");
                    var cols = "";
                    cols += '<td >' + itemcode + '</td>';
                    cols += '<td>' + itemname + '</td>';
                    cols += '<td>' + qty + '</td>';
                    cols += '<td>' + price + '</td>';
                    cols += '<td>' + amount + '</td>';
                    cols += '<td>' + discount + '</td>';
                    cols += '<td>' + pprice + '</td>';
                    cols += '<td>' + totamount + '</td>';
                    cols += '<td >' + uom + '</td>';
                    cols += '<td >Yes</td>';
                    cols += '<td style="width: 0%;display:none;">' + division + '</td>';
                    cols += '<td style="width: 0%;display:none;">' + packageId + '</td>';
                    cols += '<td style="width: 0%;display:none;">' + 0 + '</td>';
                    cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Edit_AddItemToPackage glyphicon glyphicon-pencil"></i></div></td>';
                    newRow.append(cols);
                    $("#PackageEntryModule").append(newRow);
                } else if (btnText == "Update") {

                    var rowIndex = $('[id$="txt_PackageItemRowIndex"]').val();

                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(2)').html(qty);
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(3)').html(price);
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(4)').html(amount);
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(5)').html(discount);
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(6)').html(pprice);
                    $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(7)').html(totamount);

                    //$("#btn_AddPackageItemSelected").prop('value', 'Insert');
                    $('[id$="txt_PackageItemOperation"]').val("Insert");
                }

                var _Total = 0;
                $('#PackageEntryModule').find('tr').each(
                    function (i) {
                        $('#PackageEntryModule tr').eq(i + 1).find('td:eq(12)').html(i + 1);
                        if ($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text()); }
                    });
                $('[id$="txtcontentTot_ItemMaster"]').val(_Total.toFixed(2));
                $('[id$="txtPackageTot_ItemMaster"]').val(_Total.toFixed(2));


                $('[id$="txtPackageSelected_ItemCode"]').val("");
                $('[id$="txtPackageSelected_ItemName"]').val("");
                $('[id$="txt_PackageItemUOM"]').val("");
                $('[id$="txt_PackageItemPrice"]').val("");
                $('[id$="txt_PackageItemDivision"]').val("");
                $('[id$="txt_PackageItemQty"]').val("");
                $('[id$="txt_PackageItemDiscount"]').val("");

                counter++;
            });

            $(document).on("click", ".Edit_AddItemToPackage", function () {

                var rowIndex = $('#PackageEntryModule tr').index($(this).closest('tr'));

                var _Code = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(0)').html();
                var _Name = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(1)').html();
                var _Qty = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(2)').html();
                var _Price = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(3)').html(); 
                var _Disc = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(5)').html();
                var _UOM = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(8)').html(); 

                var _Division = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(10)').html();
                var _PackageId = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(11)').html();
                var _RowIndex = $('#PackageEntryModule tr').eq(rowIndex).find('td:eq(12)').html();

                $('[id$="txtPackageSelected_ItemCode"]').val(_Code);
                $('[id$="txtPackageSelected_ItemName"]').val(_Name);
                $('[id$="txt_PackageItemUOM"]').val(_UOM);
                $('[id$="txt_PackageItemQty"]').val(_Qty);
                $('[id$="txt_PackageItemPrice"]').val(_Price);
                $('[id$="txt_PackageItemDiscount"]').val(_Disc);

                $('[id$="txt_PackageItemDivision"]').val(_Division);
                $('[id$="txt_PackageItemId"]').val(_PackageId);
                $('[id$="txt_PackageItemRowIndex"]').val(_RowIndex);

                $('[id$="txt_PackageItemOperation"]').val("Update");
                
                //$("#btn_AddPackageItemSelected").html('Update');

            });

            $('[id$="btn_PackageItemDiscount"]').click(function () {

                var contentTotal = $('[id$="txtcontentTot_ItemMaster"]').val();

                if (contentTotal == "") {
                    alert("No more package item to apply discount!");
                    return false;
                }

                var packageDiscount = $('[id$="txtDiscAmnt_ItemMaster"]').val();

                if (packageDiscount == "" || packageDiscount == "0") {
                    alert("Please enter discount to apply!");
                    return false;
                }

                if (parseFloat(packageDiscount) > parseFloat(contentTotal)) {
                    alert("Cannot give discount more than content total!");
                    return false;
                }

                var confirmation = confirm("Confirm to apply evenly discount to all package items selected?");
                if (confirmation) {
                    var totAmount = parseFloat(contentTotal) - parseFloat(packageDiscount);

                    var mutliplyVal = (totAmount / parseFloat(contentTotal))

                    var _Total = 0;
                    $('#PackageEntryModule').find('tr').each(
                        function (i) {

                            //var sData = $('#PackageEntryModule').DataTable().row(i+1).data();

                            var qty = $('#PackageEntryModule tr').eq(i + 1).find('td:eq(2)').html();
                            var price = $('#PackageEntryModule tr').eq(i + 1).find('td:eq(3)').html();

                            var pprice = mutliplyVal * parseFloat(price);

                            var unitdiscount = parseFloat(price) - parseFloat(pprice);

                            var amount = qty * pprice;

                            $('#PackageEntryModule tr').eq(i + 1).find('td:eq(5)').html(unitdiscount.toFixed(2));
                            $('#PackageEntryModule tr').eq(i + 1).find('td:eq(6)').html(pprice.toFixed(2));
                            $('#PackageEntryModule tr').eq(i + 1).find('td:eq(7)').html(amount.toFixed(2));

                            if ($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text()); }
                    });

                    $('[id$="txtPackageTot_ItemMaster"]').val(totAmount);
                }

            });
            

            $(".btnFillter_ItemMasterList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#ItemListMaster').DataTable();
                table
                    .column(7)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#BrandListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=BrandList',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Description"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="BrandMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null, null, null
                    ]

                })
            });

            $(".btnFillter_BrandList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#BrandListMaster').DataTable();
                table
                    .column(2)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#RangeProductListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=RangeProductList&PKey=isproduct',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Description / Brand "
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="RangeMasterProduct.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })

                var inputValue = 'Yes';
                var table = $('#RangeProductListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(".btnFillter_RangeMasterProductList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#RangeProductListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });


            $(function () {
                $('#RangeVoucherListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=RangeProductList&PKey=isvoucher',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Description /Brand "
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="RangeMasterVoucher.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })

                var inputValue = 'Yes';
                var table = $('#RangeVoucherListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(".btnFillter_RangeMasterVoucherList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#RangeVoucherListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });


            $(function () {
                $('#RangePrepaidListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=RangeProductList&PKey=isprepaid',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Description / Brand "
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="RangeMasterPrepaid.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })

                //To open initially with active values
                var inputValue = 'Yes';
                var table = $('#RangePrepaidListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(".btnFillter_RangeMasterPrepaidList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#RangePrepaidListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#ConfigEquipmentListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ConfigEquipmentList',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    'columns': [
                        {
                            'data': 'itemsiteCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="ConfigInterface_EquipmentMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null]
                })
            });

            $(".btnFillter_ConfigEquipmentList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#ConfigEquipmentListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#RangeServiceListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=RangeServiceList&PKey=isservice',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Desription /Service"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="RangeMasterService.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })

                var inputValue = 'Yes';
                var table = $('#RangeServiceListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();

            });

            $(".btnFillter_RangeMasterServiceList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#RangeServiceListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });


            $(function () {
                $('#RangeCompoundListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=RangeServiceList&PKey=iscompound',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Code/ Description / Service"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="RangeMasterCompound.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })

                var inputValue = 'Yes';
                var table = $('#RangeCompoundListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(".btnFillter_RangeMasterCompoundList .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#RangeCompoundListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#DeptListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=DeptListMaster',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Department Code/ Description / Sequence / Active"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="DepartmentMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })
            });

            $(".btnFillter_DeptListMaster .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#DeptListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });


            //Item Commission Setup List

              $(function () {
                $('#CommissionListMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=CommissionListMaster',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Commission Code/ Description / Type / Active"
                    },
                    'columns': [
                        {
                            'data': 'code',
                            'render': function (data, type, row, meta) {
                                data = '<a href="ItemCommissionMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null
                    ]
                })
            });

              $(".btnFillter_CommissionListMaster .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#CommissionListMaster').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });


            $(function () {
                $('#DivisionMasterPage').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=DivListMaster',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Division Code/ Description/ Division is currently active"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="DivMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null
                    ]
                })
            });

            $(".btnFillter_DivListMaster .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#DivisionMasterPage').DataTable();
                table
                    .column(2)
                    .search(inputValue)
                    .draw();
            });

            $(function () {
                $('#ClassificationMasterPage').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ClassListMaster',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Classification Code/ Description/ Classification is currently active"
                    },
                    'columns': [
                        {
                            'data': 'itmCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="ClassMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null
                    ]
                })
            });

            $(".btnFillter_ClassListMaster .btn").click(function () {
                var inputValue = $(this).find("input").val();
                var table = $('#ClassificationMasterPage').DataTable();
                table
                    .column(2)
                    .search(inputValue)
                    .draw();
            });


            $("#chk_showRetail").click(function () {
                var Retail = $(this).is(':checked') ? 'checked' : 'unchecked';
                var Salon = $("#chk_showSalon").is(':checked') ? 'checked' : 'unchecked';

                $('#ItemUsageMaster').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ItemUsage1&PKey=' + Salon + '&PKey1=' + Retail + '',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    "bDestroy": true,
                    language: {
                        searchPlaceholder: "Search By Description/Item Code/Barcode"
                    },
                    'columns': [
                        null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<i class="edit_mdlAddItemUsage glyphicon glyphicon-pencil"></i></a>';
                                return data;
                            }
                        }


                    ]
                })

            });



            //$('#chk_VoucherValid').on('change', function () {
            //        alert("already Exists");
            //});



            //   $(function () {
            //$('#TaskMaster').DataTable({
            //    'sAjaxSource': 'Utilities/DataModels.ashx?ID=TaskList',
            //    'paging': true,
            //    'lengthChange': true,
            //    'searching': true,
            //    'ordering': true,
            //    'info': true,
            //    'autoWidth': true,
            //    language: {
            //        searchPlaceholder: "Search By Code/Name/ID/Contact"
            //    },
            //    'columns':
            //        [
            //            { "data": "taskID"}, 
            //            { "data": "taskDescription" }
            //        ]
            //})
            //   });

            //        $(".chk_VoucherValid").change(function() {
            //if(this.checked) {
            //    alert("unchecked");
            //}
            //        });

            //        $(document).ready(function () {
            //$(document).on('change', 'input[Id="chk_VoucherValid"]', function (e) {
            //    alert($(this).val());
            //});
            //        });

            //            $('#chk_VoucherValid').click (function ()
            //{
            //var thisCheck = $(this);
            //if (thischeck.is (':checked'))
            //{
            //document.getElementById('dateIdItemMaster').style.display = "";
            //}
            //            });


            //    $('#chk_VoucherValid').on('change', function () {

            //var _val = $(this).is(':checked') ? 'checked' : 'unchecked';
            //if (_val == 'unchecked') {
            //    alert("unchecked");
            //}
            //else {
            //    alert("checked");
            //}
            //    });


            //$('#chk_VoucherValid').on('change', function () {
            //      var _val = $(this).is(':checked') ? 'checked' : 'unchecked';

            //});


            $('[id$="btnDivisionMaster_AddNew"]').click(function () {
                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_DivisionMaster" runat="server" maxlength="255" placeholder="Enter Code"></td>';
                cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_DivisionMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
                cols += '<td style="width: 30%; text-align:center"><input type="checkbox"   class="chk_mdlDivisionMaster editor - active" runat="server" id="chk_ActiveDivMaster"></td>';
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_mdlDivisionMaster  glyphicon glyphicon-plus"></i></div></td>';

                newRow.append(cols);
                $("#DivisionMasterPage").append(newRow);
                counter++;
                $('[id$="btnDivisionMaster_AddNew"]').prop('disabled', true);
            });

            function valueInTableDivision(tableID, columnNum, searchString) {
                var found = false;
                $("#DivisionMasterPage tr").each(function () {
                    var itemCode = $(this).find("td").eq(0).html();
                    if (itemCode == searchString) {
                        found = true;
                        return false;
                    }
                });

                return found;
            }


            $(document).on("click", ".Add_mdlDivisionMaster", function () {
                var rowIndex = $('#DivisionMasterPage tr').index($(this).closest('tr'));
                var _Code = $('#txtCode_DivisionMaster').val().replace("'", "");
                var _Name = $('#txtName_DivisionMaster').val().replace("'", "");
                var _Active = $('[id$="chk_ActiveDivMaster"]').is(':checked') ? 'True' : 'False';

                if (valueInTableDivision('DivisionMasterPage', 0, _Code)) {
                    alert("Code already Exists");
                    return false;
                }

                if (_Name == "") {
                    alert("Division Description is Empty");
                    return false;
                }

                var _Validation = true;
                if (_Code == '') {
                    _Validation = false;
                }
                if (_Name == '') {
                    _Validation = false;
                }
                if (_Validation == true) {
                    $(this).closest("tr").remove();
                    var counter = 0;
                    var newRow = $("<tr>");
                    var cols = "";
                    cols += '<td style="width: 30%;">' + _Code + '</td>';
                    cols += '<td style="width: 30%;">' + _Name + '</td>';
                    if (_Active == "True") {
                        cols += '<td style="width: 30%; text-align:center"><input type="checkbox" checked class="chk_mdlDivisionMaster editor-active"></td>';
                    }
                    else {
                        cols += '<td style="width: 30%; text-align:center"><input type="checkbox" class="chk_mdlDivisionMaster editor-active"></td>';
                    }
                    cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_mdlDivisionMaster glyphicon glyphicon-pencil"></i></div></td>';
                    newRow.append(cols);
                    $("#DivisionMasterPage").append(newRow);
                    counter++;
                    $('[id$="btnDivisionMaster_AddNew"]').prop('disabled', false);
                    $.ajax({
                        type: "POST",
                        url: 'DivisionMaster.aspx/DivisionMasterCall',
                        data: "{'Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Active + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
            });


            $(document).on("click", ".edit_mdlDivisionMaster", function () {
                var rowIndex = $('#DivisionMasterPage tr').index($(this).closest('tr'));
                var _Name = $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(1)').html();
                $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control"   id="txtNameEdit_DivisionMaster" runat="server" maxlength="255" placeholder="Enter Name">');
                $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_mdlDivisionMaster glyphicon glyphicon-edit"></i></div>');
                $('#txtNameEdit_DivisionMaster').val(_Name);
            });

            $(document).on("click", ".editOp_mdlDivisionMaster", function () {
                var rowIndex = $('#DivisionMasterPage tr').index($(this).closest('tr'));
                var _Code = $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(0)').html();
                var _Name = $('#txtNameEdit_DivisionMaster').val();
                var _Checked = ($('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(2) input').is(':checked') ? 'True' : 'False');
                var _Validation = true;
                if (_Name == '') {
                    _Validation = false;
                }
                if (_Validation == true) {
                    $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(1)').html(_Name);
                    $('#DivisionMasterPage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_mdlDivisionMaster glyphicon glyphicon-pencil"></i></div>');
                    $.ajax({
                        type: "POST",
                        url: 'DivisionMaster.aspx/UpdateDivisionMasterCall',
                        data: "{'Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }

            });


            $('[id$="btnClassificationMaster_AddNew"]').click(function () {
                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtCode_ClassificationMaster" runat="server" maxlength="255" placeholder="Enter Code"></td>';
                cols += '<td style="width: 30%;"><input type="text" style="width: 100%; Height:30px;" class="form-control" id="txtName_ClassificationMaster" runat="server" maxlength="255" placeholder="Enter Name"></td>';
                cols += '<td style="width: 30%; text-align:center"><input type="checkbox"   class="chk_mdlClassificationMaster editor - active" runat="server" id="chk_ActiveClassificationMaster"></td>';
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Add_mdlClassificationMaster  glyphicon glyphicon-plus"></i></div></td>';
                newRow.append(cols);
                $("#ClassificationMasterPage").append(newRow);
                counter++;
                $('[id$="btnClassificationMaster_AddNew"]').prop('disabled', true);
            });

            function valueInTableClassification(tableID, columnNum, searchString) {
                var found = false;
                $("#ClassificationMasterPage tr").each(function () {
                    var itemCode = $(this).find("td").eq(0).html();
                    if (itemCode == searchString) {
                        found = true;
                        return false;
                    }
                });

                return found;
            }


            $(document).on("click", ".Add_mdlClassificationMaster", function () {
                var rowIndex = $('#ClassificationMasterPage tr').index($(this).closest('tr'));
                var _Code = $('#txtCode_ClassificationMaster').val().replace("'", "");
                var _Name = $('#txtName_ClassificationMaster').val().replace("'", "");
                var _Active = $('[id$="chk_ActiveClassificationMaster"]').is(':checked') ? 'True' : 'False';

                if (valueInTableClassification('ClassificationMasterPage', 0, _Code)) {
                    alert("Code already Exists");
                    return false;
                }

                var _Validation = true;
                if (_Code == '') {
                    _Validation = false;
                }
                if (_Name == '') {
                    _Validation = false;
                }
                if (_Validation == true) {
                    $(this).closest("tr").remove();
                    var counter = 0;
                    var newRow = $("<tr>");
                    var cols = "";
                    cols += '<td style="width: 30%;">' + _Code + '</td>';
                    cols += '<td style="width: 30%;">' + _Name + '</td>';
                    if (_Active == "True") {
                        cols += '<td style="width: 30%; text-align:center"><input type="checkbox" checked class="chk_mdlClassificationMaster editor-active"></td>';
                    }
                    else {
                        cols += '<td style="width: 30%; text-align:center"><input type="checkbox" class="chk_mdlClassificationMaster editor-active"></td>';
                    }
                    cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_mdlClassificationMaster glyphicon glyphicon-pencil"></i></div></td>';
                    newRow.append(cols);
                    $("#ClassificationMasterPage").append(newRow);
                    counter++;
                    $('[id$="btnClassificationMaster_AddNew"]').prop('disabled', false);
                    $.ajax({
                        type: "POST",
                        url: 'ClassificationMaster.aspx/ClassMasterCall',
                        data: "{'Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Active + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            ItemListMaster
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }
            });


            $(document).on("click", ".edit_mdlClassificationMaster", function () {
                var rowIndex = $('#ClassificationMasterPage tr').index($(this).closest('tr'));
                var _Name = $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(1)').html();
                $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(1)').html('<input type="text" style="width: 100%; Height:25px;" class="form-control"   id="txtNameEdit_ClassificationMaster" runat="server" maxlength="255" placeholder="Enter Name">');
                $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="editOp_mdlClassificationMaster glyphicon glyphicon-edit"></i></div>');
                $('#txtNameEdit_ClassificationMaster').val(_Name);
            });

            $(document).on("click", ".editOp_mdlClassificationMaster", function () {
                var rowIndex = $('#ClassificationMasterPage tr').index($(this).closest('tr'));
                var _Code = $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(0)').html();
                var _Name = $('#txtNameEdit_ClassificationMaster').val();
                var _Checked = ($('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(2) input').is(':checked') ? 'True' : 'False');
                var _Validation = true;
                if (_Name == '') {
                    _Validation = false;
                }
                if (_Validation == true) {
                    $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(1)').html(_Name);
                    $('#ClassificationMasterPage tr').eq(rowIndex).find('td:eq(3)').html('<div class="tools"><i class="edit_mdlClassificationMaster glyphicon glyphicon-pencil"></i></div>');
                    $.ajax({
                        type: "POST",
                        url: 'ClassificationMaster.aspx/UpdateClassMasterCall',
                        data: "{'Code':'" + _Code + "','Name':'" + _Name + "','InActive':'" + _Checked + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (msg) {
                            $("#divResult").html("success");
                        },
                        error: function (e) {
                            $("#divResult").html("Something Wrong.");
                        }
                    });
                }

            });


            $('[id$="dt_VoucherValItemMaster"]').datepicker({
                format: 'dd/mm/yyyy',
                autoclose: true
            });


      <%--  $('[id$="ddl_Dept"]').change(function () {
            var run1 = $('[id$="ddl_Div"]').val();
            if (run1 == 3) {
                //$('#ddl_Range').find('option').remove();
                $('#ddl_Range').empty();
                var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';
                $.ajax({
                    type: "GET",
                    url: apiUrl + "api/ItemRanges?filter={\"where\":{\"itmDept\":\"" + this.value + "\"}}",
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "";
                        for (i = 0; i < Json.length; i++) {
                            div_data += "<option value='" + Json[i].itmCode + "'>" + Json[i].itmDesc + "</option>";
                        }
                        $('#ddl_Range').append(div_data);
                    }
                });
            }

        });--%>

          
            $('[id$="ddlCommissionGroup"]').change(function () {

                if($('#ddlCommissionGroup').val() == 'Prepaid') {
                    $('#rowPrepaidType').show(); 
                } else {
                    $('#rowPrepaidType').hide(); 
                } 
                //var commGroup = $('[id$="ddlCommissionGroup"]').val();
                //if (commGroup == "Prepaid") {
                //    $('[id$="ddlCommPrepaidType"]').css('visibility', 'visible'); // Show element
                //    //$('[id$="ddlCommPrepaidType"]').show();
                //} else {
                //    $('[id$="ddlCommPrepaidType"]').css('visibility', 'hidden'); // Hide element
                //    //$('[id$="ddlCommPrepaidType"]').hide();
                //}
            });

            $('[id$="ddl_Dept"]').change(function () {

                var parts = $('[id$="ddl_Div"]').val().split("-");
                var run1 = parts[0];  //$('[id$="ddl_Div"]').val();

                var deptparts = $('[id$="ddl_Dept"]').val().split("-");

                if (run1 == 3) {
                    $('#ddl_Range').empty();

                var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                $.ajax({
                    type: "GET",
                    url: apiUrl + "api/ItemRanges?filter={\"where\":{\"itmDept\":\"" + deptparts[0] + "\",\"itmStatus\":\"True\"}}",
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "";
                        div_data += "<option value='0'>Select your option</option>";
                        for (i = 0; i < Json.length; i++) {
                            div_data += "<option value='" + Json[i].itmCode + '-' + Json[i].itmId + "'>" + Json[i].itmDesc + "</option>";
                        }
                        $('#ddl_Range').append(div_data);
                    }
                });

            }


            //
            if (run1 == 1)
                filter = "retailProductBrand";
            else if (run1 == 2)
                filter = "retailProductBrand";
            else if (run1 == 3)
                filter = "itmstatus";
            else if (run1 == 4)
                filter = "voucherBrand";
            else if (run1 == 5)
                filter = "prepaidBrand";
            else
                filter = "itmStatus";


            $('#ddl_Brand').empty();
            var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

            $.ajax({
                type: "GET",
                url: apiUrl + "api/ItemBrands?filter={\"where\":{\"" + filter + "\":\"" + 1 + "\",\"itmStatus\":\"True\"}}",
                dataType: "json",
                Cache: false,
                success: function (data) {
                    var JsonArray = JSON.stringify(data);
                    var Json = JSON.parse(JsonArray);
                    var div_data = "";
                    div_data += "<option value='0'>Select your option</option>";
                    for (i = 0; i < Json.length; i++) {
                        div_data += "<option value='" + Json[i].itmCode + "'>" + Json[i].itmDesc + "</option>";
                    }
                    $('#ddl_Brand').append(div_data);
                }
            });
            //
            //

            $('#ddl_Class').empty();
            var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

            $.ajax({
                type: "GET",
                url: apiUrl + "api/ItemClasses?filter={\"where\":{\"" + filter + "\":\"" + 1 + "\",\"itmIsactive\":\"True\"}}",
                dataType: "json",
                Cache: false,
                success: function (data) {
                    var JsonArray = JSON.stringify(data);
                    var Json = JSON.parse(JsonArray);
                    var div_data = "";
                    div_data += "<option value='0'>Select your option</option>";
                    //div_data += "<option value='1'>" + ddl_Div.options[ddl_Div.selectedIndex].text + "</option>";
                    for (i = 0; i < Json.length; i++) {
                        div_data += "<option value='" + Json[i].itmCode + '-' + Json[i].itmId + "'>" + Json[i].itmDesc + "</option>";
                    }

                    $('#ddl_Class').append(div_data);
                }
            });
            //


            <%--var run1 = $('[id$="ddl_Div"]').val();
            $('[id$="txt_RunningNo1"]').val(run1 + this.value);
            var SequoiaUri = '<%=ConfigurationManager.AppSettings["SequoiaUri"].ToString()%>';
            var run1 = $('[id$="ddl_Div"]').val();
            $.ajax({
                type: 'GET',
                url: SequoiaUri + "api/GetDeptRunningNo?DivCode=" + run1 + "&DeptCode=" + this.value + "",
                dataType: "json",
                Cache: false,
                success: function (data) {
                    var JsonArray = JSON.stringify(data);
                    var Json = JSON.parse(JsonArray);
                    var item = Json[1];
                    $.each(data.result, function (i, data) {
                        $('[id$="txt_RunningNo2"]').val(data.controlNo);
                    });

                }
            });--%>

            });

            $('[id$="ddl_Brand"]').change(function () {
                var parts = $('[id$="ddl_Div"]').val().split("-");
                var run1 = parts[0];  // $('[id$="ddl_Div"]').val();

                if (run1 == 1)
                    filter = "isproduct";
                else if (run1 == 2)
                    filter = "isproduct";
                else if (run1 == 3)
                    filter = "isservice";
                else if (run1 == 4)
                    filter = "isvoucher";
                else if (run1 == 5)
                    filter = "isprepaid";
                else
                    filter = "isproduct";


               if (run1 != 3) {
                    //url: apiUrl + "api/ItemRanges?filter={\"where\":{\"itmBrand\":\"" + this.value + "\",\"itmStatus\":\"True\"}}",
                    //alert(this.value);

                   $('#ddl_Range').empty();
                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';
                        $.ajax({
                            type: "GET",
                            url: apiUrl + "api/ItemRanges?filter={\"where\":{\"" + filter + "\":\"" + 1 + "\",\"itmStatus\":\"True\",\"itmBrand\":\"" + this.value + "\"}}",
                            dataType: "json",
                            Cache: false,
                            success: function (data) {
                                var JsonArray = JSON.stringify(data);
                                var Json = JSON.parse(JsonArray);
                                var div_data = "";
                                for (i = 0; i < Json.length; i++) {
                                    div_data += "<option value='" + Json[i].itmCode + '-' + Json[i].itmId + "'>" + Json[i].itmDesc + "</option>";
                                }
                                $('#ddl_Range').append(div_data);
                            }
                        });
                    }

            });

            //by Haji 09-11-20
            $('[id$="ddl_Div"]').change(function () {

                var parts = $('[id$="ddl_Div"]').val().split("-");
                var divValue = parts[0];

                if (divValue == 1)
                    filter = "isRetailproduct";
                else if (divValue == 2)
                    filter = "isSalonproduct";
                else if (divValue == 3)
                    filter = "isService";
                else if (divValue == 4)
                    filter = "isVoucher";
                else if (divValue == 5)
                    filter = "isPrepaid";
                else
                    filter = "isRetailproduct";

                $('#ddl_Dept').empty();
                var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';
                $.ajax({
                    type: "GET",
                    url: apiUrl + "api/ItemDeptS?filter={\"where\":{\"" + filter + "\":\"" + 1 + "\",\"itmStatus\":\"True\"}}",
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "<option value='0'>Select your option</option>";
                        for (i = 0; i < Json.length; i++) {
                            div_data += "<option value='" + Json[i].itmCode + '-' + Json[i].itmId + "'>" + Json[i].itmDesc + "</option>";
                        }
                        $('#ddl_Dept').append(div_data);
                    }
                });

                //get divison code
                //$.ajax({
                //    type: "GET",
                //    url: apiUrl + "api/ItemDivs?filter={\"where\":{\"itmId\":\"" +  $('[id$="ddl_Div"]').val() + "\"}}",
                //    dataType: "json",
                //    Cache: false,
                //    success: function (data) {
                //        var JsonArray = JSON.stringify(data);
                //        var Json = JSON.parse(JsonArray);

                //        if (Json.length > 0) {
                //            $('[id$="txt_ItemMasterDivisonCode"]').val(Json[0].itmCode);
                //        }
                        

                //    }
                //});

            });

            //function PageloadItemMas() {

            //    $.ajax({
            //        type: "POST",
            //        url: 'Utilities/DataModels.ashx?ID=RangeBasedDept&PKey=' + 30 + '',
            //        dataType: "json",
            //        Cache: false,
            //        success: function (data) {
            //            var JsonArray = JSON.stringify(data);
            //            var Json = JSON.parse(JsonArray);
            //            var div_data = "";
            //            for (i = 0; i < Json.aaData.length; i++) {
            //                div_data += "<option value=" + Json.aaData[i][0] + ">" + Json.aaData[i][1] + "</option>";
            //            }
            //            $('#ddl_Range').append(div_data);
            //        }
            //    });

            //    $.ajax({
            //        type: 'POST',
            //        url: 'Utilities/DataModels.ashx?ID=DeptInfo&PKey=' + 1 + '&PKey1=' + 31 + '',
            //        dataType: "json",
            //        Cache: false,
            //        success: function (data) {
            //            var JsonArray = JSON.stringify(data);
            //            var Json = JSON.parse(JsonArray);
            //            $('[id$="txt_RunningNo2"]').val(Json.aaData[0][2]);
            //        }
            //    });


            //}

            function DivChange() {
               
                var parts = $('[id$="ddl_Div"]').val().split("-");
                var run1 = parts[0]; // $('[id$="ddl_Div"]').val();
                var div_data = "";
               

                if (run1 == 1) {

                    $('#ddl_stockType').empty();

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //div_data += "<option value=" + "PACKAGE" + ">" + "PACKAGE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE" || Json[i].itmName == "PACKAGE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "";
                    document.getElementById('divStkBalance').style.display = "";
                    document.getElementById('divStkBalanceHeader').style.display = "";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('supplierId').style.display = "";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('DiscId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 2) {

                    $('#ddl_stockType').empty();

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //div_data += "<option value=" + "PACKAGE" + ">" + "PACKAGE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE" || Json[i].itmName == "PACKAGE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);

                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "";
                    document.getElementById('divStkBalance').style.display = "";
                    document.getElementById('divStkBalanceHeader').style.display = "";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";

                    document.getElementById('supplierId').style.display = "";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('DiscId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 3) {

                    //$('#ddl_stockType').empty();

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //div_data += "<option value=" + "PACKAGE" + ">" + "PACKAGE" + "</option>";
                    //div_data += "<option value=" + "COURSE" + ">" + "COURSE" + "</option>";
                    //$('#ddl_stockType').append(div_data);
                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    //$.ajax({
                    //    type: "GET",
                    //    url: apiUrl + "api/ItemTypes",
                    //    dataType: "json",
                    //    Cache: false,
                    //    success: function (data) {
                    //        var JsonArray = JSON.stringify(data);
                    //        var Json = JSON.parse(JsonArray);
                    //        var div_data = "";
                    //        for (i = 0; i < Json.length; i++) {
                    //                div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                    //        }
                    //        $('#ddl_stockType').append(div_data);


                    //    }
                    /*});*/

                    //document.getElementById('brid1_ItemMaster').style.display = "none";
                    document.getElementById('brid2_ItemMaster').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "none";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";
                    document.getElementById('divItemUsage').style.display = "";
                    document.getElementById('divItemUsageHeader').style.display = "";

                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('supplierId').style.display = "none";
                    document.getElementById('PriceId1').style.display = "";
                    document.getElementById('PriceId2').style.display = "";
                    document.getElementById('PriceId3').style.display = "";
                    document.getElementById('PriceId4').style.display = "";
                    //document.getElementById('PriceId').style.display = "";
                    document.getElementById('lblopenPrepiad').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "";
                    document.getElementById('DiscId').style.display = "";

                    var typeVal = $('#ddl_stockType option:selected').text();  // $('[id$="ddl_stockType"]').val();
                    if (typeVal == "SINGLE") {
                        document.getElementById('lblopenPrepiad').style.display = "";
                        document.getElementById('OpenCodeId').style.display = "";
                    }
                    else {
                        document.getElementById('lblopenPrepiad').style.display = "none";
                        document.getElementById('OpenCodeId').style.display = "none";
                    }

                }
                else if (run1 == 4) {

                    $('#ddl_stockType').empty();

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //$('#ddl_stockType').append(div_data);
                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";


                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('divLinkCode').style.display = "none";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divVoucher').style.display = "";
                    document.getElementById('divVoucherHeader').style.display = "";
                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('supplierId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('DiscId').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 5) {

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    $('#ddl_stockType').empty();

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "none";
                    
                    
                   
                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('brid9_ItemMaster').style.display = "";


                    document.getElementById('divUOM').style.display = "none";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('brid2_ItemMaster').style.display = "none";

                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "none";

                    document.getElementById('divLinkCode').style.display = "none";
                    document.getElementById('divLinkCodeHeader').style.display = "none";
                    document.getElementById('brid4_ItemMaster').style.display = "none";

                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                   
                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";

                    document.getElementById('divPrepaid').style.display = "";
                    document.getElementById('divPrepaidHeader').style.display = "";
                    document.getElementById('brid12_ItemMaster').style.display = "";


                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('lblopenPrepiad').style.display = "";
                    //document.getElementById('PriceId').style.display = "";
                    document.getElementById('PriceId1').style.display = "";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                    document.getElementById('DiscId').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }

                var TypeVal = $('#ddl_stockType option:selected').text();  // $('[id$="ddl_stockType"]').val();
                var divVal = parts[0];   //$('[id$="ddl_Div"]').val();

                if (divVal == 3 && TypeVal == "SINGLE") {
                    document.getElementById('lblopenPrepiad').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "";
                }
                else {
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }

                if (TypeVal == "SINGLE") {
                    document.getElementById('brid10_ItemMaster').style.display = "none";
                    document.getElementById('divPackage').style.display = "none";
                    document.getElementById('divPackageHeader').style.display = "none";

                    //document.getElementById('brid8_ItemMaster').style.display = "none";
                    //document.getElementById('divService').style.display = "none";
                    //document.getElementById('divServiceHeader').style.display = "none";
                }
                else if (TypeVal == "PACKAGE") {
                    document.getElementById('brid10_ItemMaster').style.display = "";
                    document.getElementById('divPackage').style.display = "";
                    document.getElementById('divPackageHeader').style.display = "";

                    //document.getElementById('brid8_ItemMaster').style.display = "none";
                    //document.getElementById('divService').style.display = "none";
                    //document.getElementById('divServiceHeader').style.display = "none";

                }
                else if (TypeVal == "COURSE") {
                    document.getElementById('brid10_ItemMaster').style.display = "none";
                    document.getElementById('divPackage').style.display = "none";
                    document.getElementById('divPackageHeader').style.display = "none";

                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('divService').style.display = "";
                    document.getElementById('divServiceHeader').style.display = "";
                }


                var _Expiryval = $('[id$="chkExpiryStatus_ItemMaster"]').is(':checked') ? 'checked' : 'unchecked';
                if (_Expiryval == 'checked') {
                    document.getElementById('serviceExpiryMonth').style.display = "";
                    //$("[id*=txtservicExpiryMonth_ItemMaster]").show();
                }
                else {
                    document.getElementById('serviceExpiryMonth').style.display = "none";
                }

                var _ServiceLimitVal = $('[id$="chkServiceLimit_ItemMaster"]').is(':checked') ? 'checked' : 'unchecked';
                if (_ServiceLimitVal == 'checked') {
                    document.getElementById('ServiceLimit').style.display = "";
                    //$("[id*=txtservicExpiryMonth_ItemMaster]").show();
                }
                else {
                    document.getElementById('ServiceLimit').style.display = "none";
                }


                var _val = $('[id$="chkServiceFlexi_ItemMaster"]').is(':checked') ? 'checked' : 'unchecked';

                if (_val == 'checked') {

                    $(function () {
                        $('#ServiceSearch').DataTable({
                            'sAjaxSource': 'Utilities/DataModels.ashx?ID=ServiceItemSearchList',
                            'paging': true,
                            'lengthChange': true,
                            'searching': true,
                            'ordering': true,
                            'info': true,
                            "iDisplayLength": 3,
                            "bLengthChange": false,
                            'autoWidth': true,
                            language: {
                                searchPlaceholder: "Search By Item Code/Item Description/Item UOM/Item Brand/Link Code/Range"
                            },
                            'columns': [
                                null, null, null, null, null, null, null, null, null, null,
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtQty_Service" value="1" >';
                                        return data;
                                    }
                                },
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtCost_Service" >';
                                        return data;
                                    }
                                },

                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        //data = '<button type="button" class="btn btn-primary" id="btnAdd_GRN">Select</button>';
                                        //data = '<a><i class="Add_ItemToGRN glyphicon glyphicon-hand-up"></i></a>';
                                        data = '<a class="Add_ItemToService btn btn-info btn-primary"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
                                        return data;
                                    }
                                }

                            ],
                            "columnDefs": [
                                {
                                    "targets": [7],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [8],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [9],
                                    "visible": false,
                                    "searchable": false
                                }

                            ],



                        })

                    });

                    document.getElementById('serviceOption1').style.display = "";
                    document.getElementById('serviceOption2').style.display = "";
                    document.getElementById('ServiceSearch').style.display = "";
                    document.getElementById('ServiceAvailabe').style.display = "";
                }
                else {
                    $('#ServiceSearch').dataTable().fnClearTable();
                    $('#ServiceSearch').dataTable().fnDestroy();
                    document.getElementById('serviceOption1').style.display = "none";
                    document.getElementById('serviceOption2').style.display = "none";
                    document.getElementById('ServiceSearch').style.display = "none";
                    document.getElementById('ServiceAvailabe').style.display = "none";
                }

            }

            $('[id$="ddl_Div"]').change(function () {
                //$('[id$="txt_RunningNo1"]').val(this.value);
                var parts = this.value.split("-");
                var run1 = parts[0];  //this.value;

                //uncomment by meeran on 09-11-20
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=DivInfo&PKey=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txt_RunningNo1"]').val(run1 + Json.aaData[0][0]);
                        $('[id$="ddl_Dept"]').val(Json.aaData[0][0]);
                        $('#ddl_Dept').val(Json.aaData[0][0]);
                        $('[id$="txt_RunningNo2"]').val(Json.aaData[0][2]);

                    }
                });
                $('#ddl_stockType').empty();
                var div_data = "";
                if (run1 == 1) {

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "";
                    document.getElementById('divStkBalance').style.display = "";
                    document.getElementById('divStkBalanceHeader').style.display = "";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";

                    document.getElementById('supplierId').style.display = "";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('DiscId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 2) {

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //div_data += "<option value=" + "PACKAGE" + ">" + "PACKAGE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE" || Json[i].itmName == "PACKAGE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "";
                    document.getElementById('divStkBalance').style.display = "";
                    document.getElementById('divStkBalanceHeader').style.display = "";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";

                    document.getElementById('supplierId').style.display = "";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('DiscId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 3) {

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "none";
                    document.getElementById('brid2_ItemMaster').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "none";
                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "none";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('divLinkCode').style.display = "";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";
                    document.getElementById('divItemUsage').style.display = "";
                    document.getElementById('divItemUsageHeader').style.display = "";

                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('supplierId').style.display = "none";
                    document.getElementById('PriceId1').style.display = "";
                    document.getElementById('PriceId2').style.display = "";
                    document.getElementById('PriceId3').style.display = "";
                    document.getElementById('PriceId4').style.display = "";
                    //document.getElementById('PriceId').style.display = "";
                    document.getElementById('lblopenPrepiad').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "";
                    document.getElementById('DiscId').style.display = "";

                    var typeVal = $('#ddl_stockType option:selected').text();   //$('[id$="ddl_stockType"]').val();
                    if (typeVal == "SINGLE") {
                        document.getElementById('lblopenPrepiad').style.display = "";
                        document.getElementById('OpenCodeId').style.display = "";
                    }
                    else {
                        document.getElementById('lblopenPrepiad').style.display = "none";
                        document.getElementById('OpenCodeId').style.display = "none";
                    }

                }
                else if (run1 == 4) {

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "";
                    document.getElementById('brid2_ItemMaster').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "";
                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('brid9_ItemMaster').style.display = "";


                    document.getElementById('divUOM').style.display = "";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('divLinkCode').style.display = "none";
                    document.getElementById('divLinkCodeHeader').style.display = "";
                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "none";
                    document.getElementById('divPrepaidHeader').style.display = "none";

                    document.getElementById('divVoucher').style.display = "";
                    document.getElementById('divVoucherHeader').style.display = "";
                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('supplierId').style.display = "none";
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                    document.getElementById('PrepaidId').style.display = "none";
                    document.getElementById('PriceId1').style.display = "none";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "none";
                    document.getElementById('DiscId').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }
                else if (run1 == 5) {

                    //div_data += "<option value=" + "SINGLE" + ">" + "SINGLE" + "</option>";
                    //$('#ddl_stockType').append(div_data);

                    var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';

                    $.ajax({
                        type: "GET",
                        url: apiUrl + "api/ItemTypes",
                        dataType: "json",
                        Cache: false,
                        success: function (data) {
                            var JsonArray = JSON.stringify(data);
                            var Json = JSON.parse(JsonArray);
                            var div_data = "";
                            for (i = 0; i < Json.length; i++) {
                                if (Json[i].itmName == "SINGLE")
                                    div_data += "<option value='" + Json[i].itmId + "'>" + Json[i].itmName + "</option>";
                            }
                            $('#ddl_stockType').append(div_data);


                        }
                    });

                    //document.getElementById('brid1_ItemMaster').style.display = "none";
                    document.getElementById('brid2_ItemMaster').style.display = "none";
                    document.getElementById('brid3_ItemMaster').style.display = "none";
                    document.getElementById('brid4_ItemMaster').style.display = "";
                    document.getElementById('brid5_ItemMaster').style.display = "none";
                    document.getElementById('brid6_ItemMaster').style.display = "none";
                    document.getElementById('brid7_ItemMaster').style.display = "";
                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('brid9_ItemMaster').style.display = "";

                    document.getElementById('divUOM').style.display = "none";
                    document.getElementById('divUOMHeader').style.display = "none";
                    document.getElementById('divStkBalance').style.display = "none";
                    document.getElementById('divStkBalanceHeader').style.display = "none";
                    document.getElementById('divLinkCode').style.display = "none";
                    document.getElementById('divLinkCodeHeader').style.display = "none";

                    document.getElementById('divStockListing').style.display = "";
                    document.getElementById('divStockListingHeader').style.display = "";

                    document.getElementById('divItemUsage').style.display = "none";
                    document.getElementById('divItemUsageHeader').style.display = "none";
                    document.getElementById('divPrepaid').style.display = "";
                    document.getElementById('divPrepaidHeader').style.display = "";

                    document.getElementById('divVoucher').style.display = "none";
                    document.getElementById('divVoucherHeader').style.display = "none";
                    document.getElementById('divAccCode').style.display = "";
                    document.getElementById('divAccCodeHeader').style.display = "";


                    document.getElementById('lblopenPrepiad').style.display = "";
                    document.getElementById('PriceId1').style.display = "";
                    document.getElementById('PriceId2').style.display = "none";
                    document.getElementById('PriceId3').style.display = "none";
                    document.getElementById('PriceId4').style.display = "none";
                    //document.getElementById('PriceId').style.display = "";
                    document.getElementById('PrepaidId').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "none";
                    document.getElementById('DiscId').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }


            });


            $('[id$="dtFromDatePackage_ItemMaster"]').datepicker({
                format: 'dd-mm-yyyy',
                autoclose: true
            });

            $('[id$="dtToDatePackage_ItemMaster"]').datepicker({
                format: 'dd-mm-yyyy',
                autoclose: true
            });

            $('[id$="dtFromTimePackage_ItemMaster"]').timepicker({
                timeFormat: "HH:mm:ss",
                autoclose: true
            });

            $('[id$="dtToTimePackage_ItemMaster"]').timepicker({
                timeFormat: "HH:mm:ss",
                autoclose: true
            });

            //$(function () {
            //    $('#PackageItemSearch').DataTable({
            //        'sAjaxSource': 'Utilities/DataModels.ashx?ID=PackageItemSearchList',
            //        'paging': true,
            //        'lengthChange': true,
            //        'searching': true,
            //        'ordering': true,
            //        'info': true,
            //        "iDisplayLength": 3,
            //        "bLengthChange": false,
            //        'autoWidth': true,
            //        language: {
            //            searchPlaceholder: "Search By Item Code/Item Description/Item UOM/Item Brand/Link Code/Range"
            //        },
            //        'columns': [
            //            null, null, null, null, null, null, null, null, null, null,
            //            {
            //                'data': null,
            //                'render': function (data, type, row, meta) {
            //                    data = '<input type="number" style="width: 80%;" class="form-control" id="txtQty_Package" value="1" >';
            //                    return data;
            //                }
            //            },
            //            {
            //                'data': null,
            //                'render': function (data, type, row, meta) {
            //                    data = '<input type="number" style="width: 80%;" class="form-control" id="txtCost_Package" >';
            //                    return data;
            //                }
            //            },

            //            {
            //                'data': null,
            //                'render': function (data, type, row, meta) {
            //                    //data = '<button type="button" class="btn btn-primary" id="btnAdd_GRN">Select</button>';
            //                    //data = '<a><i class="Add_ItemToGRN glyphicon glyphicon-hand-up"></i></a>';
            //                    data = '<a class="Add_ItemToPackage btn btn-info btn-primary"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
            //                    return data;
            //                }
            //            }

            //        ],
            //        "columnDefs": [
            //            {
            //                "targets": [7],
            //                "visible": false,
            //                "searchable": false
            //            },
            //            {
            //                "targets": [8],
            //                "visible": false,
            //                "searchable": false
            //            },
            //            {
            //                "targets": [9],
            //                "visible": false,
            //                "searchable": false
            //            }

            //        ],



            //    })

            //});


            $(document).on("click", ".Add_ItemToPackage", function () {

                var rowIndex = $('#PackageItemSearch tr').index($(this).closest('tr'));

                var sData = $("#PackageItemSearch").dataTable().fnGetData(rowIndex);
                //alert(sData[8]);

                var searchString = $('#PackageItemSearch tr').eq(rowIndex).find('td:eq(0)').html();
                if (valueInGRNTable('PackageItemSearch', 0, searchString)) {
                    alert("already Exists");
                    return false;
                }

                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td >' + $('#PackageItemSearch tr').eq(rowIndex).find('td:eq(0)').html() + '</td>';
                cols += '<td>' + $('#PackageItemSearch tr').eq(rowIndex).find('td:eq(1)').html() + '</td>';

                var table = document.getElementById("PackageItemSearch");
                var row = table.rows[rowIndex];

                var qty = row.cells[7].children[0].value;
                var cost = row.cells[8].children[0].value;
                var Ucost = qty * cost;
                if (qty == "") {
                    alert("Qty is Invalid");
                    return false;
                }
                if (cost == "") {
                    alert("Cost is Empty");
                    return false;
                }

                cols += '<td>' + qty + '</td>';
                cols += '<td>' + cost + '</td>';
                cols += '<td>' + Ucost + '</td>';
                cols += '<td>' + '0' + '</td>';
                cols += '<td>' + Ucost + '</td>';
                cols += '<td >' + $('#PackageItemSearch tr').eq(rowIndex).find('td:eq(2)').html() + '</td>';
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_AddItemToPackage glyphicon glyphicon-trash"></i></div></td>';

                newRow.append(cols);
                $("#PackageEntryModule").append(newRow);

                var _Total = 0;
                $('#PackageEntryModule').find('tr').each(
                    function (i) {
                        if ($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text() != '') { _Total = parseFloat(_Total) + parseFloat($('#PackageEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(7)').text()); }
                    });
                $('[id$="txtcontentTot_ItemMaster"]').val(_Total.toFixed(2));
                $('[id$="txtPackageTot_ItemMaster"]').val(_Total.toFixed(2));
                counter++;
            });

           

            function valueInGRNTable(tableID, columnNum, searchString) {
                var found = false;
                $("#GRNEntryModule tr").each(function () {
                    var itemCode = $(this).find("td").eq(3).html();
                    if (itemCode == searchString) {
                        found = true;
                        return false;
                    }
                });

                return found;
            }

            function ApptClick(element) {
                if (element.checked) {
                    document.getElementById("txtminAppt_ItemMaster").removeAttribute("readonly");
                }
                else {
                    document.getElementById("txtminAppt_ItemMaster").setAttribute("readonly", true);
                }

            }

            function CommisionClick(element) {
                if (element.checked) {
                    document.getElementById('brid13_ItemMaster').style.display = "";
                    document.getElementById('divCommission').style.display = "";
                    document.getElementById('divCommissionHeader').style.display = "";
                }
                else {
                    document.getElementById('brid13_ItemMaster').style.display = "none";
                    document.getElementById('divCommission').style.display = "none";
                    document.getElementById('divCommissionHeader').style.display = "none";
                }

            }

            function TaxClick(element) {
                if (element.checked) {
                    document.getElementById('brid11_ItemMaster').style.display = "";
                    document.getElementById('divTax').style.display = "";
                    document.getElementById('divTaxHeader').style.display = "";
                }
                else {
                    document.getElementById('brid11_ItemMaster').style.display = "none";
                    document.getElementById('divTax').style.display = "none";
                    document.getElementById('divTaxHeader').style.display = "none";
                }

            }

            $('[id$="ddl_stockType"]').change(function () {
                var TypeVal = $('#ddl_stockType option:selected').text();  // this.value;
                var divparts = $('[id$="ddl_Div"]').val().split("-");
                var divVal = divparts[0]; // $('[id$="ddl_Div"]').val();

                if (divVal == 3 && TypeVal == "SINGLE") {
                    document.getElementById('lblopenPrepiad').style.display = "";
                    document.getElementById('OpenCodeId').style.display = "";
                }
                else {
                    document.getElementById('lblopenPrepiad').style.display = "none";
                    document.getElementById('OpenCodeId').style.display = "none";
                }

                if (TypeVal == "SINGLE") {
                    document.getElementById('brid10_ItemMaster').style.display = "none";
                    document.getElementById('divPackage').style.display = "none";
                    document.getElementById('divPackageHeader').style.display = "none";

                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('divService').style.display = "none";
                    document.getElementById('divServiceHeader').style.display = "none";
                }
                else if (TypeVal == "PACKAGE") {
                    document.getElementById('brid10_ItemMaster').style.display = "";
                    document.getElementById('divPackage').style.display = "";
                    document.getElementById('divPackageHeader').style.display = "";

                    document.getElementById('brid8_ItemMaster').style.display = "none";
                    document.getElementById('divService').style.display = "none";
                    document.getElementById('divServiceHeader').style.display = "none";

                }
                else if (TypeVal == "COURSE") {
                    document.getElementById('brid10_ItemMaster').style.display = "none";
                    document.getElementById('divPackage').style.display = "none";
                    document.getElementById('divPackageHeader').style.display = "none";

                    document.getElementById('brid8_ItemMaster').style.display = "";
                    document.getElementById('divService').style.display = "";
                    document.getElementById('divServiceHeader').style.display = "";
                }
            });

            $('[id$="option_EvenlyAvg_ItemMaster"]').change(function () {
                if (this.value == "Evenly Average") {
                    document.getElementById('packageDiscLabel').style.display = "";
                    document.getElementById('packageDisc').style.display = "";
                    document.getElementById('PackageDiscountButton').style.display = "";
                }
                else {
                    document.getElementById('packageDiscLabel').style.display = "none";
                    document.getElementById('packageDisc').style.display = "none";
                    document.getElementById('PackageDiscountButton').style.display = "none";
                    $('[id$="txtDiscAmnt_ItemMaster"]').val("");
                }

            });

            $('[id$="option_Manual_ItemMaster"]').change(function () {
                if (this.value == "Evenly Average") {
                    document.getElementById('packageDiscLabel').style.display = "";
                    document.getElementById('packageDisc').style.display = "";
                    document.getElementById('PackageDiscountButton').style.display = "";
                }
                else {
                    document.getElementById('packageDiscLabel').style.display = "none";
                    document.getElementById('packageDisc').style.display = "none";
                    document.getElementById('PackageDiscountButton').style.display = "none"; 
                    $('[id$="txtDiscAmnt_ItemMaster"]').val("");
                }
            });

            function ExpiryStatusClick(element) {
                if (element.checked) {
                    document.getElementById('serviceExpiryMonth').style.display = "";
                }
                else {
                    document.getElementById('serviceExpiryMonth').style.display = "none";
                }

            }

            function ServiceLimitClick(element) {
                if (element.checked) {
                    document.getElementById('ServiceLimit').style.display = "";
                }
                else {
                    document.getElementById('ServiceLimit').style.display = "none";
                }
            }


            function ServiceFlexiClick(element) {
                if (element.checked) {

                    $(function () {
                        $('#ServiceSearch').DataTable({
                            'sAjaxSource': 'Utilities/DataModels.ashx?ID=ServiceItemSearchList',
                            'paging': true,
                            'lengthChange': true,
                            'searching': true,
                            'ordering': true,
                            'info': true,
                            "iDisplayLength": 3,
                            "bLengthChange": false,
                            'autoWidth': true,
                            language: {
                                searchPlaceholder: "Search By Item Code/Item Description/Item UOM/Item Brand/Link Code/Range"
                            },
                            'columns': [
                                null, null, null, null, null, null, null, null, null, null,
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtQty_Service" value="1" >';
                                        return data;
                                    }
                                },
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtCost_Service" >';
                                        return data;
                                    }
                                },

                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        //data = '<button type="button" class="btn btn-primary" id="btnAdd_GRN">Select</button>';
                                        //data = '<a><i class="Add_ItemToGRN glyphicon glyphicon-hand-up"></i></a>';
                                        data = '<a class="Add_ItemToService btn btn-info btn-primary"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
                                        return data;
                                    }
                                }

                            ],
                            "columnDefs": [
                                {
                                    "targets": [7],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [8],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [9],
                                    "visible": false,
                                    "searchable": false
                                }

                            ],


                        })

                    });

                    document.getElementById('serviceOption1').style.display = "";
                    document.getElementById('serviceOption2').style.display = "";
                    document.getElementById('ServiceSearch').style.display = "";
                    document.getElementById('ServiceAvailabe').style.display = "";
                }
                else {
                    $('#ServiceSearch').dataTable().fnClearTable();
                    $('#ServiceSearch').dataTable().fnDestroy();
                    document.getElementById('serviceOption1').style.display = "none";
                    document.getElementById('serviceOption2').style.display = "none";
                    document.getElementById('ServiceSearch').style.display = "none";
                    document.getElementById('ServiceAvailabe').style.display = "none";
                }
            }

            function SeviceChange() {
                var _val = $('#chkServiceFlexi_ItemMaster').is(':checked') ? 'checked' : 'unchecked';

                if (_val == 'checked') {

                    $(function () {
                        $('#ServiceSearch').DataTable({
                            'sAjaxSource': 'Utilities/DataModels.ashx?ID=GRNItemSearchList',
                            'paging': true,
                            'lengthChange': true,
                            'searching': true,
                            'ordering': true,
                            'info': true,
                            "iDisplayLength": 3,
                            "bLengthChange": false,
                            'autoWidth': true,
                            language: {
                                searchPlaceholder: "Search By Item Code/Item Description/Item UOM/Item Brand/Link Code/Range"
                            },
                            'columns': [
                                null, null, null, null, null, null, null, null, null, null,
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtQty_Service" value="1" >';
                                        return data;
                                    }
                                },
                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        data = '<input type="number" style="width: 80%;" class="form-control" id="txtCost_Service" >';
                                        return data;
                                    }
                                },

                                {
                                    'data': null,
                                    'render': function (data, type, row, meta) {
                                        //data = '<button type="button" class="btn btn-primary" id="btnAdd_GRN">Select</button>';
                                        //data = '<a><i class="Add_ItemToGRN glyphicon glyphicon-hand-up"></i></a>';
                                        data = '<a class="Add_ItemToService btn btn-info btn-primary"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
                                        return data;
                                    }
                                }

                            ],
                            "columnDefs": [
                                {
                                    "targets": [7],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [8],
                                    "visible": false,
                                    "searchable": false
                                },
                                {
                                    "targets": [9],
                                    "visible": false,
                                    "searchable": false
                                }

                            ],



                        })

                    });

                    document.getElementById('serviceOption1').style.display = "";
                    document.getElementById('serviceOption2').style.display = "";
                    document.getElementById('ServiceSearch').style.display = "";
                    document.getElementById('ServiceAvailabe').style.display = "";
                }
                else {
                    $('#ServiceSearch').dataTable().fnClearTable();
                    $('#ServiceSearch').dataTable().fnDestroy();
                    document.getElementById('serviceOption1').style.display = "none";
                    document.getElementById('serviceOption2').style.display = "none";
                    document.getElementById('ServiceSearch').style.display = "none";
                    document.getElementById('ServiceAvailabe').style.display = "none";
                }
            }

            $(document).on("click", ".Add_ItemToService", function () {

                var rowIndex = $('#ServiceSearch tr').index($(this).closest('tr'));

                var sData = $("#ServiceSearch").dataTable().fnGetData(rowIndex);
                //alert(sData[8]);

                //var searchString = $('#ServiceSearch tr').eq(rowIndex).find('td:eq(0)').html();
                //if (valueInGRNTable('ServiceSearch', 0, searchString)) { 
                //    alert("already Exists");
                //    return false;
                //}    

                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td >' + "" + '</td>';
                cols += '<td >' + $('#ServiceSearch tr').eq(rowIndex).find('td:eq(1)').html() + '</td>';
                cols += '<td>' + $('#ServiceSearch tr').eq(rowIndex).find('td:eq(0)').html() + '</td>';

                var table = document.getElementById("ServiceSearch");
                var row = table.rows[rowIndex];

                var qty = row.cells[7].children[0].value;
                var cost = row.cells[8].children[0].value;
                var Ucost = qty * cost;
                if (qty == "") {
                    alert("Qty is Invalid");
                    return false;
                }
                if (cost == "") {
                    alert("Cost is Empty");
                    return false;
                }
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_AddItemToService glyphicon glyphicon-trash"></i></div></td>';

                newRow.append(cols);
                $("#ServiceAvailabe").append(newRow);

                var _Total = 0;
                $('#ServiceAvailabe').find('tr').each(
                    function (i) {
                        $('#ServiceAvailabe').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });
                counter++;
            });

            $(document).on("click", ".Remove_AddItemToService", function () {
                var rowIndex = $('#ServiceAvailabe tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();
                var _Total = 0;
                $('#ServiceAvailabe').find('tr').each(
                    function (i) {
                        $('#ServiceAvailabe').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });
            });


            $(document).on("click", ".Remove_AddItemToServiceAfterSave", function () {
                var rowIndex = $('#ServiceAvailabe tr').index($(this).closest('tr'));

                var ServiceDtl = [];
                var Serviceobj = {};
                var rows = $('#ServiceAvailabe tbody >tr');
                var columns;
                columns = $(rows[rowIndex]).find('td');
                Serviceobj.itmId = $(columns).find('input:hidden').val();
                ServiceDtl.push(Serviceobj);
                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/DelServiceData",
                    data: '{ Details :' + JSON.stringify(ServiceDtl) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (r) {
                        //   alert(r.d);
                        successResult = "True";
                    },
                    error: function (data, errorThrown) {
                        successResult = "False";
                    }
                });

                $(this).closest("tr").remove();
                var _Total = 0;
                $('#ServiceAvailabe').find('tr').each(
                    function (i) {
                        $('#ServiceAvailabe').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });
            });

            $(document).on("click", ".Remove_AddItemToPackageAfterSave", function () {
                var rowIndex = $('#PackageEntryModule tr').index($(this).closest('tr'));

                var ServiceDtl = [];
                var Serviceobj = {};
                var rows = $('#PackageEntryModule tbody >tr');
                var columns;
                columns = $(rows[rowIndex]).find('td');
                Serviceobj.ID = $(columns).find('input:hidden').val();
                ServiceDtl.push(Serviceobj);
                $.ajax({
                    type: "POST",
                    url: "ItemMaster.aspx/DelPackageData",
                    data: '{ Details :' + JSON.stringify(ServiceDtl) + '}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (r) {
                        //   alert(r.d);
                        successResult = "True";
                    },
                    error: function (data, errorThrown) {
                        successResult = "False";
                    }
                });

                $(this).closest("tr").remove();
            });

            //      $(function () {
            //$('input').iCheck({
            //    checkboxClass: 'icheckbox_square-blue',
            //    radioClass: 'iradio_square-blue',
            //    increaseArea: '20%' /* optional */
            //});
            //      });


            $('[id$="btn_AddRow_UOM"]').click(function () {
                $("#mdlAddUOM").modal();
            });

            $('[id$="btn_AddDivItemMaster"]').click(function () {
                $("#mdlAddDiv").modal();

                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=DivControlNo',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txt_CodemdlAddDiv"]').val(Json.aaData[0][0]);
                        $('[id$="txt_NamemdlAddDiv"]').val("");
                        $("#chk_ActivemdlAddDiv").prop("checked", false);
                    }
                });

            });

            $('[id$="txt_CodemdlAddDiv"]').change(function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=DivCodeCheck&PKey=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        if (Json.iTotalRecords == 0) {
                        }
                        else {
                            $('[id$="txt_CodemdlAddDiv"]').val("");
                            alert("Code already Exists");
                        }
                    }
                });
            });


            $('[id$="btnSubmit_mdlAddDiv"]').click(function () {

                var itmCode = $('[id$="txt_CodemdlAddDiv"]').val();
                var itmDesc = $('[id$="txt_NamemdlAddDiv"]').val();
                var itmIsactive = $('[id$="chk_ActivemdlAddDiv"]').is(':checked') ? 'True' : 'False';
                var itmSeq = $('[id$="txt_CodemdlAddDiv"]').val();

                $.ajax({
                    type: "POST",
                    url: 'ItemMaster.aspx/AddDivMasterData',
                    data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmIsactive':'" + itmIsactive + "','itmSeq':'" + itmSeq + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (msg) {
                        $("#divResult").html("success");
                    },
                    error: function (e) {
                        $("#divResult").html("Something Wrong.");
                    }
                });

                $('#ddl_Div').append('<option value="' + itmCode + '" selected="selected">' + itmDesc + '</option>');
                $("#mdlAddDiv").modal('hide');
            });

            $('[id$="btn_AddDeptItemMaster"]').click(function () {
                $("#mdlAddDept").modal();
                $('[id$="txtDeptCode_mdlAddDept"]').val("");
                $('[id$="txtDeptDesc_mdlAddDept"]').val("");
                $("#chkActive_mdlAddDept").prop("checked", true);
                $('[id$="txtSeqNo_mdlAddDept"]').val("");
                $("#chkAllowCashSales_mdlAddDept").prop("checked", false);
                $("#chkFirstTrial_mdlAddDept").prop("checked", false);
                $("#chkVoucher_mdlAddDept").prop("checked", false);
                $("#chkPrepaid_mdlAddDept").prop("checked", false);
                $("#chkRetail_mdlAddDept").prop("checked", false);
                $("#chkSaolon_mdlAddDept").prop("checked", false);
                $("#chkService_mdlAddDept").prop("checked", false);
                $('[id$="ddl_ValidityPeriodmdlAddDept"]').val("");
                $("#chkService_mdlAddDept").prop("checked", false);
                $("#chkCompound_mdlAddDept").prop("checked", false);
                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var output = (day < 10 ? '0' : '') + day + '-' + (month < 10 ? '0' : '') + month + '-' + d.getFullYear();
                $('[id$="txtValidityFrom_mdlAddDept"]').val(output);
                $('[id$="txtValidityTo_mdlAddDept"]').val(output);

                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=DeptControlNo',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtDeptCode_mdlAddDept"]').val(Json.aaData[0][0]);
                    }
                });

            });

            //    $('[id$="txtDeptCode_mdlAddDept"]').change(function () {
            //$.ajax({
            //    type: 'POST',
            //    url: 'Utilities/DataModels.ashx?ID=DeptCodeCheck&PKey=' + this.value + '',
            //    dataType: "json",
            //    Cache: false,
            //    success: function (data) {
            //        var JsonArray = JSON.stringify(data);
            //        var Json = JSON.parse(JsonArray);
            //        if (Json.iTotalRecords == 0) {
            //        }
            //        else {
            //            $('[id$="txtDeptCode_mdlAddDept"]').val("");
            //            alert("Code already Exists");
            //        }
            //    }
            //});
            //    });


            $('[id$="btnSubmit_mdlAddDept"]').click(function () {

                var itmCode = $('[id$="txtDeptCode_mdlAddDept"]').val();
                var itmDesc = $('[id$="txtDeptDesc_mdlAddDept"]').val();
                var itmStatus = $('[id$="chkActive_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var itmSeq = $('[id$="txtSeqNo_mdlAddDept"]').val();
                var allowcashsales = $('[id$="chkAllowCashSales_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var itmShowonsales = 'False';
                var isfirsttrial = $('[id$="chkFirstTrial_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isVoucher = $('[id$="chkVoucher_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isPrepaid = $('[id$="chkPrepaid_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isRetailproduct = $('[id$="chkRetail_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isSalonproduct = $('[id$="chkSaolon_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isPackage = 'False';
                var validityPeriod = $('[id$="ddl_ValidityPeriodmdlAddDept"]').val();
                var isService = $('[id$="chkService_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var isCompound = $('[id$="chkCompound_mdlAddDept"]').is(':checked') ? 'True' : 'False';
                var validityFrom = $('[id$="txtValidityFrom_mdlAddDept"]').val().split("-").reverse().join("-");
                var validityTo = $('[id$="txtValidityTo_mdlAddDept"]').val().split("-").reverse().join("-");

                if (itmDesc == "") {
                    alert("Department Description is Empty");
                    return;
                }

                $.ajax({
                    type: "POST",
                    url: 'DepartmentMaster.aspx/AddDeptMasterData',
                    data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','itmSeq':'" + itmSeq + "','allowcashsales':'" + allowcashsales + "','itmShowonsales':'"
                        + itmShowonsales + "','isfirsttrial':'" + isfirsttrial + "','isVoucher':'" + isVoucher + "','isPrepaid':'" + isPrepaid + "','isRetailproduct':'"
                        + isRetailproduct + "','isSalonproduct':'" + isSalonproduct + "','isPackage':'" + isPackage + "','isService':'" + isService + "','isCompound':'"
                        + isCompound + "','validityPeriod':'" + validityPeriod + "','validityFrom':'"
                        + validityFrom + "','validityTo':'" + validityTo + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (msg) {
                        $('#ddl_Dept').append('<option value="' + itmCode + '" selected="selected">' + itmDesc + '</option>');
                        //$("#divResult").html("success");
                    },
                    error: function (e) {
                        //$("#divResult").html("Something Wrong.");
                        alert("Something wrong.. check description for duplicate")
                    }
                });


                $("#mdlAddDept").modal('hide');
            });

            $('[id$="btn_AddClassItemMaster"]').click(function () {
                $("#mdlAddClass").modal();

                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=ClassControlNo',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txt_CodemdlAddClass"]').val(Json.aaData[0][0]);
                        $('[id$="txt_NamemdlAddClass"]').val("");
                        $("#chk_ActivemdlAddClass").prop("checked", false);
                    }
                });

            });

            $('[id$="txt_CodemdlAddClass"]').change(function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=ClassCodeCheck&PKey=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        if (Json.iTotalRecords == 0) {
                        }
                        else {
                            $('[id$="txt_CodemdlAddClass"]').val("");
                            alert("Code already Exists");
                        }
                    }
                });
            });

            $('[id$="btnSubmit_mdlAddClass"]').click(function () {

                var itmCode = $('[id$="txt_CodemdlAddClass"]').val();
                var itmDesc = $('[id$="txt_NamemdlAddClass"]').val();
                var itmIsactive = $('[id$="chk_ActivemdlAddClass"]').is(':checked') ? 'True' : 'False';

                $.ajax({
                    type: "POST",
                    url: 'ItemMaster.aspx/AddClassMasterData',
                    data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmIsactive':'" + itmIsactive + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (msg) {
                        $("#divResult").html("success");
                    },
                    error: function (e) {
                        $("#divResult").html("Something Wrong.");
                    }
                });

                $('#ddl_Class').append('<option value="' + itmCode + '" selected="selected">' + itmDesc + '</option>');
                $("#mdlAddClass").modal('hide');
            });

            $('[id$="btn_AddBrandItemMaster"]').click(function () {
                $("#mdlAddBrand").modal();
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=BrandControlNo',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtCode_mdlAddBrand"]').val(Json.aaData[0][0]);
                        $('[id$="txtName_mdlAddBrand"]').val("");
                        $("#chk_showRetailmdlAddBrand").prop("checked", false);
                        $("#chk_showVouchermdlAddBrand").prop("checked", false);
                        $("#chk_showPrepaidmdlAddBrand").prop("checked", false);
                    }
                });

            });

            $('[id$="btnSubmit_mdlAddBrand"]').click(function () {

                var itmCode = $('[id$="txtCode_mdlAddBrand"]').val();
                var itmDesc = $('[id$="txtName_mdlAddBrand"]').val();
                var itmStatus = $('[id$="chk_ActivemdlAddBrand"]').is(':checked') ? 'True' : 'False';
                var retailProductBrand = $('[id$="chk_showRetailmdlAddBrand"]').is(':checked') ? 'True' : 'False';
                var voucherBrand = $('[id$="chk_showVouchermdlAddBrand"]').is(':checked') ? 'True' : 'False';
                var prepaidBrand = $('[id$="chk_showPrepaidmdlAddBrand"]').is(':checked') ? 'True' : 'False';

                if (itmDesc == "") {
                    alert("Brand Description is Empty");
                    return false;
                }

                $.ajax({
                    type: "POST",
                    url: 'BrandMaster.aspx/AddBrandMasterData',
                    data: "{'itmCode':'" + itmCode + "','itmDesc':'" + itmDesc + "','itmStatus':'" + itmStatus + "','retailProductBrand':'" + retailProductBrand + "','voucherBrand':'"
                        + voucherBrand + "','prepaidBrand':'" + prepaidBrand + "','siteCode':'<%=Session["User_SiteCode"]%>'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (msg) {
                        $("#divResult").html("success");
                    },
                    error: function (e) {
                        $("#divResult").html("Something Wrong.");
                    }
                });

                $('#ddl_Brand').append('<option value="' + itmCode + '" selected="selected">' + itmDesc + '</option>');
                $("#mdlAddBrand").modal('hide');
            });



            $('[id$="btn_AddRow_LINK"]').click(function () {
                $("#mdlAddLink").modal();
            });

             $('[id$="btn_AddRow_CommissionDetail"]').click(function () {

                  $("#mdlCommissonGrpDetail #txtFromRange_mdlCommissonGrpDetail").val("");
                  $("#mdlCommissonGrpDetail #txtToRange_mdlCommissonGrpDetail").val("");
                  $("#mdlCommissonGrpDetail #txtCommissionRate_mdlCommissonGrpDetail").val("");

                  $("#mdlCommissonGrpDetail #lbl_Index_mdlCommissonGrpDetail").text("-1");

                  $("#mdlCommissonGrpDetail").modal();

                  $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').empty();
                  $.ajax({
                    type: "POST",
                    url: 'Utilities/DataModels.ashx?ID=EmployeeLevel',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "";
                        for (i = 0; i < Json.aaData.length; i++) {
                            div_data += "<option value=" + Json.aaData[i][0] + ">" + Json.aaData[i][1] + "</option>";
                        }
                        $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').append(div_data);
                    }
                });

            });

             $('[id$="btnSubmit_mdlCommissonGrpDetail"]').click(function () {

                 var Index = $('#lbl_Index_mdlCommissonGrpDetail').text();

                //var _Code = $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').val();
                //if (checkDuplicateInTable('#tblCommissionDetail tr', 0, _Code, Index)) {
                //    alert("Employee Level already Exists");
                //    return false;
                // }
                
                var fromrange = $('[id$="txtFromRange_mdlCommissonGrpDetail"]').val();
                if (fromrange == "") {
                    alert("Enter From Range!");
                    return;
                 }

                var torange = $('[id$="txtToRange_mdlCommissonGrpDetail"]').val();
                if (torange == "") {
                    alert("Enter To Range!");
                    return;
                 } 

                var torange = $('[id$="txtCommissionRate_mdlCommissonGrpDetail"]').val();
                if (torange == "") {
                    alert("Enter To Commission Rate!");
                    return;
                }

              if (Index == '-1') {
                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td style="display:none">' + $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').val() + '</td>';
                cols += '<td>' + $('#ddlEmpLevelDesc_mdlCommissonGrpDetail option:selected').text().replace("'", "") + '</td>';
                cols += '<td>' + $('#txtFromRange_mdlCommissonGrpDetail').val() + '</td>';
                cols += '<td>' + $('#txtToRange_mdlCommissonGrpDetail').val() + '</td>';
                cols += '<td>' + $('#txtCommissionRate_mdlCommissonGrpDetail').val() + '</td>';
                var _Checked = $('#chkPercent_mdlCommissonGrpDetail').is(':checked');
                if (_Checked)
                    cols += '<td>Yes</td>'; // Is Percent
                else
                    cols += '<td>No</td>'; // Is Percent
                cols += '<td>' + $('#ddlCalculationMethod_mdlCommissonGrpDetail').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#ddlCommType_mdlCommissonGrpDetail').val() + '</td>';
                _Checked = $('#chk_mdlCommissonGrpDetail').is(':checked');
                if (_Checked)
                    cols += '<td>Yes</td>'; // Is Active
                else
                     cols += '<td>No</td>'; // Is Active
                 cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="edit_mdlCommissonGrpDetail glyphicon glyphicon-pencil"></i></div></td>';
                //cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_mdlCommissonGrpDetail glyphicon glyphicon-trash"></i></div></td>';
                cols += '<td style="display:none">0</td>'; // Id
                cols += '<td style="display:none"></td>'; // Comm Detail Code
                newRow.append(cols);
                $("#tblCommissionDetail").append(newRow);

                counter++;
              }
              else {
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(0)').html($('#ddlEmpLevelDesc_mdlCommissonGrpDetail').val().replace("'", ""));
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(1)').html($('#ddlEmpLevelDesc_mdlCommissonGrpDetail option:selected').text().replace("'", ""));
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(2)').html($('#txtFromRange_mdlCommissonGrpDetail').val().replace("'", ""));
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(3)').html($('#txtToRange_mdlCommissonGrpDetail').val().replace("'", ""));
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(4)').html($('#txtCommissionRate_mdlCommissonGrpDetail').val().replace("'", ""));

                    var _Checked = $('#chkPercent_mdlCommissonGrpDetail').is(':checked');
                    if (_Checked)
                        $('#tblCommissionDetail tr').eq(Index).find('td:eq(5)').html("Yes"); // Is Percent
                    else
                        $('#tblCommissionDetail tr').eq(Index).find('td:eq(5)').html("No"); // Is Percent
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(6)').html($('#ddlCalculationMethod_mdlCommissonGrpDetail').val().replace("'", ""));
                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(7)').html($('#ddlCommType_mdlCommissonGrpDetail').val().replace("'", ""));
                    _Checked = $('#chk_mdlCommissonGrpDetail').is(':checked');
                    if (_Checked)
                        $('#tblCommissionDetail tr').eq(Index).find('td:eq(8)').html("Yes"); // Is Percent
                    else
                        $('#tblCommissionDetail tr').eq(Index).find('td:eq(8)').html("No"); // Is Percent

                    $('#tblCommissionDetail tr').eq(Index).find('td:eq(9)').html('<div class="tools"><i class="edit_mdlCommissonGrpDetail glyphicon glyphicon-pencil"></div>');

              }

                $("#mdlCommissonGrpDetail").modal('hide');

              });

            $(document).on("click", ".edit_mdlCommissonGrpDetail", function () {

                $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').empty();
                $.ajax({
                    type: "POST",
                    url: 'Utilities/DataModels.ashx?ID=EmployeeLevel',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        var div_data = "";
                        for (i = 0; i < Json.aaData.length; i++) {
                            div_data += "<option value=" + Json.aaData[i][0] + ">" + Json.aaData[i][1] + "</option>";
                        }
                        $('#ddlEmpLevelDesc_mdlCommissonGrpDetail').append(div_data);
                        $("#mdlCommissonGrpDetail #ddlEmpLevelDesc_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(0)').html());
                    }
                });
                  $("#mdlCommissonGrpDetail").modal();
                  var rowIndex = $('#tblCommissionDetail tr').index($(this).closest('tr'));
                  $("#mdlCommissonGrpDetail #lbl_Type_mdlCommissonGrpDetail").text('Edit');
                  $("#mdlCommissonGrpDetail #lbl_Index_mdlCommissonGrpDetail").text(rowIndex);
                  $("#mdlCommissonGrpDetail #ddlEmpLevelDesc_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(0)').html());
                  $("#mdlCommissonGrpDetail #txtFromRange_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(2)').html());
                  $("#mdlCommissonGrpDetail #txtToRange_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(3)').html());
                  $("#mdlCommissonGrpDetail #txtCommissionRate_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(4)').html());
                  var checkvalue = $('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(5)').html();
                  if (checkvalue == "Yes")
                      $("#mdlCommissonGrpDetail chkPercent_mdlCommissonGrpDetail").prop('checked', true);
                  else
                      $("#mdlCommissonGrpDetail chkPercent_mdlCommissonGrpDetail").prop('checked', false);

                  $("#mdlCommissonGrpDetail #ddlCalculationMethod_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(6)').html());
                  $("#mdlCommissonGrpDetail #ddlCommType_mdlCommissonGrpDetail").val($('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(7)').html());

                  checkvalue = $('#tblCommissionDetail tr').eq(rowIndex).find('td:eq(8)').html();
                  if (checkvalue == "Yes")
                      $("#mdlCommissonGrpDetail chk_mdlCommissonGrpDetail").prop('checked', true);
                  else
                      $("#mdlCommissonGrpDetail chk_mdlCommissonGrpDetail").prop('checked', false);

                //$("#mdlCommissonGrpDetail #txtLinkDesc_mdlAddLink").val($('#LinkModule tr').eq(rowIndex).find('td:eq(1)').html()).trigger();
            });

            $(document).on("click", ".Remove_mdlCommissonGrpDetail", function () {
                var rowIndex = $('#mdlCommissonGrpDetail tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();

            });


            /* Package Item Search */
            $('[id$="btn_Search_ItemMaster"]').click(function () {

                $("#mdlPackageItem #lbl_Index_mdlPackageItem").text("-1");

                $('#tblPackageItemSearchList').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=PackageItemList&PKey=' + $('[id$="ddlDept_mdlPackageItem"]').val() + '',
                    'paging': true,
                    'lengthChange': true,
                    'responsive': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    "iDisplayLength": 5,
                    'autoWidth': true,
                    "bDestroy": true,
                    language: {
                        searchPlaceholder: "Search By Stock Code/Stock Name/Link Code/Type/Division/Class/Dept/Brand/Range"
                    },
                    'columns': [
                        null, null, null, null, null, null, null, null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<a class="Add_PackageItemSelected btn btn-info btn-primaryIcon"><i class=" glyphicon glyphicon-hand-up"></i></a></p>';
                                return data;
                            }
                        }
                    ],
                    "columnDefs": [
                        {
                            "targets": [0],
                            "visible": false,
                            "searchable": false
                        },
                        {
                            "targets": [3],
                            "visible": false,
                            "searchable": false
                        }
                    ]
                })

                //$("#mdlPackageItem").modal();

                //var apiUrl = '<%=ConfigurationManager.AppSettings["uri"].ToString()%>';
                //$('#ddlDept_mdlPackageItem').empty();
                //$.ajax({
                //    type: "GET",
                //    url: apiUrl + "api/ItemDeptS?filter={\"where\":{\"itmStatus\":\"True\"}}",
                //    dataType: "json",
                //    Cache: false,
                //    success: function (data) {
                //        var JsonArray = JSON.stringify(data);
                //        var Json = JSON.parse(JsonArray);
                //        var div_data = "";
                //        for (i = 0; i < Json.length; i++) {
                //            div_data += "<option value='" + Json[i].itmCode + "'>" + Json[i].itmDesc + "</option>";
                //        }
                //        $('#ddlDept_mdlPackageItem').append(div_data);
                //    }
                //});

            });


           $('[id$="btnSubmit_mdlAddLink"]').click(function () {

                var Index = $('#lbl_Index_mdlAddLink').text();
                if (Index == '-1') {
                    var counter = 0;
                    var newRow = $("<tr>");
                    var cols = "";
                    cols += '<td>' + $('#txtLinkCode_mdlAddLink').val().replace("'", "") + '</td>';
                    cols += '<td>' + $('#txtLinkDesc_mdlAddLink').val().replace("'", "") + '</td>';
                    cols += '<td>' + "" + '</td>';
                    cols += '<td style="width: 5%; text-align:center"><div class="tools"><i class="edit_mdlAddLink glyphicon glyphicon-pencil"></i></div></td>';
                    newRow.append(cols);
                    $("#LinkModule").append(newRow);
                    counter++;
                }
                else {
                    $('#LinkModule tr').eq(Index).find('td:eq(0)').html($('#txtLinkCode_mdlAddLink').val().replace("'", ""));
                    $('#LinkModule tr').eq(Index).find('td:eq(1)').html($('#txtLinkDesc_mdlAddLink').val().replace("'", ""));
                    $('#LinkModule tr').eq(Index).find('td:eq(2)').html("");
                    $('#LinkModule tr').eq(Index).find('td:eq(3)').html('<div class="tools"><i class="edit_mdlAddLink glyphicon glyphicon-pencil"></div>');

                }
                $("#mdlAddLink").modal('hide');
            });

           $(document).on("click", ".edit_mdlAddLink", function () {
                $("#mdlAddLink").modal();
                var rowIndex = $('#LinkModule tr').index($(this).closest('tr'));
                $("#mdlAddLink #lbl_Type_mdlAddLink").text('Edit');
                $("#mdlAddLink #lbl_Index_mdlAddLink").text(rowIndex);
                $("#mdlAddLink #txtLinkCode_mdlAddLink").val($('#LinkModule tr').eq(rowIndex).find('td:eq(0)').html());
                $("#mdlAddLink #txtLinkDesc_mdlAddLink").val($('#LinkModule tr').eq(rowIndex).find('td:eq(1)').html()).trigger();
            });


            function valueInTableUOMModule(tableID, columnNum, searchString) {
                var found = false;
                $("#UOMModule tr").each(function () {
                    var itemCode = $(this).find("td").eq(1).html();
                    if (itemCode == searchString) {
                        found = true;
                        return false;
                    }
                });

                return found;
            }


            $('[id$="btnSubmit_mdlAddUOM"]').click(function () {

                var _Code = $('#ddlUomCDesc_mdladdUom').val();
                if (valueInTableUOMModule('UOMModule', 0, _Code)) {
                    alert("Code already Exists");
                    return false;
                }

                var counter = 0;
                var newRow = $("<tr>");
                var cols = "";
                cols += '<td>' + "" + '</td>';
                cols += '<td>' + $('#ddlUomCDesc_mdladdUom').val() + '</td>';
                cols += '<td>' + $('#ddlUomCDesc_mdladdUom').find("option:selected").text() + '</td>';
                cols += '<td>' + "=" + '</td>';
                cols += '<td>' + $('#addUOMUnit_mdlAddUom').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#ddlUomDesc_mdladdUom').val().replace("'", "") + '</td>';
                cols += '<td>' + $('#ddlUomDesc_mdladdUom').find("option:selected").text() + '</td>';
                cols += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_mdlAddUOM glyphicon glyphicon-trash"></i></div></td>';
                newRow.append(cols);
                $("#UOMModule").append(newRow);

                var newRow1 = $("<tr>");
                var cols1 = "";
                cols1 += '<td>' + "" + '</td>';
                cols1 += '<td>' + $('#ddlUomCDesc_mdladdUom').val() + '</td>';
                cols1 += '<td style="width: 20%;"><input type="number" style="width: 100%; Height:30px;" class="form-control" id="txtPrice_ItemMaster" runat="server" maxlength="255" placeholder="Enter Price"></td>';
                cols1 += '<td style="width: 20%;"><input type="number" style="width: 100%; Height:30px;" class="form-control" id="txtCost_ItemMaster" runat="server" maxlength="255" placeholder="Enter Cost"></td>';
                cols1 += '<td style="width: 20%;"><input type="number" style="width: 100%; Height:30px;" class="form-control" id="txtMargin_ItemMaster" runat="server" maxlength="255" placeholder="Enter Margin"></td>';
                cols1 += '<td style="width: 10%; text-align:center"><div class="tools"><i class="Remove_mdlAddUOMEntry glyphicon glyphicon-trash"></i></div></td>';
                newRow1.append(cols1);
                $("#UOMEntryModule").append(newRow1);

                $('#UOMModule').find('tr').each(
                    function (i) {
                        $('#UOMModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });

                $('#UOMEntryModule').find('tr').each(
                    function (i) {
                        $('#UOMEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });


                counter++;
                $("#mdlAddUOM").modal('hide');

            });

            //$('.input_Price').on('change keyup', function () {
            //     alert("axddf");
            //    //var rowIndex = $('#UOMEntryModule tr').index($(this).closest('tr'));
            //    //alert(rowIndex);
            //}); 


            //$('[id$="txtPrice_ItemMaster"]').change(function () {
            //    var rowIndex = $('#UOMEntryModule tr').index($(this).closest('tr'));
            //    alert(rowIndex);
            //});


            $(document).on("click", ".Remove_mdlAddUOM", function () {
                var rowIndex = $('#UOMModule tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();
                document.getElementById("UOMEntryModule").deleteRow(rowIndex);

                $('#UOMModule').find('tr').each(
                    function (i) {
                        $('#UOMModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });

                $('#UOMEntryModule').find('tr').each(
                    function (i) {
                        $('#UOMEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });

            });

            $(document).on("click", ".Remove_mdlAddUOMEntry", function () {
                var rowIndex = $('#UOMEntryModule tr').index($(this).closest('tr'));
                $(this).closest("tr").remove();
                document.getElementById("UOMModule").deleteRow(rowIndex);

                $('#UOMModule').find('tr').each(
                    function (i) {
                        $('#UOMModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });

                $('#UOMEntryModule').find('tr').each(
                    function (i) {
                        $('#UOMEntryModule').find('tr:eq(' + (i + 1) + ') td:eq(0)').text((i + 1));
                    });

            });


            $("#fileupload").change(function () {
                fileName = $(this).val();
                $('#lblImageName').text(fileName);
                $("#dvPreview").append("<img />");
                $('#removeImg').show();
                var reader = new FileReader();
                reader.onload = function (e) {
                    $("#dvPreview img").attr("src", e.target.result).css('height', '50px');
                }
                reader.readAsDataURL($(this)[0].files[0]);
            });

            $('#removeImg').click(function () {
                $("#dvPreview").html('');
                $('#lblImageName').text('');
                $('#removeImg').hide();
            });


            //Mari
            //poreq

            $(function () {
                $('#itemSearchPOReq').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=ItemUsage',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Link Code/Item Code/Item Name/Brand/Range "
                    },
                    'columns': [
                        null, null, null, null, null, null, null, null, null,
                        {
                            'data': null,
                            'render': function (data, type, row, meta) {
                                data = '<i class="edit_mdlAddItemUsage glyphicon glyphicon-pencil"></i></a>';
                                return data;
                            }
                        }


                    ]
                });
            });

            function showAlert(Msg, MsgType, MsgDuration) {

                if (MsgType == 'Error') {
                    document.getElementById('lblErrorMessage').innerText = Msg;
                    if (MsgDuration == 'Short') {
                        $("#Alert_Error").removeClass('hide').slideDown(500, function () {
                            $(this).delay(500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Medium') {
                        $("#Alert_Error").removeClass('hide').slideDown(500, function () {
                            $(this).delay(1500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Long') {
                        $("#Alert_Error").removeClass('hide').slideDown(500, function () {
                            $(this).delay(2500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                }
                if (MsgType == 'Success') {
                    document.getElementById('lblSuccessMessage').innerText = Msg;
                    if (MsgDuration == 'Short') {
                        $("#Alert_Sucess").removeClass('hide').slideDown(500, function () {
                            $(this).delay(500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Medium') {
                        $("#Alert_Sucess").removeClass('hide').slideDown(500, function () {
                            $(this).delay(1500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Long') {
                        $("#Alert_Sucess").removeClass('hide').slideDown(500, function () {
                            $(this).delay(2500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }

                }
                if (MsgType == 'Warning') {
                    document.getElementById('lblWarningMessage').innerText = Msg;
                    if (MsgDuration == 'Short') {
                        $("#Alert_Warning").removeClass('hide').slideDown(500, function () {
                            $(this).delay(500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Medium') {
                        $("#Alert_Warning").removeClass('hide').slideDown(500, function () {
                            $(this).delay(1500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                    if (MsgDuration == 'Long') {
                        $("#Alert_Warning").removeClass('hide').slideDown(500, function () {
                            $(this).delay(2500).fadeTo(2000, 500).slideUp(500, function () {
                                $(this).addClass('hide');
                            });
                        });
                    }
                }



            };

            $(function () {
                $('#tblSiteList').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=SiteList',
                    'paging': true,
                    'lengthChange': true,
                    'searching': false,
                    'ordering': true,
                    'info': false,
                    'autoWidth': true,
                    'columns': [
                        {
                            'data': 'itemsiteId',
                            'render': function (data, type, row, meta) {
                                data = '<a href="#"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null]
                })
            });

            $(function () {
                $('#tblVendorList').DataTable({
                    'sAjaxSource': 'Utilities/DataModels.ashx?ID=Supplier',
                    'paging': true,
                    'lengthChange': true,
                    'searching': true,
                    'ordering': true,
                    'info': true,
                    'autoWidth': true,
                    language: {
                        searchPlaceholder: "Search By Supply Code/ Supplier Name/ Supply Date / Active / Contact No/ No.of POS"
                    },
                    'columns': [
                        {
                            'data': 'splyCode',
                            'render': function (data, type, row, meta) {
                                data = '<a href="VendorMaster.aspx?PKey=' + row[0] + '"><font color="#6a6000"><b>' + row[0] + '</b></a>';
                                return data;
                            }
                        }, null, null, null, null, null
                    ]
                })
            });

            $(".btnFillter_tblVendorList .btn").click(function () {

                var inputValue = $(this).find("input").val();
                var table = $('#tblVendorList').DataTable();
                table
                    .column(3)
                    .search(inputValue)
                    .draw();
            });

            $(".txtCodeDivMaster").on("change", function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=CodeCheckExist&PKey=' + "Div" + '&PKey1=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtCode_DivMaster"]').val(Json.aaData[0][0]);
                        if (Json.aaData[0][0] == "") {
                            alert("Code already Exists");
                            $(".txtCodeDivMaster").focus();
                        }
                        else {

                        }
                    }
                });
            });

            $(".txtDeptCodeDeptMaster").on("change", function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=CodeCheckExist&PKey=' + "Dept" + '&PKey1=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtDeptCode_DeptMaster"]').val(Json.aaData[0][0]);
                        if (Json.aaData[0][0] == "") {
                            alert("Code already Exists");
                            $(".txtDeptCodeDeptMaster").focus();
                        }
                        else {

                        }
                    }
                });
            });

            $(".txtDeptCodeDeptMastermdl").on("change", function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=CodeCheckExist&PKey=' + "Dept" + '&PKey1=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtDeptCode_mdlAddDept"]').val(Json.aaData[0][0]);
                        if (Json.aaData[0][0] == "") {
                            alert("Code already Exists");
                            $(".txtDeptCodeDeptMastermdl").focus();
                        }
                        else {

                        }
                    }
                });
            });

            $(".txtCodeClassMaster").on("change", function () {
                $.ajax({
                    type: 'POST',
                    url: 'Utilities/DataModels.ashx?ID=CodeCheckExist&PKey=' + "Class" + '&PKey1=' + this.value + '',
                    dataType: "json",
                    Cache: false,
                    success: function (data) {
                        var JsonArray = JSON.stringify(data);
                        var Json = JSON.parse(JsonArray);
                        $('[id$="txtCode_ClassMaster"]').val(Json.aaData[0][0]);
                        if (Json.aaData[0][0] == "") {
                            alert("Code already Exists");
                            $(".txtCodeClassMaster").focus();
                        }
                        else {

                        }
                    }
                });
            });

        </script>

    </form>
</body>

</html>
